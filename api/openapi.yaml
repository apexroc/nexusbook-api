openapi: 3.0.0
info:
  title: NexusBook OpenAPI
  description: |-
    NexusBook OpenAPI

    一个功能强大的开源文档管理和数据协作平台 API。

    ## 主要功能模块

    ### 1. 文档管理 (`/doc`)
    - **元数据** - 字段定义、类型和验证配置
    - **视图** - 多种视图类型支持（表格/相册/看板/文档）
    - **数据** - 结构化数据行管理和查询
    - **修订** - 版本控制和历史记录
    - **评论** - 多层级评论系统（文档级/字段级/行级）
    - **审批** - 工作流审批流程
    - **请求** - 变更请求和合并机制
    - **设置** - 文档级和类型级配置

    ### 2. 认证与授权 (`/auth`)
    - OAuth2 客户端应用管理
    - OIDC 身份提供商集成
    - JWT 令牌管理
    - 用户信息和权限

    ### 3. 扩展功能 (`/webhooks`)
    - **Webhooks** - 事件驱动的通知机制
    - 支持 Request、Approval、Comment、Metadata、View 等事件
    - 自动重试和签名验证
    - 投递历史和统计

    ## API 调用示例

    ```bash
    # 获取聚合文档包
    curl -H 'Authorization: Bearer TOKEN' \
      'https://open.nexusbook.app/api/v1/doc/product/123?include=metadata,views,data'

    # 创建数据行
    curl -X POST 'https://open.nexusbook.app/api/v1/doc/product/123/data' \
      -H 'Authorization: Bearer TOKEN' \
      -H 'Content-Type: application/json' \
      -d '{"id":"row-1","values":[{"fieldId":"name","value":{"text":"新产品"}}]}'
    ```

    ## 认证

    所有 API 请求需要在请求头中包含有效的 Bearer Token：
    ```
    Authorization: Bearer <access_token>
    ```

    获取 Token 的方式：
    1. 使用客户端凭证流程: POST /auth/token
    2. 使用授权码流程: GET /auth/authorize + POST /auth/token

    ## 错误处理

    所有错误响应遵循统一的格式：
    ```json
    {
      "success": false,
      "code": "ERROR_CODE",
      "message": {
        "zh": "错误信息（中文）",
        "en": "Error message (English)"
      }
    }
    ```

    ## 分页和查询

    支持多种查询方式：
    - 简单分页：`page`, `pageSize`
    - 高级查询：嵌套过滤、排序、分组和聚合
    - 游标分页：用于深分页场景

    ## 并发控制

    数据行使用版本号 (version) 进行并发控制。更新时需要提供当前版本号。
  version: 0.0.0
servers:
  - url: https://open-sit.nexusbook.com
    description: 测试环境 (SIT)
    variables: {}
  - url: https://open.nexusbook.app
    description: 生产环境 (Production)
    variables: {}
tags:
  - name: OAuth
    description: OAuth2/OIDC 认证
    x-displayName: OAuth
  - name: Authentication
    description: 用户注册与登录
    x-displayName: Authentication
  - name: API Keys
    description: API 密钥管理
    x-displayName: API Keys
  - name: OAuth Clients
    x-displayName: OAuth Clients
  - name: OIDC Providers - Public
    x-displayName: OIDC Providers - Public
  - name: OIDC Providers - Admin
    x-displayName: OIDC Providers - Admin
  - name: OAuth Login
    x-displayName: OAuth Login
  - name: OAuth Extensions
    x-displayName: OAuth Extensions
  - name: Users
    description: 用户管理
    x-displayName: Users
  - name: Organizations
    description: 组织管理
    x-displayName: Organizations
  - name: Workspaces
    description: 工作区管理
    x-displayName: Workspaces
  - name: Invitations
    description: 邀请管理
    x-displayName: Invitations
  - name: Join Requests
    description: 加入申请
    x-displayName: Join Requests
  - name: Catalog
    description: 产品目录管理（供应商侧）
    x-displayName: Catalog
  - name: OrderBook
    description: 订货本管理（采购商侧）
    x-displayName: OrderBook
  - name: Connection
    description: 跨组织数据分享与传播
    x-displayName: Connection
  - name: Connector
    description: 组织内部文档联动
    x-displayName: Connector
  - name: Document - Core
    description: 核心功能（聚合查询、元数据、设置）
    x-displayName: Document - Core
  - name: Document - Data
    description: 数据行管理
    x-displayName: Document - Data
  - name: Document - Workflow
    description: 工作流（审批、变更请求、修订）
    x-displayName: Document - Workflow
  - name: Document - Properties
    description: 文档属性
    x-displayName: Document - Properties
  - name: Document - Views
    description: 视图管理
    x-displayName: Document - Views
  - name: Document - Collaboration
    description: 协作功能（评论、实时）
    x-displayName: Document - Collaboration
  - name: Document - Relations
    description: 文档关联
    x-displayName: Document - Relations
  - name: Attachments
    x-displayName: Attachments
  - name: Document - Sync
    description: 数据同步
    x-displayName: Document - Sync
  - name: Realtime
    x-displayName: Realtime
  - name: Organization Documents
    x-displayName: Organization Documents
  - name: Workspace Documents
    x-displayName: Workspace Documents
  - name: Webhooks
    description: Webhook 管理
    x-displayName: Webhooks
  - name: Internationalization
    description: 国际化翻译
    x-displayName: Internationalization
  - name: User Preferences
    description: 用户偏好设置
    x-displayName: User Preferences
  - name: Subscription Plans
    description: 订阅计划管理
    x-displayName: Subscription Plans
  - name: Subscription Management
    description: 订阅管理
    x-displayName: Subscription Management
  - name: Invoices
    description: 账单管理
    x-displayName: Invoices
  - name: Payment Methods
    description: 支付方式管理
    x-displayName: Payment Methods
  - name: Usage & Quota
    description: 使用量与配额管理
    x-displayName: Usage & Quota
  - name: Audit Logs
    description: 审计日志
    x-displayName: Audit Logs
  - name: Compliance
    description: 合规性报告
    x-displayName: Compliance
  - name: Document - Attachments
    description: 附件管理
    x-displayName: Document - Attachments
  - name: Document - Tenancy
    description: 多租户（组织/工作区级文档）
    x-displayName: Document - Tenancy
paths:
  /.well-known/openid-configuration:
    get:
      operationId: AuthApi_openidConfiguration
      summary: OIDC元数据
      description: |-
        返回 OIDC 提供方的标准发现文档。

        Return OIDC provider discovery document.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Auth.ProviderMetadata'
      tags:
        - OAuth
  /api/v1/admin/oidc/providers:
    get:
      operationId: OidcProviderAdminApi_listAllProviders
      summary: 列出所有 OIDC 提供商配置
      description: |-
        列出所有 OIDC 提供商配置（管理员）
        List all OIDC provider configurations (admin)

        获取所有 OIDC 提供商的完整配置信息，包括密钥等敏感信息。
        Get complete configuration of all OIDC providers, including sensitive data like secrets.

        权限要求：平台管理员
        Permission required: Platform administrator

        示例：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/admin/oidc/providers' \
          -H 'Authorization: Bearer ADMIN_TOKEN'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Auth.OidcProviderConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OIDC Providers - Admin
    post:
      operationId: OidcProviderAdminApi_addOidcProvider
      summary: 添加 OIDC 提供商
      description: |-
        添加 OIDC 提供商配置（管理员）
        Add OIDC provider configuration (admin)

        添加新的 OIDC 提供商配置，需要管理员权限。
        Add new OIDC provider configuration, requires admin permission.

        示例（Google）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/admin/oidc/providers' \
          -H 'Authorization: Bearer ADMIN_TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "providerType": "google",
            "name": "Google",
            "clientId": "YOUR_GOOGLE_CLIENT_ID",
            "clientSecret": "YOUR_GOOGLE_CLIENT_SECRET",
            "scopes": ["openid", "profile", "email"]
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.OidcProviderConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OIDC Providers - Admin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.AddOidcProviderRequest'
  /api/v1/admin/oidc/providers/{providerId}:
    get:
      operationId: OidcProviderAdminApi_getOidcProvider
      summary: 获取 OIDC 提供商配置
      description: |-
        获取 OIDC 提供商配置（管理员）
        Get OIDC provider configuration (admin)

        获取指定 OIDC 提供商的完整配置信息。
        Get complete configuration of specified OIDC provider.
      parameters:
        - name: providerId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.OidcProviderConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OIDC Providers - Admin
    patch:
      operationId: OidcProviderAdminApi_updateOidcProvider
      summary: 更新 OIDC 提供商配置
      description: |-
        更新 OIDC 提供商配置（管理员）
        Update OIDC provider configuration (admin)

        更新指定 OIDC 提供商的配置信息。
        Update configuration of specified OIDC provider.
      parameters:
        - name: providerId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.OidcProviderConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OIDC Providers - Admin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.UpdateOidcProviderRequest'
    delete:
      operationId: OidcProviderAdminApi_deleteOidcProvider
      summary: 删除 OIDC 提供商配置
      description: |-
        删除 OIDC 提供商配置（管理员）
        Delete OIDC provider configuration (admin)

        删除指定的 OIDC 提供商配置。
        Delete specified OIDC provider configuration.
      parameters:
        - name: providerId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OIDC Providers - Admin
  /api/v1/api-keys:
    post:
      operationId: ApiKeyApi_createApiKey
      summary: 创建 API Key
      description: |-
        创建 API Key
        Create API Key

        创建新的 API 密钥。密钥只在创建时返回完整内容，请妥善保存。
        Create new API key. Full key is only returned on creation, please save it securely.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/api-keys' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "生产环境 API Key",
            "description": "用于生产环境的后端服务",
            "scopes": ["doc:read", "doc:write", "data:read", "data:write"],
            "expiresInDays": 365,
            "rateLimit": 1000
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.ApiKey'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.CreateApiKeyRequest'
    get:
      operationId: ApiKeyApi_listApiKeys
      summary: 列出 API Keys
      description: |-
        列出 API Keys
        List API Keys

        获取当前用户的所有 API 密钥列表。
        Get list of all API keys for current user.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/api-keys?page=1&pageSize=20&status=active' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: page
          in: query
          required: false
          description: |-
            页码（从1开始）
            Page number (starts from 1)
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
        - name: status
          in: query
          required: false
          description: |-
            按状态筛选
            Filter by status
          schema:
            $ref: '#/components/schemas/Auth.ApiKeyStatus'
          explode: false
        - name: organizationId
          in: query
          required: false
          description: |-
            按组织ID筛选
            Filter by organization ID
          schema:
            type: string
          explode: false
        - name: workspaceId
          in: query
          required: false
          description: |-
            按工作区ID筛选
            Filter by workspace ID
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Auth.ApiKey'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
  /api/v1/api-keys/batch-revoke:
    post:
      operationId: ApiKeyApi_batchRevokeApiKeys
      summary: 批量吊销 API Keys
      description: |-
        批量吊销 API Keys
        Batch revoke API Keys

        批量吊销多个 API 密钥。
        Batch revoke multiple API keys.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/api-keys/batch-revoke' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "apiKeyIds": ["key-1", "key-2", "key-3"]
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      revokedCount:
                        type: integer
                        format: int32
                        description: |-
                          成功吊销的数量
                          Successfully revoked count
                      failed:
                        type: array
                        items:
                          type: string
                        description: |-
                          失败的 API Key IDs
                          Failed API Key IDs
                    required:
                      - revokedCount
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                apiKeyIds:
                  type: array
                  items:
                    type: string
                  description: |-
                    API Key ID 列表
                    API Key ID list
              required:
                - apiKeyIds
  /api/v1/api-keys/{apiKeyId}:
    get:
      operationId: ApiKeyApi_getApiKey
      summary: 获取 API Key 详情
      description: |-
        获取 API Key 详情
        Get API Key details

        获取指定 API 密钥的详细信息（不包含完整密钥）。
        Get details of specified API key (without full key).
      parameters:
        - name: apiKeyId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.ApiKey'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
    patch:
      operationId: ApiKeyApi_updateApiKey
      summary: 更新 API Key
      description: |-
        更新 API Key
        Update API Key

        更新 API 密钥的配置信息。
        Update API key configuration.

        示例（cURL）：
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/api-keys/{apiKeyId}' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "生产环境 API Key (更新)",
            "scopes": ["doc:read", "data:read"],
            "rateLimit": 500
          }'
        ```
      parameters:
        - name: apiKeyId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.ApiKey'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.UpdateApiKeyRequest'
    delete:
      operationId: ApiKeyApi_deleteApiKey
      summary: 删除 API Key
      description: |-
        删除 API Key
        Delete API Key

        彻底删除 API 密钥及其所有使用记录。
        Permanently delete API key and all its usage logs.

        示例（cURL）：
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/api-keys/{apiKeyId}' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: apiKeyId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
  /api/v1/api-keys/{apiKeyId}/logs:
    get:
      operationId: ApiKeyApi_getApiKeyUsageLogs
      summary: 获取使用记录
      description: |-
        获取 API Key 使用记录
        Get API Key usage logs

        获取 API 密钥的使用记录。
        Get usage logs of API key.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/api-keys/{apiKeyId}/logs?page=1&pageSize=50&startTime=2024-12-01T00:00:00Z&endTime=2024-12-05T23:59:59Z' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: apiKeyId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 50
          explode: false
        - name: startTime
          in: query
          required: false
          description: |-
            开始时间
            Start time
          schema:
            type: string
          explode: false
        - name: endTime
          in: query
          required: false
          description: |-
            结束时间
            End time
          schema:
            type: string
          explode: false
        - name: method
          in: query
          required: false
          description: |-
            按方法筛选
            Filter by method
          schema:
            type: string
          explode: false
        - name: path
          in: query
          required: false
          description: |-
            按路径筛选
            Filter by path
          schema:
            type: string
          explode: false
        - name: statusCode
          in: query
          required: false
          description: |-
            按状态码筛选
            Filter by status code
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Auth.ApiKeyUsageLog'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
  /api/v1/api-keys/{apiKeyId}/regenerate:
    post:
      operationId: ApiKeyApi_regenerateApiKey
      summary: 重新生成 API Key
      description: |-
        重新生成 API Key
        Regenerate API Key

        重新生成 API 密钥。旧密钥立即失效，新密钥只返回一次。
        Regenerate API key. Old key is immediately invalidated, new key is returned only once.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/api-keys/{apiKeyId}/regenerate' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: apiKeyId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.ApiKey'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
  /api/v1/api-keys/{apiKeyId}/revoke:
    post:
      operationId: ApiKeyApi_revokeApiKey
      summary: 吊销 API Key
      description: |-
        吊销 API Key
        Revoke API Key

        永久吊销 API 密钥，吊销后无法恢复。
        Permanently revoke API key, cannot be restored after revocation.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/api-keys/{apiKeyId}/revoke' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: apiKeyId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
  /api/v1/api-keys/{apiKeyId}/stats:
    get:
      operationId: ApiKeyApi_getApiKeyUsageStats
      summary: 获取使用统计
      description: |-
        获取 API Key 使用统计
        Get API Key usage statistics

        获取 API 密钥的使用统计信息。
        Get usage statistics of API key.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/api-keys/{apiKeyId}/stats?period=7d' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: apiKeyId
          in: path
          required: true
          schema:
            type: string
        - name: period
          in: query
          required: false
          description: |-
            统计周期（1h, 24h, 7d, 30d, 90d）
            Statistics period (1h, 24h, 7d, 30d, 90d)
          schema:
            type: string
            default: 7d
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.ApiKeyUsageStats'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - API Keys
  /api/v1/auth/change-password:
    post:
      operationId: AuthenticationApi_changePassword
      summary: 修改密码
      description: |-
        修改密码
        Change password

        修改当前用户的密码（需要认证）。
        Change current user's password (requires authentication).
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.ChangePasswordRequest'
  /api/v1/auth/forgot-password:
    post:
      operationId: AuthenticationApi_forgotPassword
      summary: 忘记密码
      description: |-
        请求密码重置
        Request password reset

        发送密码重置验证码。
        Send password reset verification code.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      sent:
                        type: boolean
                      expiresIn:
                        type: integer
                        format: int32
                    required:
                      - sent
                      - expiresIn
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                target:
                  type: string
                  description: |-
                    邮箱或手机号
                    Email or phone number
              required:
                - target
  /api/v1/auth/login:
    post:
      operationId: AuthenticationApi_login
      summary: 用户登录
      description: |-
        用户登录
        User login

        支持多种登录方式：邮箱+密码、手机+验证码、OAuth。
        Supports multiple login methods: email+password, phone+code, OAuth.

        示例（邮箱登录）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/auth/login' \
          -H 'Content-Type: application/json' \
          -d '{
            "email": "user@example.com",
            "password": "SecurePassword123!",
            "rememberMe": true
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.LoginResponse'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.LoginRequest'
  /api/v1/auth/logout:
    post:
      operationId: AuthenticationApi_logout
      summary: 退出登录
      description: |-
        退出登录
        Logout

        吊销当前访问令牌和刷新令牌。
        Revoke current access and refresh tokens.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
  /api/v1/auth/oauth/linked-accounts:
    get:
      operationId: OAuthLoginApi_listLinkedAccounts
      summary: 列出关联的第三方账号
      description: |-
        列出关联的第三方账号
        List linked third-party accounts

        获取当前用户关联的所有第三方账号。
        Get all linked third-party accounts for current user.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Auth.LinkedAccount'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Login
  /api/v1/auth/oauth/linked-accounts/{linkId}:
    delete:
      operationId: OAuthLoginApi_unlinkOAuthAccount
      summary: 解除第三方账号关联
      description: |-
        解除第三方账号关联
        Unlink third-party account

        解除当前用户与指定第三方账号的关联。
        Unlink specified third-party account from current user.
      parameters:
        - name: linkId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Login
  /api/v1/auth/oauth/{provider}/authorize:
    get:
      operationId: OAuthLoginApi_getOAuthLoginUrl
      summary: 获取 OAuth 登录 URL
      description: |-
        获取 OAuth 登录 URL
        Get OAuth login URL

        生成第三方 OAuth 登录的授权 URL。
        Generate authorization URL for third-party OAuth login.

        示例（Google 登录）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/auth/oauth/google/authorize?redirectUri=https://myapp.com/callback'
        ```
      parameters:
        - name: provider
          in: path
          required: true
          schema:
            type: string
        - name: redirectUri
          in: query
          required: true
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.OAuthLoginUrlResponse'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Login
  /api/v1/auth/oauth/{provider}/callback:
    post:
      operationId: OAuthLoginApi_handleOAuthCallback
      summary: OAuth 回调处理
      description: |-
        OAuth 回调处理
        OAuth callback handler

        处理第三方 OAuth 提供商的回调，完成登录或账号关联。
        Handle OAuth provider callback, complete login or account linking.

        示例（Google 回调）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/auth/oauth/google/callback' \
          -H 'Content-Type: application/json' \
          -d '{
            "code": "AUTHORIZATION_CODE",
            "state": "STATE_CODE",
            "redirectUri": "https://myapp.com/callback"
          }'
        ```
      parameters:
        - name: provider
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      accessToken:
                        type: string
                        description: |-
                          访问令牌
                          Access token
                      refreshToken:
                        type: string
                        description: |-
                          刷新令牌
                          Refresh token
                      tokenType:
                        type: string
                        enum:
                          - Bearer
                        description: |-
                          令牌类型
                          Token type
                      expiresIn:
                        type: integer
                        format: int32
                        description: |-
                          过期时间（秒）
                          Expires in seconds
                      user:
                        type: object
                        properties:
                          id:
                            type: string
                          email:
                            type: string
                          displayName:
                            type: string
                          avatarUrl:
                            type: string
                        required:
                          - id
                          - displayName
                        description: |-
                          用户信息
                          User info
                      isNewAccount:
                        type: boolean
                        description: |-
                          是否新创建的账号
                          Is newly created account
                    required:
                      - accessToken
                      - refreshToken
                      - tokenType
                      - expiresIn
                      - user
                      - isNewAccount
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.OAuthCallbackRequest'
  /api/v1/auth/oauth/{provider}/link:
    post:
      operationId: OAuthLoginApi_linkOAuthAccount
      summary: 关联第三方账号
      description: |-
        关联第三方账号
        Link third-party account

        将第三方 OAuth 账号关联到当前用户（需要已登录）。
        Link third-party OAuth account to current user (requires authentication).
      parameters:
        - name: provider
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.LinkedAccount'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.OAuthCallbackRequest'
  /api/v1/auth/refresh:
    post:
      operationId: AuthenticationApi_refreshToken
      summary: 刷新令牌
      description: |-
        刷新令牌
        Refresh token

        使用刷新令牌获取新的访问令牌。
        Use refresh token to get new access token.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      accessToken:
                        type: string
                      refreshToken:
                        type: string
                      expiresIn:
                        type: integer
                        format: int32
                    required:
                      - accessToken
                      - refreshToken
                      - expiresIn
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                refreshToken:
                  type: string
                  description: |-
                    刷新令牌
                    Refresh token
              required:
                - refreshToken
  /api/v1/auth/register:
    post:
      operationId: AuthenticationApi_register
      summary: 用户注册
      description: |-
        用户注册
        User registration

        支持邮箱注册和手机号注册。
        Supports email and phone registration.

        示例（邮箱注册）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/auth/register' \
          -H 'Content-Type: application/json' \
          -d '{
            "email": "user@example.com",
            "password": "SecurePassword123!",
            "displayName": "张三",
            "agreeToTerms": true
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.LoginResponse'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.RegisterRequest'
  /api/v1/auth/reset-password:
    post:
      operationId: AuthenticationApi_resetPassword
      summary: 重置密码
      description: |-
        重置密码
        Reset password

        使用验证码重置密码。
        Reset password using verification code.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.ResetPasswordRequest'
  /api/v1/auth/sessions:
    get:
      operationId: AuthenticationApi_listSessions
      summary: 列出会话
      description: |-
        列出活跃会话
        List active sessions

        获取当前用户的所有活跃会话。
        Get all active sessions of current user.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Auth.Session'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
  /api/v1/auth/sessions/revoke-all:
    post:
      operationId: AuthenticationApi_revokeAllOtherSessions
      summary: 吊销所有其他会话
      description: |-
        吊销所有其他会话
        Revoke all other sessions

        吊销除当前会话外的所有会话。
        Revoke all sessions except the current one.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      revokedCount:
                        type: integer
                        format: int32
                    required:
                      - revokedCount
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
  /api/v1/auth/sessions/{sessionId}:
    delete:
      operationId: AuthenticationApi_revokeSession
      summary: 吊销会话
      description: |-
        吊销会话
        Revoke session

        吊销指定的会话。
        Revoke specified session.
      parameters:
        - name: sessionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
  /api/v1/auth/two-factor/disable:
    post:
      operationId: AuthenticationApi_disableTwoFactor
      summary: 禁用两步验证
      description: |-
        禁用两步验证
        Disable two-factor authentication

        禁用当前用户的两步验证。
        Disable two-factor authentication for current user.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                password:
                  type: string
                  description: |-
                    当前密码或验证码
                    Current password or verification code
              required:
                - password
  /api/v1/auth/two-factor/enable:
    post:
      operationId: AuthenticationApi_enableTwoFactor
      summary: 启用两步验证
      description: |-
        启用两步验证
        Enable two-factor authentication

        确认并启用两步验证。
        Confirm and enable two-factor authentication.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                      backupCodes:
                        type: array
                        items:
                          type: string
                    required:
                      - enabled
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.EnableTwoFactorRequest'
  /api/v1/auth/two-factor/setup:
    post:
      operationId: AuthenticationApi_setupTwoFactor
      summary: 设置两步验证
      description: |-
        设置两步验证
        Setup two-factor authentication

        初始化两步验证设置，返回 TOTP 密钥或备用码。
        Initialize two-factor setup, returns TOTP secret or backup codes.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.TwoFactorSetupResponse'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                method:
                  allOf:
                    - $ref: '#/components/schemas/Auth.TwoFactorMethod'
                  description: |-
                    两步验证方式
                    Two-factor method
              required:
                - method
  /api/v1/auth/verification-code:
    post:
      operationId: AuthenticationApi_sendVerificationCode
      summary: 发送验证码
      description: |-
        发送验证码
        Send verification code

        发送验证码到邮箱或手机号。
        Send verification code to email or phone.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      sent:
                        type: boolean
                        description: |-
                          发送成功
                          Send success
                      expiresIn:
                        type: integer
                        format: int32
                        description: |-
                          过期时间（秒）
                          Expires in seconds
                    required:
                      - sent
                      - expiresIn
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Authentication
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.SendVerificationCodeRequest'
  /api/v1/billing/plans:
    get:
      operationId: SubscriptionPlansApi_listPlans
      summary: 列出订阅计划
      description: 列出可用订阅计划
      parameters:
        - name: includeArchived
          in: query
          required: false
          description: 是否包含已归档计划
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Billing.SubscriptionPlan'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Subscription Plans
  /api/v1/billing/plans/{planId}:
    get:
      operationId: SubscriptionPlansApi_getPlan
      summary: 获取订阅计划详情
      description: 获取订阅计划详情
      parameters:
        - name: planId
          in: path
          required: true
          description: 计划 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Billing.SubscriptionPlan'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Subscription Plans
  /api/v1/i18n/currencies:
    get:
      operationId: I18nApi_listCurrencies
      summary: 获取货币列表
      description: |-
        获取货币列表
        Get currency list

        获取系统支持的货币列表。
        Get list of supported currencies.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/i18n/currencies' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: includeInactive
          in: query
          required: false
          description: |-
            是否包含不活跃的货币
            Whether to include inactive currencies
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      currencies:
                        type: array
                        items:
                          $ref: '#/components/schemas/I18n.Currency'
                        description: |-
                          货币列表
                          Currencies
                    required:
                      - currencies
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
  /api/v1/i18n/detect-language:
    post:
      operationId: I18nApi_detectLanguage
      summary: 检测文本语言
      description: |-
        检测文本语言
        Detect text language

        自动检测给定文本的语言。
        Automatically detect language of given text.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/i18n/detect-language' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{"text": "这是一段测试文本"}'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      detectedLanguage:
                        type: string
                        description: |-
                          检测到的语言
                          Detected language
                      confidence:
                        type: number
                        format: double
                        description: |-
                          置信度
                          Confidence
                      alternatives:
                        type: array
                        items:
                          $ref: '#/components/schemas/I18n.LanguageDetection'
                        description: |-
                          备选语言
                          Alternative languages
                    required:
                      - detectedLanguage
                      - confidence
                      - alternatives
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                text:
                  type: string
                  description: |-
                    待检测文本
                    Text to detect
              required:
                - text
  /api/v1/i18n/format-preview:
    post:
      operationId: I18nApi_formatPreview
      summary: 格式化数据预览
      description: |-
        格式化数据预览
        Format data preview

        根据指定的语言和格式设置预览格式化结果。
        Preview formatting results based on specified language and format settings.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/i18n/format-preview' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "language": "zh",
            "timezone": "Asia/Shanghai",
            "dateFormat": "YYYY-MM-DD",
            "timeFormat": "24h",
            "currency": "CNY",
            "samples": {
              "date": "2024-12-06T10:30:00Z",
              "number": 1234567.89,
              "currency": 9999.99
            }
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      formatted:
                        type: object
                        properties:
                          date:
                            type: string
                            description: |-
                              格式化的日期
                              Formatted date
                          time:
                            type: string
                            description: |-
                              格式化的时间
                              Formatted time
                          datetime:
                            type: string
                            description: |-
                              格式化的日期时间
                              Formatted datetime
                          number:
                            type: string
                            description: |-
                              格式化的数字
                              Formatted number
                          currency:
                            type: string
                            description: |-
                              格式化的货币
                              Formatted currency
                        required:
                          - date
                          - time
                          - datetime
                          - number
                          - currency
                        description: |-
                          格式化结果
                          Formatted results
                    required:
                      - formatted
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                language:
                  type: string
                  description: |-
                    语言代码
                    Language code
                timezone:
                  type: string
                  description: |-
                    时区
                    Timezone
                dateFormat:
                  type: string
                  description: |-
                    日期格式
                    Date format
                timeFormat:
                  type: string
                  description: |-
                    时间格式
                    Time format
                currency:
                  type: string
                  description: |-
                    货币代码
                    Currency code
                samples:
                  type: object
                  properties:
                    date:
                      type: string
                      description: |-
                        日期示例
                        Date sample
                    number:
                      type: number
                      format: double
                      description: |-
                        数字示例
                        Number sample
                    currency:
                      type: number
                      format: double
                      description: |-
                        货币示例
                        Currency sample
                  required:
                    - date
                    - number
                    - currency
                  description: |-
                    示例数据
                    Sample data
              required:
                - language
                - timezone
                - dateFormat
                - timeFormat
                - currency
                - samples
  /api/v1/i18n/languages:
    get:
      operationId: I18nApi_listLanguages
      summary: 获取支持的语言列表
      description: |-
        获取支持的语言列表
        Get supported languages list

        返回系统支持的所有语言配置列表。
        Returns list of all supported language configurations.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/i18n/languages?enabledOnly=true' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: enabledOnly
          in: query
          required: false
          description: |-
            仅返回已启用的语言
            Only return enabled languages
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/I18n.LanguageConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
  /api/v1/i18n/languages/{languageCode}:
    get:
      operationId: I18nApi_getLanguage
      summary: 获取语言详细配置
      description: |-
        获取语言详细配置
        Get language detailed configuration

        返回指定语言的详细配置信息。
        Returns detailed configuration for specified language.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/i18n/languages/zh' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: languageCode
          in: path
          required: true
          description: |-
            语言代码
            Language code
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/I18n.LanguageConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
  /api/v1/i18n/organizations/{organizationId}/i18n/glossary:
    get:
      operationId: TranslationApi_getGlossary
      summary: 获取翻译术语表
      description: |-
        获取翻译术语表
        Get translation glossary

        获取组织的翻译术语表。
        Get organization's translation glossary.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/i18n/glossary?sourceLanguage=zh&targetLanguage=en' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: sourceLanguage
          in: query
          required: false
          description: |-
            源语言
            Source language
          schema:
            type: string
          explode: false
        - name: targetLanguage
          in: query
          required: false
          description: |-
            目标语言
            Target language
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      entries:
                        type: array
                        items:
                          $ref: '#/components/schemas/I18n.GlossaryEntry'
                        description: |-
                          术语表条目
                          Glossary entries
                    required:
                      - entries
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
    post:
      operationId: TranslationApi_addGlossaryEntries
      summary: 添加术语到翻译术语表
      description: |-
        添加术语到翻译术语表
        Add term to translation glossary

        添加术语到组织的翻译术语表。需要 owner 或 admin 权限。
        Add term to organization's translation glossary. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/i18n/glossary' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "sourceLanguage": "zh",
            "targetLanguage": "en",
            "entries": [{
              "term": "订货单",
              "translation": "Purchase Order",
              "context": "business_document",
              "category": "general"
            }]
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      added:
                        type: integer
                        format: int32
                        description: |-
                          新增数量
                          Added count
                      entries:
                        type: array
                        items:
                          $ref: '#/components/schemas/I18n.GlossaryEntry'
                        description: |-
                          术语条目列表
                          Glossary entries
                    required:
                      - added
                      - entries
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                sourceLanguage:
                  type: string
                  description: |-
                    源语言
                    Source language
                targetLanguage:
                  type: string
                  description: |-
                    目标语言
                    Target language
                entries:
                  type: array
                  items:
                    type: object
                    properties:
                      term:
                        type: string
                        description: |-
                          术语
                          Term
                      translation:
                        type: string
                        description: |-
                          翻译
                          Translation
                      context:
                        type: string
                        description: |-
                          上下文
                          Context
                      category:
                        type: string
                        description: |-
                          分类
                          Category
                    required:
                      - term
                      - translation
                  description: |-
                    术语条目列表
                    Glossary entries
              required:
                - sourceLanguage
                - targetLanguage
                - entries
  /api/v1/i18n/timezones:
    get:
      operationId: I18nApi_listTimezones
      summary: 获取时区列表
      description: |-
        获取时区列表
        Get timezone list

        获取系统支持的时区列表。
        Get list of supported timezones.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/i18n/timezones?region=Asia' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: region
          in: query
          required: false
          description: |-
            按地区过滤
            Filter by region
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      timezones:
                        type: array
                        items:
                          $ref: '#/components/schemas/I18n.Timezone'
                        description: |-
                          时区列表
                          Timezones
                    required:
                      - timezones
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
  /api/v1/i18n/translate:
    post:
      operationId: TranslationApi_translate
      summary: 翻译文本内容
      description: |-
        翻译文本内容
        Translate text content

        将文本从源语言翻译到目标语言。
        Translate text from source language to target languages.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/i18n/translate' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "sourceLanguage": "zh",
            "targetLanguages": ["en", "ja"],
            "texts": ["产品名称", "这是产品描述"],
            "context": "product_catalog"
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      translations:
                        type: array
                        items:
                          $ref: '#/components/schemas/I18n.TranslationResult'
                        description: |-
                          翻译结果列表
                          Translation results
                    required:
                      - translations
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                sourceLanguage:
                  type: string
                  description: |-
                    源语言
                    Source language
                targetLanguages:
                  type: array
                  items:
                    type: string
                  description: |-
                    目标语言列表
                    Target languages
                texts:
                  type: array
                  items:
                    type: string
                  description: |-
                    待翻译文本列表
                    Texts to translate
                context:
                  type: string
                  description: |-
                    上下文
                    Context
              required:
                - sourceLanguage
                - targetLanguages
                - texts
  /api/v1/i18n/translation-coverage:
    get:
      operationId: I18nApi_getTranslationCoverage
      summary: 获取翻译完整度统计
      description: |-
        获取翻译完整度统计
        Get translation coverage statistics

        获取各语言的翻译完整度统计信息。
        Get translation coverage statistics for each language.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/i18n/translation-coverage?namespace=common' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: ns
          in: query
          required: false
          description: |-
            命名空间过滤
            Namespace filter
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      languages:
                        type: array
                        items:
                          $ref: '#/components/schemas/I18n.LanguageCoverage'
                        description: |-
                          语言覆盖率列表
                          Language coverage list
                    required:
                      - languages
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
  /api/v1/i18n/translation-suggestions:
    post:
      operationId: TranslationApi_getTranslationSuggestions
      summary: 获取翻译建议
      description: |-
        获取翻译建议
        Get translation suggestions

        获取文本的翻译建议。
        Get translation suggestions for text.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/i18n/translation-suggestions' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "text": "产品",
            "sourceLanguage": "zh",
            "targetLanguage": "en",
            "context": "field_label",
            "maxSuggestions": 5
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      suggestions:
                        type: array
                        items:
                          $ref: '#/components/schemas/I18n.TranslationSuggestion'
                        description: |-
                          翻译建议列表
                          Translation suggestions
                    required:
                      - suggestions
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                text:
                  type: string
                  description: |-
                    待翻译文本
                    Text to translate
                sourceLanguage:
                  type: string
                  description: |-
                    源语言
                    Source language
                targetLanguage:
                  type: string
                  description: |-
                    目标语言
                    Target language
                context:
                  type: string
                  description: |-
                    上下文
                    Context
                maxSuggestions:
                  type: integer
                  format: int32
                  description: |-
                    最大建议数
                    Maximum suggestions
              required:
                - text
                - sourceLanguage
                - targetLanguage
  /api/v1/i18n/translations:
    get:
      operationId: I18nApi_getTranslations
      summary: 获取翻译资源
      description: |-
        获取翻译资源
        Get translation resources

        获取指定语言的翻译资源。
        Get translation resources for specified language.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/i18n/translations?language=zh&namespace=common' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: language
          in: query
          required: true
          description: |-
            语言代码（必填）
            Language code (required)
          schema:
            type: string
          explode: false
        - name: ns
          in: query
          required: false
          description: |-
            命名空间过滤
            Namespace filter
          schema:
            type: string
          explode: false
        - name: keys
          in: query
          required: false
          description: |-
            指定键列表
            Specified keys
          schema:
            type: array
            items:
              type: string
          explode: false
        - name: category
          in: query
          required: false
          description: |-
            资源分类
            Resource category
          schema:
            $ref: '#/components/schemas/I18n.ResourceCategory'
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      language:
                        type: string
                        description: |-
                          语言代码
                          Language code
                      translations:
                        type: object
                        additionalProperties:
                          type: string
                        description: |-
                          翻译资源
                          Translations
                      fallbackLanguage:
                        type: string
                        description: |-
                          备用语言
                          Fallback language
                      completeness:
                        type: number
                        format: double
                        description: |-
                          完整度
                          Completeness
                    required:
                      - language
                      - translations
                      - fallbackLanguage
                      - completeness
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
  /api/v1/i18n/translations/batch:
    post:
      operationId: I18nApi_batchGetTranslations
      summary: 批量获取多语言翻译
      description: |-
        批量获取多语言翻译
        Batch get multi-language translations

        一次性获取多个语言的翻译资源。
        Get translation resources for multiple languages at once.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/i18n/translations/batch' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "languages": ["zh", "en", "ja"],
            "namespace": "common",
            "keys": ["button.save", "button.cancel"]
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      translations:
                        type: object
                        additionalProperties:
                          type: object
                          additionalProperties:
                            type: string
                        description: |-
                          翻译结果
                          Translations (language -> key -> translation)
                    required:
                      - translations
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                languages:
                  type: array
                  items:
                    type: string
                  description: |-
                    语言列表
                    Languages
                ns:
                  type: string
                  description: |-
                    命名空间
                    Namespace
                keys:
                  type: array
                  items:
                    type: string
                  description: |-
                    键列表
                    Keys
              required:
                - languages
  /api/v1/invitations/{token}:
    get:
      operationId: InvitationApi_getInvitationByToken
      summary: 通过令牌获取邀请信息
      description: |-
        通过令牌获取邀请信息
        Get invitation by token

        使用邀请令牌获取邀请详情（用于邀请接受页面展示）。
        Get invitation details using invitation token (for invitation acceptance page display).

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/invitations/TOKEN_STRING' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: token
          in: path
          required: true
          description: |-
            邀请令牌
            Invitation token
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.Invitation'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invitations
  /api/v1/invitations/{token}/accept:
    post:
      operationId: InvitationApi_acceptInvitation
      summary: 接受邀请
      description: |-
        接受邀请
        Accept invitation

        通过邀请令牌接受邀请加入组织。验证邮箱匹配后创建成员记录。
        Accept an invitation to join the organization using invitation token. Creates member record after email verification.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/invitations/TOKEN_STRING/accept' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: token
          in: path
          required: true
          description: |-
            邀请令牌
            Invitation token
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.OrganizationMember'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invitations
  /api/v1/invitations/{token}/decline:
    post:
      operationId: InvitationApi_declineInvitation
      summary: 拒绝邀请
      description: |-
        拒绝邀请
        Decline invitation

        拒绝邀请加入组织。
        Decline an invitation to join the organization.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/invitations/TOKEN_STRING/decline' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: token
          in: path
          required: true
          description: |-
            邀请令牌
            Invitation token
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invitations
  /api/v1/oauth/clients:
    post:
      operationId: OAuthClientApi_createOAuthClient
      summary: 注册 OAuth 客户端
      description: |-
        注册 OAuth 客户端应用
        Register OAuth client application

        创建新的 OAuth 客户端应用。客户端密钥只在创建时返回完整内容，请妥善保存。
        Create new OAuth client application. Full client secret is only returned on creation, please save it securely.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/oauth/clients' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "我的应用",
            "clientType": "confidential",
            "grantTypes": ["authorization_code", "refresh_token"],
            "redirectUris": ["https://myapp.com/callback"],
            "scopes": ["openid", "profile", "email", "doc:read"],
            "requirePkce": false
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.OAuthClient'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Clients
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.CreateOAuthClientRequest'
    get:
      operationId: OAuthClientApi_listOAuthClients
      summary: 列出 OAuth 客户端
      description: |-
        列出 OAuth 客户端
        List OAuth clients

        获取当前用户的所有 OAuth 客户端应用列表。
        Get list of all OAuth client applications for current user.
      parameters:
        - name: page
          in: query
          required: false
          description: |-
            页码（从1开始）
            Page number (starts from 1)
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
        - name: status
          in: query
          required: false
          description: |-
            按状态筛选
            Filter by status
          schema:
            $ref: '#/components/schemas/Auth.OAuthClientStatus'
          explode: false
        - name: organizationId
          in: query
          required: false
          description: |-
            按组织ID筛选
            Filter by organization ID
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Auth.OAuthClient'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Clients
  /api/v1/oauth/clients/authorizations:
    get:
      operationId: OAuthClientApi_listUserAuthorizations
      summary: 列出用户授权
      description: |-
        列出用户授权
        List user authorizations

        获取当前用户授权给第三方应用的列表。
        Get list of third-party apps authorized by current user.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Auth.OAuthAuthorization'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Clients
  /api/v1/oauth/clients/authorizations/{authorizationId}:
    delete:
      operationId: OAuthClientApi_revokeUserAuthorization
      summary: 撤销用户授权
      description: |-
        撤销用户授权
        Revoke user authorization

        撤销当前用户对指定客户端的授权。
        Revoke current user's authorization for specified client.
      parameters:
        - name: authorizationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Clients
  /api/v1/oauth/clients/{clientId}:
    get:
      operationId: OAuthClientApi_getOAuthClient
      summary: 获取 OAuth 客户端详情
      description: |-
        获取 OAuth 客户端详情
        Get OAuth client details

        获取指定 OAuth 客户端的详细信息（不包含完整密钥）。
        Get details of specified OAuth client (without full secret).
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.OAuthClient'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Clients
    patch:
      operationId: OAuthClientApi_updateOAuthClient
      summary: 更新 OAuth 客户端
      description: |-
        更新 OAuth 客户端
        Update OAuth client

        更新 OAuth 客户端的配置信息。
        Update OAuth client configuration.
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.OAuthClient'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Clients
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.UpdateOAuthClientRequest'
    delete:
      operationId: OAuthClientApi_deleteOAuthClient
      summary: 删除 OAuth 客户端
      description: |-
        删除 OAuth 客户端
        Delete OAuth client

        彻底删除 OAuth 客户端及其所有授权记录。
        Permanently delete OAuth client and all its authorization records.
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Clients
  /api/v1/oauth/clients/{clientId}/regenerate-secret:
    post:
      operationId: OAuthClientApi_regenerateClientSecret
      summary: 重新生成客户端密钥
      description: |-
        重新生成客户端密钥
        Regenerate client secret

        重新生成 OAuth 客户端密钥。旧密钥立即失效，新密钥只返回一次。
        Regenerate OAuth client secret. Old secret is immediately invalidated, new secret is returned only once.
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.OAuthClient'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Clients
  /api/v1/oauth/clients/{clientId}/revoke:
    post:
      operationId: OAuthClientApi_revokeOAuthClient
      summary: 吊销 OAuth 客户端
      description: |-
        吊销 OAuth 客户端
        Revoke OAuth client

        永久吊销 OAuth 客户端，吊销后无法恢复。
        Permanently revoke OAuth client, cannot be restored after revocation.
      parameters:
        - name: clientId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Clients
  /api/v1/oidc/providers:
    get:
      operationId: OidcProviderPublicApi_listAvailableProviders
      summary: 列出可用的 OIDC 提供商
      description: |-
        列出可用的 OIDC 提供商（公开）
        List available OIDC providers (public)

        获取系统配置的所有活跃 OIDC 提供商列表，返回简化信息（不含密钥等敏感数据）。
        Get list of all active OIDC providers with simplified info (no sensitive data like secrets).

        用于登录页面展示可用的第三方登录选项。
        Used to display available third-party login options on login page.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: |-
                            提供商ID
                            Provider ID
                        providerType:
                          allOf:
                            - $ref: '#/components/schemas/Auth.OidcProviderType'
                          description: |-
                            提供商类型
                            Provider type
                        name:
                          type: string
                          description: |-
                            提供商名称
                            Provider name
                        logoUrl:
                          type: string
                          description: Logo URL
                      required:
                        - id
                        - providerType
                        - name
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OIDC Providers - Public
  /api/v1/organizations:
    post:
      operationId: OrganizationApi_create
      summary: 创建组织
      description: |-
        创建组织
        Create organization

        创建一个新组织，创建者自动成为 owner，并自动创建一个默认工作区。
        Create a new organization. The creator automatically becomes the owner, and a default workspace is created automatically.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "我的团队",
            "slug": "my-team",
            "type": "team",
            "description": "团队描述"
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.Organization'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.CreateOrganizationRequest'
  /api/v1/organizations/{organizationId}:
    get:
      operationId: OrganizationApi_get
      summary: 获取组织详情
      description: |-
        获取组织详情
        Get organization detail

        返回组织的详细信息，包括当前用户的角色和统计数据。
        Returns detailed organization information including current user's role and statistics.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.OrganizationDetail'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
    patch:
      operationId: OrganizationApi_update
      summary: 更新组织信息
      description: |-
        更新组织信息
        Update organization info

        更新组织的基本信息和设置。需要 owner 或 admin 权限。
        Update organization's basic information and settings. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/organizations/org-123' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "displayName": "新的显示名称",
            "description": "更新后的描述"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.Organization'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.UpdateOrganizationRequest'
        description: |-
          更新请求
          Update request
    delete:
      operationId: OrganizationApi_delete
      summary: 删除组织
      description: |-
        删除组织
        Delete organization

        软删除组织（标记为 archived）。仅 owner 可以执行此操作。
        Soft delete organization (mark as archived). Only owner can perform this action.

        示例（cURL）：
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
  /api/v1/organizations/{organizationId}/audit-logs:
    get:
      operationId: AuditLogsApi_queryLogs
      summary: 查询审计日志
      description: 查询审计日志
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: actorId
          in: query
          required: false
          description: 操作者 ID
          schema:
            type: string
          explode: false
        - name: actorType
          in: query
          required: false
          description: 操作者类型
          schema:
            $ref: '#/components/schemas/Audit.ActorType'
          explode: false
        - name: actionCategory
          in: query
          required: false
          description: 操作分类
          schema:
            $ref: '#/components/schemas/Audit.ActionCategory'
          explode: false
        - name: actionName
          in: query
          required: false
          description: 操作名称
          schema:
            type: string
          explode: false
        - name: resourceType
          in: query
          required: false
          description: 资源类型
          schema:
            $ref: '#/components/schemas/Audit.ResourceType'
          explode: false
        - name: resourceId
          in: query
          required: false
          description: 资源 ID
          schema:
            type: string
          explode: false
        - name: resultStatus
          in: query
          required: false
          description: 结果状态
          schema:
            $ref: '#/components/schemas/Audit.ResultStatus'
          explode: false
        - name: startDate
          in: query
          required: false
          description: 开始时间
          schema:
            type: string
          explode: false
        - name: endDate
          in: query
          required: false
          description: 结束时间
          schema:
            type: string
          explode: false
        - name: ipAddress
          in: query
          required: false
          description: IP 地址
          schema:
            type: string
          explode: false
        - name: search
          in: query
          required: false
          description: 全文搜索
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          description: 页码
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: 每页数量
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Audit.AuditLog'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Audit Logs
  /api/v1/organizations/{organizationId}/audit-logs/alert-rules:
    post:
      operationId: AuditLogsApi_createAlertRule
      summary: 创建告警规则
      description: 创建审计日志告警规则
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Audit.AlertRule'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Audit Logs
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: 规则名称
                enabled:
                  type: boolean
                  description: 是否启用
                conditions:
                  allOf:
                    - $ref: '#/components/schemas/Audit.AlertRuleConditions'
                  description: 条件
                actions:
                  allOf:
                    - $ref: '#/components/schemas/Audit.AlertRuleActions'
                  description: 动作
              required:
                - name
                - enabled
                - conditions
                - actions
        description: 告警规则请求
    get:
      operationId: AuditLogsApi_listAlertRules
      summary: 列出告警规则
      description: 列出告警规则
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Audit.AlertRule'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Audit Logs
  /api/v1/organizations/{organizationId}/audit-logs/alert-rules/{ruleId}:
    delete:
      operationId: AuditLogsApi_deleteAlertRule
      summary: 删除告警规则
      description: 删除告警规则
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: ruleId
          in: path
          required: true
          description: 规则 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Audit Logs
  /api/v1/organizations/{organizationId}/audit-logs/export:
    post:
      operationId: AuditLogsApi_exportLogs
      summary: 导出审计日志
      description: 导出审计日志
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      exportId:
                        type: string
                        description: 导出任务 ID
                      status:
                        type: string
                        enum:
                          - processing
                          - completed
                          - failed
                        description: 状态
                      downloadUrl:
                        type: string
                        description: 下载链接
                      expiresAt:
                        type: string
                        description: 过期时间
                    required:
                      - exportId
                      - status
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Audit Logs
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                format:
                  type: string
                  enum:
                    - csv
                    - json
                    - pdf
                  description: 导出格式
                filters:
                  type: object
                  properties:
                    startDate:
                      type: string
                    endDate:
                      type: string
                    actionCategory:
                      $ref: '#/components/schemas/Audit.ActionCategory'
                  description: 过滤条件
                includeFields:
                  type: array
                  items:
                    type: string
                  description: 包含字段
              required:
                - format
        description: 导出请求
  /api/v1/organizations/{organizationId}/audit-logs/exports/{exportId}:
    get:
      operationId: AuditLogsApi_getExportStatus
      summary: 获取导出状态
      description: 获取导出任务状态
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: exportId
          in: path
          required: true
          description: 导出任务 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      exportId:
                        type: string
                        description: 导出任务 ID
                      status:
                        type: string
                        description: 状态
                      progress:
                        type: number
                        format: double
                        description: 进度
                      downloadUrl:
                        type: string
                        description: 下载链接
                      expiresAt:
                        type: string
                        description: 过期时间
                    required:
                      - exportId
                      - status
                      - progress
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Audit Logs
  /api/v1/organizations/{organizationId}/audit-logs/statistics:
    get:
      operationId: AuditLogsApi_getStatistics
      summary: 获取审计统计
      description: 获取审计统计
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: startDate
          in: query
          required: false
          description: 开始时间
          schema:
            type: string
          explode: false
        - name: endDate
          in: query
          required: false
          description: 结束时间
          schema:
            type: string
          explode: false
        - name: groupBy
          in: query
          required: false
          description: 分组维度
          schema:
            type: string
            enum:
              - action
              - actor
              - resource
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      totalEvents:
                        type: integer
                        format: int64
                        description: 总事件数
                      successCount:
                        type: integer
                        format: int64
                        description: 成功次数
                      failureCount:
                        type: integer
                        format: int64
                        description: 失败次数
                      topActions:
                        type: array
                        items:
                          $ref: '#/components/schemas/Audit.ActionStat'
                        description: 热门操作
                      topActors:
                        type: array
                        items:
                          $ref: '#/components/schemas/Audit.ActorStat'
                        description: 热门操作者
                      topResources:
                        type: array
                        items:
                          $ref: '#/components/schemas/Audit.ResourceStat'
                        description: 热门资源
                      timeline:
                        type: array
                        items:
                          $ref: '#/components/schemas/Audit.TimelineStat'
                        description: 时间线统计
                    required:
                      - totalEvents
                      - successCount
                      - failureCount
                      - topActions
                      - topActors
                      - topResources
                      - timeline
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Audit Logs
  /api/v1/organizations/{organizationId}/audit-logs/{logId}:
    get:
      operationId: AuditLogsApi_getLog
      summary: 获取审计日志详情
      description: 获取审计日志详情
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: logId
          in: path
          required: true
          description: 日志 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Audit.AuditLog'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Audit Logs
  /api/v1/organizations/{organizationId}/bindings/inbound:
    get:
      operationId: ConnectionApi_listInboundBindings
      summary: 列出 Inbound Binding
      description: |-
        列出组织的 Inbound Binding
        List organization's inbound bindings
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: targetOrderBookId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: bindingStatus
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Document.Connection.BindingStatus'
          explode: false
        - name: sourceOrganizationId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Connection.ConnectionBindingSummary'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
  /api/v1/organizations/{organizationId}/catalogs:
    post:
      operationId: CatalogApi_createCatalog
      summary: 创建 Catalog
      description: |-
        创建 Catalog
        Create catalog

        在组织下创建新的产品目录。需要组织管理员或有权限的成员。
        Create a new product catalog under organization. Requires organization admin or authorized member.

        示例（cURL）:
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "电子产品目录",
            "catalogType": "supplier",
            "sharingEnabled": true
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Catalog.CatalogDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Catalog.CreateCatalogRequest'
        description: |-
          创建请求
          Create request
    get:
      operationId: CatalogApi_listCatalogs
      summary: 列出 Catalog
      description: |-
        列出组织的 Catalog
        List organization catalogs

        获取组织下的所有 Catalog 列表。
        Get list of all catalogs under organization.

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs?catalogType=supplier&page=1&pageSize=20' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: query
          required: false
          description: |-
            工作区 ID 过滤(可选)
            Filter by workspace ID
          schema:
            type: string
          explode: false
        - name: catalogType
          in: query
          required: false
          description: |-
            Catalog 类型过滤
            Filter by catalog type
          schema:
            $ref: '#/components/schemas/Document.Catalog.CatalogType'
          explode: false
        - name: search
          in: query
          required: false
          description: |-
            搜索关键词
            Search keyword
          schema:
            type: string
          explode: false
        - name: sharingEnabled
          in: query
          required: false
          description: |-
            仅显示启用分享的 Catalog
            Show only sharing-enabled catalogs
          schema:
            type: boolean
          explode: false
        - name: sort
          in: query
          required: false
          description: |-
            排序字段
            Sort field
          schema:
            type: string
            default: updatedAt
          explode: false
        - name: direction
          in: query
          required: false
          description: |-
            排序方向
            Sort direction
          schema:
            $ref: '#/components/schemas/Common.Direction'
            default: desc
          explode: false
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Catalog.CatalogSummary'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
  /api/v1/organizations/{organizationId}/catalogs/{catalogId}:
    get:
      operationId: CatalogApi_getCatalog
      summary: 获取 Catalog 详情
      description: |-
        获取 Catalog 详情
        Get catalog details

        获取指定 Catalog 的详细信息。
        Get detailed information of specified catalog.

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs/catalog-456' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: catalogId
          in: path
          required: true
          description: |-
            Catalog ID
            Catalog ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Catalog.CatalogDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
    patch:
      operationId: CatalogApi_updateCatalog
      summary: 更新 Catalog
      description: |-
        更新 Catalog
        Update catalog

        更新 Catalog 的基本信息和设置。
        Update catalog basic information and settings.

        示例（cURL）:
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs/catalog-456' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "更新后的产品目录",
            "sharingEnabled": true
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: catalogId
          in: path
          required: true
          description: |-
            Catalog ID
            Catalog ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Catalog.CatalogDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Catalog.UpdateCatalogRequest'
        description: |-
          更新请求
          Update request
    delete:
      operationId: CatalogApi_deleteCatalog
      summary: 删除 Catalog
      description: |-
        删除 Catalog
        Delete catalog

        删除指定的 Catalog。如果 Catalog 有活跃的 Connection,需要先删除或禁用 Connection。
        Delete specified catalog. If catalog has active connections, must delete or disable connections first.

        示例（cURL）:
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs/catalog-456' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: catalogId
          in: path
          required: true
          description: |-
            Catalog ID
            Catalog ID
          schema:
            type: string
        - name: force
          in: query
          required: false
          description: |-
            强制删除(即使有活跃的 Connection)
            Force delete (even if has active connections)
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
  /api/v1/organizations/{organizationId}/catalogs/{catalogId}/fields:
    get:
      operationId: CatalogApi_getCatalogFields
      summary: 获取字段定义
      description: |-
        获取 Catalog 字段定义
        Get catalog field definitions

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs/catalog-456/fields' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: catalogId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Document.Catalog.CatalogFieldDefinition'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
    post:
      operationId: CatalogApi_addCatalogField
      summary: 添加字段
      description: |-
        添加 Catalog 字段
        Add catalog field

        示例（cURL）:
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs/catalog-456/fields' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "品牌",
            "type": "text",
            "required": true
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: catalogId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Catalog.CatalogFieldDefinition'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Catalog.CatalogFieldDefinition'
  /api/v1/organizations/{organizationId}/catalogs/{catalogId}/fields/{fieldId}:
    patch:
      operationId: CatalogApi_updateCatalogField
      summary: 更新字段
      description: |-
        更新 Catalog 字段
        Update catalog field

        示例（cURL）:
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs/catalog-456/fields/field-789' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "required": false
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: catalogId
          in: path
          required: true
          schema:
            type: string
        - name: fieldId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Catalog.CatalogFieldDefinition'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Catalog.CatalogFieldDefinition'
    delete:
      operationId: CatalogApi_deleteCatalogField
      summary: 删除字段
      description: |-
        删除 Catalog 字段
        Delete catalog field

        示例（cURL）:
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs/catalog-456/fields/field-789' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: catalogId
          in: path
          required: true
          schema:
            type: string
        - name: fieldId
          in: path
          required: true
          schema:
            type: string
        - name: force
          in: query
          required: false
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
  /api/v1/organizations/{organizationId}/catalogs/{catalogId}/stats:
    get:
      operationId: CatalogApi_getCatalogStats
      summary: 获取产品统计
      description: |-
        获取 Catalog 的产品统计
        Get catalog product statistics

        获取 Catalog 中产品的统计信息。
        Get product statistics of catalog.

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs/catalog-456/stats' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: catalogId
          in: path
          required: true
          description: |-
            Catalog ID
            Catalog ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      totalProducts:
                        type: integer
                        format: int32
                        description: |-
                          总产品数
                          Total products
                      activeProducts:
                        type: integer
                        format: int32
                        description: |-
                          活跃产品数
                          Active products
                      sharedProducts:
                        type: integer
                        format: int32
                        description: |-
                          分享中的产品数
                          Shared products
                      connectionCount:
                        type: integer
                        format: int32
                        description: |-
                          Connection 数量
                          Connection count
                      activeConnectionCount:
                        type: integer
                        format: int32
                        description: |-
                          活跃 Connection 数量
                          Active connection count
                      byCategory:
                        type: object
                        additionalProperties:
                          type: object
                          properties:
                            count:
                              type: integer
                              format: int32
                            percentage:
                              type: number
                              format: float
                          required:
                            - count
                            - percentage
                        description: |-
                          按类别统计
                          Statistics by category
                      lastUpdatedAt:
                        type: string
                        description: |-
                          最后更新时间
                          Last updated at
                    required:
                      - totalProducts
                      - activeProducts
                      - sharedProducts
                      - connectionCount
                      - activeConnectionCount
                      - lastUpdatedAt
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Catalog
  /api/v1/organizations/{organizationId}/compliance/data-access:
    get:
      operationId: ComplianceApi_getDataAccess
      summary: 获取数据访问记录（GDPR）
      description: 获取数据访问记录（GDPR）
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: userId
          in: query
          required: false
          description: 用户 ID
          schema:
            type: string
          explode: false
        - name: dataType
          in: query
          required: false
          description: 数据类型
          schema:
            type: string
          explode: false
        - name: startDate
          in: query
          required: false
          description: 开始时间
          schema:
            type: string
          explode: false
        - name: endDate
          in: query
          required: false
          description: 结束时间
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          description: 页码
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: 每页数量
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Audit.DataAccessLog'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Compliance
  /api/v1/organizations/{organizationId}/compliance/reports:
    post:
      operationId: ComplianceApi_generateReport
      summary: 生成合规性报告
      description: 生成合规性报告
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      reportId:
                        type: string
                        description: 报告 ID
                      status:
                        type: string
                        enum:
                          - generating
                          - completed
                          - failed
                        description: 状态
                      downloadUrl:
                        type: string
                        description: 下载链接
                      expiresAt:
                        type: string
                        description: 过期时间
                    required:
                      - reportId
                      - status
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Compliance
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                reportType:
                  type: string
                  enum:
                    - gdpr
                    - soc2
                    - hipaa
                    - custom
                  description: 报告类型
                periodStart:
                  type: string
                  description: 周期开始
                periodEnd:
                  type: string
                  description: 周期结束
                includeAccessLogs:
                  type: boolean
                  description: 包含访问日志
                includeDataChanges:
                  type: boolean
                  description: 包含数据变更
                includePermissionChanges:
                  type: boolean
                  description: 包含权限变更
              required:
                - reportType
                - periodStart
                - periodEnd
        description: 报告请求
  /api/v1/organizations/{organizationId}/compliance/retention-policies:
    get:
      operationId: ComplianceApi_getRetentionPolicies
      summary: 获取数据保留策略
      description: 获取数据保留策略
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      policies:
                        type: array
                        items:
                          $ref: '#/components/schemas/Audit.RetentionPolicy'
                        description: 策略列表
                    required:
                      - policies
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Compliance
    put:
      operationId: ComplianceApi_updateRetentionPolicies
      summary: 更新数据保留策略
      description: 更新数据保留策略
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      policies:
                        type: array
                        items:
                          $ref: '#/components/schemas/Audit.RetentionPolicy'
                        description: 策略列表
                    required:
                      - policies
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Compliance
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                policies:
                  type: array
                  items:
                    $ref: '#/components/schemas/Audit.RetentionPolicy'
                  description: 策略列表
              required:
                - policies
        description: 策略请求
  /api/v1/organizations/{organizationId}/connections:
    post:
      operationId: ConnectionApi_createConnection
      summary: 创建 Connection
      description: |-
        创建 Connection
        Create connection
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connection.ConnectionDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Connection.CreateConnectionRequest'
    get:
      operationId: ConnectionApi_listConnections
      summary: 列出 Connection
      description: |-
        列出 Connection
        List connections
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: sourceCatalogId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: shareMode
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Document.Connection.ShareMode'
          explode: false
        - name: status
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Document.Connection.ConnectionStatus'
          explode: false
        - name: search
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: sort
          in: query
          required: false
          schema:
            type: string
            default: createdAt
          explode: false
        - name: direction
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Common.Direction'
            default: desc
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Connection.ConnectionSummary'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
  /api/v1/organizations/{organizationId}/connections/{connectionId}:
    get:
      operationId: ConnectionApi_getConnection
      summary: 获取 Connection 详情
      description: |-
        获取 Connection 详情
        Get connection details
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connection.ConnectionDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
    patch:
      operationId: ConnectionApi_updateConnection
      summary: 更新 Connection
      description: |-
        更新 Connection
        Update connection
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connection.ConnectionDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Connection.UpdateConnectionRequest'
    delete:
      operationId: ConnectionApi_deleteConnection
      summary: 删除 Connection
      description: |-
        删除 Connection
        Delete connection
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
        - name: force
          in: query
          required: false
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
  /api/v1/organizations/{organizationId}/connections/{connectionId}/bind:
    post:
      operationId: ConnectionApi_bindConnection
      summary: 关联 Connection
      description: |-
        创建 ConnectionBinding
        Create connection binding
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connection.ConnectionBindingDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Connection.CreateConnectionBindingRequest'
  /api/v1/organizations/{organizationId}/connections/{connectionId}/bindings:
    get:
      operationId: ConnectionApi_listConnectionBindings
      summary: 列出 Binding
      description: |-
        列出 Connection 的 Binding
        List connection bindings
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
        - name: bindingStatus
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Document.Connection.BindingStatus'
          explode: false
        - name: targetOrganizationId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Connection.ConnectionBindingSummary'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
  /api/v1/organizations/{organizationId}/connections/{connectionId}/bindings/{bindingId}:
    get:
      operationId: ConnectionApi_getBinding
      summary: 获取 Binding 详情
      description: |-
        获取 Binding 详情
        Get binding details
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
        - name: bindingId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connection.ConnectionBindingDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
    patch:
      operationId: ConnectionApi_updateBinding
      summary: 更新 Binding
      description: |-
        更新 ConnectionBinding
        Update connection binding
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
        - name: bindingId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connection.ConnectionBindingDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Connection.UpdateConnectionBindingRequest'
    delete:
      operationId: ConnectionApi_deleteBinding
      summary: 删除 Binding
      description: |-
        删除 ConnectionBinding
        Delete connection binding
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
        - name: bindingId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
  /api/v1/organizations/{organizationId}/connections/{connectionId}/bindings/{bindingId}/approve:
    post:
      operationId: ConnectionApi_approveBinding
      summary: 审批 Binding
      description: |-
        审批 ConnectionBinding
        Approve connection binding
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
        - name: bindingId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connection.ConnectionBindingDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                action:
                  type: string
                  enum:
                    - approve
                    - reject
                comment:
                  type: string
              required:
                - action
  /api/v1/organizations/{organizationId}/connections/{connectionId}/sync:
    post:
      operationId: ConnectionApi_triggerSync
      summary: 手动触发同步
      description: |-
        手动触发同步
        Manually trigger sync
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      syncTaskId:
                        type: string
                      affectedBindingCount:
                        type: integer
                        format: int32
                      startedAt:
                        type: string
                    required:
                      - syncTaskId
                      - affectedBindingCount
                      - startedAt
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                forceFullSync:
                  type: boolean
                bindingIds:
                  type: array
                  items:
                    type: string
  /api/v1/organizations/{organizationId}/connections/{connectionId}/sync/status:
    get:
      operationId: ConnectionApi_getSyncStatus
      summary: 获取同步状态
      description: |-
        获取同步状态
        Get sync status
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: connectionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      connectionId:
                        type: string
                      lastSyncTime:
                        type: string
                      totalBindingCount:
                        type: integer
                        format: int32
                      activeBindingCount:
                        type: integer
                        format: int32
                      syncStatusStats:
                        type: object
                        properties:
                          upToDate:
                            type: integer
                            format: int32
                          pending:
                            type: integer
                            format: int32
                          syncing:
                            type: integer
                            format: int32
                          failed:
                            type: integer
                            format: int32
                        required:
                          - upToDate
                          - pending
                          - syncing
                          - failed
                      recentSyncTasks:
                        type: array
                        items:
                          type: object
                          properties:
                            taskId:
                              type: string
                            startedAt:
                              type: string
                            completedAt:
                              type: string
                            status:
                              type: string
                              enum:
                                - running
                                - completed
                                - failed
                            affectedRows:
                              type: integer
                              format: int32
                          required:
                            - taskId
                            - startedAt
                            - status
                    required:
                      - connectionId
                      - totalBindingCount
                      - activeBindingCount
                      - syncStatusStats
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connection
  /api/v1/organizations/{organizationId}/connectors:
    post:
      operationId: ConnectorApi_createConnector
      summary: 创建 Connector
      description: |-
        创建 Connector
        Create connector

        在组织内创建文档之间的联动关系。需要有源文档和目标文档的访问权限。
        Create linkage between documents within organization. Requires access to both source and target documents.

        示例（cURL）:
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "主商品库到分店商品库",
            "connectorType": "catalog_clone",
            "sourceDocId": "catalog-main-001",
            "targetDocId": "catalog-branch-001",
            "catalogCloneConfig": {
              "syncMode": "full",
              "syncDirection": "one_way",
              "linkedScope": {"mode": "all"},
              "localEnhancements": {
                "allowLocalAdd": true,
                "allowLocalDelete": true,
                "allowLocalModify": true
              },
              "conflictResolution": {"defaultStrategy": "keep_upstream"}
            }
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connector.ConnectorDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Connector.CreateConnectorRequest'
        description: |-
          创建请求
          Create request
    get:
      operationId: ConnectorApi_listConnectors
      summary: 列出 Connector
      description: |-
        列出组织的 Connector
        List organization connectors

        获取组织下的所有 Connector 列表。
        Get list of all connectors under organization.

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors?connectorType=catalog_clone&status=active' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: query
          required: false
          description: |-
            工作区 ID 过滤
            Filter by workspace ID
          schema:
            type: string
          explode: false
        - name: connectorType
          in: query
          required: false
          description: |-
            Connector 类型过滤
            Filter by connector type
          schema:
            $ref: '#/components/schemas/Document.Connector.ConnectorType'
          explode: false
        - name: sourceDocId
          in: query
          required: false
          description: |-
            源文档 ID 过滤
            Filter by source document ID
          schema:
            type: string
          explode: false
        - name: targetDocId
          in: query
          required: false
          description: |-
            目标文档 ID 过滤
            Filter by target document ID
          schema:
            type: string
          explode: false
        - name: status
          in: query
          required: false
          description: |-
            Connector 状态过滤
            Filter by connector status
          schema:
            $ref: '#/components/schemas/Document.Connector.ConnectorStatus'
          explode: false
        - name: search
          in: query
          required: false
          description: |-
            搜索关键词
            Search keyword
          schema:
            type: string
          explode: false
        - name: sort
          in: query
          required: false
          description: |-
            排序字段
            Sort field
          schema:
            type: string
            default: updatedAt
          explode: false
        - name: direction
          in: query
          required: false
          description: |-
            排序方向
            Sort direction
          schema:
            $ref: '#/components/schemas/Common.Direction'
            default: desc
          explode: false
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Connector.ConnectorSummary'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
  /api/v1/organizations/{organizationId}/connectors/{connectorId}:
    get:
      operationId: ConnectorApi_getConnector
      summary: 获取 Connector 详情
      description: |-
        获取 Connector 详情
        Get connector details

        获取指定 Connector 的详细信息。
        Get detailed information of specified connector.

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors/connector-456' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: connectorId
          in: path
          required: true
          description: |-
            Connector ID
            Connector ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connector.ConnectorDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
    patch:
      operationId: ConnectorApi_updateConnector
      summary: 更新 Connector
      description: |-
        更新 Connector
        Update connector

        更新 Connector 的配置信息。
        Update connector configuration.

        示例（cURL）:
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors/connector-456' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "status": "paused"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: connectorId
          in: path
          required: true
          description: |-
            Connector ID
            Connector ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connector.ConnectorDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Connector.UpdateConnectorRequest'
        description: |-
          更新请求
          Update request
    delete:
      operationId: ConnectorApi_deleteConnector
      summary: 删除 Connector
      description: |-
        删除 Connector
        Delete connector

        删除指定的 Connector。删除后,联动关系将被解除。
        Delete specified connector. After deletion, linkage will be removed.

        示例（cURL）:
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors/connector-456' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: connectorId
          in: path
          required: true
          description: |-
            Connector ID
            Connector ID
          schema:
            type: string
        - name: deleteLinkedData
          in: query
          required: false
          description: |-
            是否删除目标文档中的联动数据
            Delete linked data in target document
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
  /api/v1/organizations/{organizationId}/connectors/{connectorId}/linked-rows:
    get:
      operationId: ConnectorApi_listLinkedRows
      summary: 列出联动行
      description: |-
        列出 LinkedRow
        List linked rows

        获取 Connector 的所有联动行记录。
        Get all linked row records of connector.

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors/connector-456/linked-rows' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: connectorId
          in: path
          required: true
          description: |-
            Connector ID
            Connector ID
          schema:
            type: string
        - name: linkStatus
          in: query
          required: false
          description: |-
            联动状态过滤
            Filter by link status
          schema:
            type: string
            enum:
              - active
              - broken
              - paused
          explode: false
        - name: sourceRowId
          in: query
          required: false
          description: |-
            源行 ID 过滤
            Filter by source row ID
          schema:
            type: string
          explode: false
        - name: targetRowId
          in: query
          required: false
          description: |-
            目标行 ID 过滤
            Filter by target row ID
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Connector.LinkedRow'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
  /api/v1/organizations/{organizationId}/connectors/{connectorId}/linked-rows/{linkId}:
    get:
      operationId: ConnectorApi_getLinkedRow
      summary: 获取联动行详情
      description: |-
        获取 LinkedRow 详情
        Get linked row details

        获取指定联动行的详细信息。
        Get detailed information of specified linked row.

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors/connector-456/linked-rows/link-789' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: connectorId
          in: path
          required: true
          description: |-
            Connector ID
            Connector ID
          schema:
            type: string
        - name: linkId
          in: path
          required: true
          description: |-
            Link ID
            Link ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connector.LinkedRow'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
    delete:
      operationId: ConnectorApi_deleteLinkedRow
      summary: 删除联动行
      description: |-
        删除 LinkedRow
        Delete linked row

        删除指定的联动行记录,解除源行和目标行的联动关系。
        Delete specified linked row record, remove linkage between source and target rows.

        示例（cURL）:
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors/connector-456/linked-rows/link-789' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: connectorId
          in: path
          required: true
          description: |-
            Connector ID
            Connector ID
          schema:
            type: string
        - name: linkId
          in: path
          required: true
          description: |-
            Link ID
            Link ID
          schema:
            type: string
        - name: deleteTargetRow
          in: query
          required: false
          description: |-
            是否删除目标行
            Delete target row
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
  /api/v1/organizations/{organizationId}/connectors/{connectorId}/stats:
    get:
      operationId: ConnectorApi_getConnectorStats
      summary: 获取统计信息
      description: |-
        获取 Connector 统计信息
        Get connector statistics

        获取 Connector 的统计信息。
        Get connector statistics.

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors/connector-456/stats' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: connectorId
          in: path
          required: true
          description: |-
            Connector ID
            Connector ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      totalLinkedRows:
                        type: integer
                        format: int32
                        description: |-
                          联动行总数
                          Total linked rows
                      activeLinks:
                        type: integer
                        format: int32
                        description: |-
                          活跃联动数
                          Active links
                      brokenLinks:
                        type: integer
                        format: int32
                        description: |-
                          断开联动数
                          Broken links
                      lastSyncedAt:
                        type: string
                        description: |-
                          最后同步时间
                          Last synced at
                      syncStats:
                        type: object
                        properties:
                          totalSyncs:
                            type: integer
                            format: int32
                            description: |-
                              总同步次数
                              Total syncs
                          successCount:
                            type: integer
                            format: int32
                            description: |-
                              成功次数
                              Success count
                          failureCount:
                            type: integer
                            format: int32
                            description: |-
                              失败次数
                              Failure count
                        required:
                          - totalSyncs
                          - successCount
                          - failureCount
                        description: |-
                          同步统计
                          Sync statistics
                    required:
                      - totalLinkedRows
                      - activeLinks
                      - brokenLinks
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
  /api/v1/organizations/{organizationId}/connectors/{connectorId}/sync:
    post:
      operationId: ConnectorApi_triggerSync
      summary: 触发同步
      description: |-
        触发 Connector 同步
        Trigger connector sync

        手动触发 Connector 的数据同步。
        Manually trigger connector data synchronization.

        示例（cURL）:
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/connectors/connector-456/sync' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织 ID
            Organization ID
          schema:
            type: string
        - name: connectorId
          in: path
          required: true
          description: |-
            Connector ID
            Connector ID
          schema:
            type: string
        - name: fullSync
          in: query
          required: false
          description: |-
            是否全量同步
            Full sync
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      taskId:
                        type: string
                        description: |-
                          同步任务 ID
                          Sync task ID
                      status:
                        type: string
                        description: |-
                          同步状态
                          Sync status
                      startedAt:
                        type: string
                        description: |-
                          开始时间
                          Started at
                    required:
                      - taskId
                      - status
                      - startedAt
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Connector
  /api/v1/organizations/{organizationId}/doc/{docType}/{docId}:
    get:
      operationId: OrganizationDocumentApi_getOrganizationDocumentAggregate
      summary: 获取组织文档聚合数据
      description: |-
        获取组织级文档聚合数据
        Get organization document aggregate

        一次性获取组织级文档的多种数据。需要是组织成员。
        Get multiple types of data for organization-level document in one request. Requires organization membership.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/doc/policy/doc-456?include=metadata,views,data' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: docType
          in: path
          required: true
          description: |-
            文档类型
            Document type
          schema:
            type: string
        - name: docId
          in: path
          required: true
          description: |-
            文档ID
            Document ID
          schema:
            type: string
        - name: include
          in: query
          required: false
          description: |-
            包含的数据部分（逗号分隔）
            Included data parts (comma-separated)

            可选值: properties, metadata, views, data, comments, revisions, settings
            Options: properties, metadata, views, data, comments, revisions, settings
          schema:
            type: string
          explode: false
        - name: viewId
          in: query
          required: false
          description: |-
            视图ID
            View ID
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
          explode: false
        - name: commentsLimit
          in: query
          required: false
          description: |-
            评论数量限制
            Comments limit
          schema:
            type: integer
            format: int32
          explode: false
        - name: revisionsLimit
          in: query
          required: false
          description: |-
            修订数量限制
            Revisions limit
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.DocBundle'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Tenancy
  /api/v1/organizations/{organizationId}/documents:
    get:
      operationId: OrganizationDocumentApi_listOrganizationDocuments
      summary: 列出组织文档
      description: |-
        列出组织文档
        List organization documents

        获取组织下的所有文档列表。需要是组织成员。
        Get the list of all documents under the organization. Requires organization membership.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/documents?docType=policy&page=1&pageSize=20' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: docType
          in: query
          required: false
          description: |-
            文档类型过滤
            Filter by document type
          schema:
            type: string
          explode: false
        - name: search
          in: query
          required: false
          description: |-
            搜索关键词
            Search keyword
          schema:
            type: string
          explode: false
        - name: createdBy
          in: query
          required: false
          description: |-
            创建者过滤
            Filter by creator
          schema:
            type: string
          explode: false
        - name: sort
          in: query
          required: false
          description: |-
            排序字段
            Sort field
          schema:
            type: string
            default: updatedAt
          explode: false
        - name: direction
          in: query
          required: false
          description: |-
            排序方向
            Sort direction
          schema:
            $ref: '#/components/schemas/Common.Direction'
            default: desc
          explode: false
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.DocumentSummary'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Tenancy
  /api/v1/organizations/{organizationId}/i18n/config:
    get:
      operationId: OrganizationI18nApi_getOrganizationI18nConfig
      summary: 获取组织国际化配置
      description: |-
        获取组织国际化配置
        Get organization i18n configuration

        返回组织的国际化配置信息。
        Returns organization's i18n configuration.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/i18n/config' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/I18n.OrganizationI18nConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
    put:
      operationId: OrganizationI18nApi_updateOrganizationI18nConfig
      summary: 更新组织国际化配置
      description: |-
        更新组织国际化配置
        Update organization i18n configuration

        更新组织的国际化配置。需要 owner 或 admin 权限。
        Update organization's i18n configuration. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X PUT 'https://open.nexusbook.app/api/v1/organizations/org-123/i18n/config' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "defaultLanguage": "zh",
            "supportedLanguages": ["zh", "en", "ja"],
            "enforceLanguage": false,
            "autoDetectLanguage": true,
            "fallbackLanguage": "en",
            "defaultTimezone": "Asia/Shanghai",
            "defaultCurrency": "CNY",
            "dateFormat": "YYYY-MM-DD",
            "timeFormat": "24h"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/I18n.OrganizationI18nConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/I18n.OrganizationI18nConfig'
  /api/v1/organizations/{organizationId}/i18n/custom-translations:
    get:
      operationId: OrganizationI18nApi_getOrganizationCustomTranslations
      summary: 获取组织自定义翻译
      description: |-
        获取组织自定义翻译
        Get organization custom translations

        获取组织自定义的翻译资源。
        Get organization's custom translation resources.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/i18n/custom-translations?language=zh&namespace=custom' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: language
          in: query
          required: false
          description: |-
            语言代码
            Language code
          schema:
            type: string
          explode: false
        - name: ns
          in: query
          required: false
          description: |-
            命名空间
            Namespace
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      customTranslations:
                        type: object
                        additionalProperties:
                          type: string
                        description: |-
                          自定义翻译
                          Custom translations
                      inheritedTranslations:
                        type: object
                        additionalProperties:
                          type: string
                        description: |-
                          继承的翻译
                          Inherited translations
                    required:
                      - customTranslations
                      - inheritedTranslations
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
    put:
      operationId: OrganizationI18nApi_putOrganizationCustomTranslations
      summary: 添加/更新组织自定义翻译
      description: |-
        添加/更新组织自定义翻译
        Add/update organization custom translations

        添加或更新组织的自定义翻译。需要 owner 或 admin 权限。
        Add or update organization's custom translations. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X PUT 'https://open.nexusbook.app/api/v1/organizations/org-123/i18n/custom-translations' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "language": "zh",
            "namespace": "custom",
            "translations": {
              "field.custom_status": "自定义状态",
              "label.department": "部门名称"
            }
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      added:
                        type: integer
                        format: int32
                        description: |-
                          新增数量
                          Added count
                      updated:
                        type: integer
                        format: int32
                        description: |-
                          更新数量
                          Updated count
                      translations:
                        type: object
                        additionalProperties:
                          type: string
                        description: |-
                          翻译结果
                          Translations
                    required:
                      - added
                      - updated
                      - translations
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                language:
                  type: string
                  description: |-
                    语言代码
                    Language code
                ns:
                  type: string
                  description: |-
                    命名空间
                    Namespace
                translations:
                  type: object
                  additionalProperties:
                    type: string
                  description: |-
                    翻译内容
                    Translations
              required:
                - language
                - ns
                - translations
    delete:
      operationId: OrganizationI18nApi_deleteOrganizationCustomTranslations
      summary: 删除组织自定义翻译
      description: |-
        删除组织自定义翻译
        Delete organization custom translations

        删除组织的自定义翻译。需要 owner 或 admin 权限。
        Delete organization's custom translations. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/i18n/custom-translations?language=zh&keys=field.custom_status,label.department' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: language
          in: query
          required: true
          description: |-
            语言代码
            Language code
          schema:
            type: string
          explode: false
        - name: keys
          in: query
          required: true
          description: |-
            要删除的键列表
            Keys to delete
          schema:
            type: array
            items:
              type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      deleted:
                        type: integer
                        format: int32
                        description: |-
                          删除数量
                          Deleted count
                    required:
                      - deleted
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Internationalization
  /api/v1/organizations/{organizationId}/invitations:
    post:
      operationId: InvitationApi_createInvitation
      summary: 创建邀请
      description: |-
        创建邀请
        Create invitation

        邀请用户加入组织。需要 owner 或 admin 权限。
        Invite a user to join the organization. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/invitations' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "email": "user@example.com",
            "role": "member",
            "message": "欢迎加入我们的团队！",
            "expiresInDays": 7
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.Invitation'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invitations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.CreateInvitationRequest'
        description: |-
          创建邀请请求
          Create invitation request
    get:
      operationId: InvitationApi_listInvitations
      summary: 列出组织邀请
      description: |-
        列出组织邀请
        List organization invitations

        获取组织的所有邀请列表。需要 owner 或 admin 权限。
        Get the list of all invitations of the organization. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/invitations?status=pending' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
        - name: status
          in: query
          required: false
          description: |-
            按状态过滤
            Filter by status
          schema:
            $ref: '#/components/schemas/Tenant.InvitationStatus'
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Tenant.Invitation'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invitations
  /api/v1/organizations/{organizationId}/invitations/{invitationId}:
    get:
      operationId: InvitationApi_getInvitation
      summary: 获取邀请详情
      description: |-
        获取邀请详情
        Get invitation detail

        获取指定邀请的详细信息。
        Get detailed information of a specified invitation.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/invitations/inv-456' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: invitationId
          in: path
          required: true
          description: |-
            邀请ID
            Invitation ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.Invitation'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invitations
    delete:
      operationId: InvitationApi_revokeInvitation
      summary: 撤销邀请
      description: |-
        撤销邀请
        Revoke invitation

        撤销未接受的邀请。需要 owner 或 admin 权限，或是邀请创建者。
        Revoke an unaccepted invitation. Requires owner or admin permission, or being the inviter.

        示例（cURL）：
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/invitations/inv-456' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: invitationId
          in: path
          required: true
          description: |-
            邀请ID
            Invitation ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invitations
  /api/v1/organizations/{organizationId}/invoices:
    get:
      operationId: InvoicesApi_listInvoices
      summary: 列出账单
      description: 列出组织账单
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: status
          in: query
          required: false
          description: 按状态过滤
          schema:
            $ref: '#/components/schemas/Billing.InvoiceStatus'
          explode: false
        - name: page
          in: query
          required: false
          description: 页码
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: 每页数量
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Billing.Invoice'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invoices
  /api/v1/organizations/{organizationId}/invoices/{invoiceId}:
    get:
      operationId: InvoicesApi_getInvoice
      summary: 获取账单详情
      description: 获取账单详情
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: invoiceId
          in: path
          required: true
          description: 账单 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Billing.Invoice'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invoices
  /api/v1/organizations/{organizationId}/invoices/{invoiceId}/pay:
    post:
      operationId: InvoicesApi_payInvoice
      summary: 支付账单
      description: 支付账单
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: invoiceId
          in: path
          required: true
          description: 账单 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      invoice:
                        allOf:
                          - $ref: '#/components/schemas/Billing.Invoice'
                        description: 账单信息
                      paymentStatus:
                        type: string
                        description: 支付状态
                      requiresAction:
                        type: boolean
                        description: 是否需要进一步操作
                      clientSecret:
                        type: string
                        description: 客户端密钥（用于 3D Secure）
                    required:
                      - invoice
                      - paymentStatus
                      - requiresAction
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Invoices
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                paymentMethodId:
                  type: string
                  description: 支付方式 ID
              required:
                - paymentMethodId
        description: 支付请求
  /api/v1/organizations/{organizationId}/join-requests:
    post:
      operationId: JoinRequestApi_createJoinRequest
      summary: 申请加入组织
      description: |-
        申请加入组织
        Apply to join organization

        提交加入组织的申请。前置条件：用户未加入该组织，组织允许申请加入。
        Submit an application to join the organization. Prerequisites: user is not a member, organization allows join requests.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/join-requests' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "message": "我希望加入贵团队，我有5年相关经验..."
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.JoinRequest'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Join Requests
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.CreateJoinRequestRequest'
        description: |-
          创建申请请求
          Create request
    get:
      operationId: JoinRequestApi_listJoinRequests
      summary: 列出加入申请
      description: |-
        列出加入申请
        List join requests

        获取组织的所有加入申请列表。需要 owner 或 admin 权限。
        Get the list of all join requests of the organization. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/join-requests?status=pending' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
        - name: status
          in: query
          required: false
          description: |-
            按状态过滤
            Filter by status
          schema:
            $ref: '#/components/schemas/Tenant.JoinRequestStatus'
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Tenant.JoinRequest'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Join Requests
  /api/v1/organizations/{organizationId}/join-requests/{requestId}:
    get:
      operationId: JoinRequestApi_getJoinRequest
      summary: 获取加入申请详情
      description: |-
        获取加入申请详情
        Get join request detail

        获取指定加入申请的详细信息。
        Get detailed information of a specified join request.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/join-requests/req-789' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: requestId
          in: path
          required: true
          description: |-
            申请ID
            Request ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.JoinRequest'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Join Requests
    delete:
      operationId: JoinRequestApi_cancelJoinRequest
      summary: 取消加入申请
      description: |-
        取消加入申请（用户主动）
        Cancel join request (user initiated)

        用户取消自己的加入申请。仅申请创建者本人可操作。
        User cancels their own join request. Only the applicant can perform this action.

        示例（cURL）：
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/join-requests/req-789' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: requestId
          in: path
          required: true
          description: |-
            申请ID
            Request ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Join Requests
  /api/v1/organizations/{organizationId}/join-requests/{requestId}/approve:
    post:
      operationId: JoinRequestApi_approveJoinRequest
      summary: 批准加入申请
      description: |-
        批准加入申请
        Approve join request

        批准用户的加入申请，创建组织成员记录并发送通知。需要 owner 或 admin 权限。
        Approve user's join request, create member record and send notification. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/join-requests/req-789/approve' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "role": "member",
            "reviewNote": "欢迎加入！"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: requestId
          in: path
          required: true
          description: |-
            申请ID
            Request ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.OrganizationMember'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Join Requests
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.ApproveJoinRequestRequest'
        description: |-
          批准请求
          Approve request
  /api/v1/organizations/{organizationId}/join-requests/{requestId}/reject:
    post:
      operationId: JoinRequestApi_rejectJoinRequest
      summary: 拒绝加入申请
      description: |-
        拒绝加入申请
        Reject join request

        拒绝用户的加入申请并发送通知。需要 owner 或 admin 权限。
        Reject user's join request and send notification. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/join-requests/req-789/reject' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "reviewNote": "很抱歉，暂时不符合我们的要求"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: requestId
          in: path
          required: true
          description: |-
            申请ID
            Request ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.JoinRequest'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Join Requests
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.RejectJoinRequestRequest'
        description: |-
          拒绝请求
          Reject request
  /api/v1/organizations/{organizationId}/leave:
    post:
      operationId: OrganizationApi_leave
      summary: 离开组织
      description: |-
        离开组织（用户主动）
        Leave organization (user initiated)

        用户主动离开组织。owner 不能离开，需先转让所有权。
        User leaves the organization voluntarily. Owner cannot leave without transferring ownership first.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/leave' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
  /api/v1/organizations/{organizationId}/members:
    get:
      operationId: OrganizationApi_listMembers
      summary: 列出组织成员
      description: |-
        列出组织成员
        List organization members

        获取组织的所有成员列表，支持按角色、状态过滤和搜索。
        Get the list of all organization members, supporting filtering by role, status and search.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/members?page=1&pageSize=20&role=admin' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
        - name: role
          in: query
          required: false
          description: |-
            按角色过滤
            Filter by role
          schema:
            $ref: '#/components/schemas/Tenant.OrganizationRole'
          explode: false
        - name: status
          in: query
          required: false
          description: |-
            按状态过滤
            Filter by status
          schema:
            $ref: '#/components/schemas/Tenant.MemberStatus'
          explode: false
        - name: search
          in: query
          required: false
          description: |-
            搜索成员（名称、邮箱）
            Search members (name, email)
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Tenant.OrganizationMember'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
    post:
      operationId: OrganizationApi_addMember
      summary: 添加组织成员
      description: |-
        添加组织成员（直接添加）
        Add organization member (direct add)

        直接将用户添加为组织成员。需要 owner 或 admin 权限。
        Directly add a user as an organization member. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/members' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "userId": "user-456",
            "role": "member"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.OrganizationMember'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.AddOrganizationMemberRequest'
        description: |-
          添加成员请求
          Add member request
  /api/v1/organizations/{organizationId}/members/{memberId}:
    get:
      operationId: OrganizationApi_getMember
      summary: 获取组织成员详情
      description: |-
        获取组织成员详情
        Get organization member detail

        获取指定成员的详细信息。
        Get detailed information of a specified member.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/members/member-789' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: memberId
          in: path
          required: true
          description: |-
            成员ID
            Member ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.OrganizationMember'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
    patch:
      operationId: OrganizationApi_updateMember
      summary: 更新成员角色
      description: |-
        更新成员角色
        Update member role

        更新组织成员的角色或状态。需要 owner 或 admin 权限。
        Update organization member's role or status. Requires owner or admin permission.

        示例（cURL）：
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/organizations/org-123/members/member-789' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "role": "admin"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: memberId
          in: path
          required: true
          description: |-
            成员ID
            Member ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.OrganizationMember'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.UpdateOrganizationMemberRequest'
        description: |-
          更新请求
          Update request
    delete:
      operationId: OrganizationApi_removeMember
      summary: 移除组织成员
      description: |-
        移除组织成员
        Remove organization member

        从组织中移除成员。需要 owner 或 admin 权限，不能移除 owner。
        Remove a member from the organization. Requires owner or admin permission. Cannot remove owner.

        示例（cURL）：
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/members/member-789' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: memberId
          in: path
          required: true
          description: |-
            成员ID
            Member ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Organizations
  /api/v1/organizations/{organizationId}/orderbooks:
    post:
      operationId: OrderBookApi_createOrderBook
      summary: 创建 OrderBook
      description: |-
        创建 OrderBook
        Create orderbook

        可以基于已连接的 Connection 创建,自动生成字段定义和初始数据。
        Can create based on connected Connections, auto-generating field definitions and initial data.

        示例（cURL）:
        ```bash
        # 基于 Connection 创建
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/orderbooks' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "我的订货本",
            "sourceConnectionIds": ["conn-456", "conn-789"]
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.OrderBook.OrderBookDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.OrderBook.CreateOrderBookRequest'
    get:
      operationId: OrderBookApi_listOrderBooks
      summary: 列出 OrderBook
      description: |-
        列出 OrderBook
        List orderbooks
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: workspaceId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: search
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: canShareAsCatalog
          in: query
          required: false
          schema:
            type: boolean
          explode: false
        - name: sort
          in: query
          required: false
          schema:
            type: string
            default: updatedAt
          explode: false
        - name: direction
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Common.Direction'
            default: desc
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.OrderBook.OrderBookSummary'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
  /api/v1/organizations/{organizationId}/orderbooks/{orderBookId}:
    get:
      operationId: OrderBookApi_getOrderBook
      summary: 获取 OrderBook 详情
      description: |-
        获取 OrderBook 详情
        Get orderbook details
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.OrderBook.OrderBookDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
    patch:
      operationId: OrderBookApi_updateOrderBook
      summary: 更新 OrderBook
      description: |-
        更新 OrderBook
        Update orderbook
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.OrderBook.OrderBookDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.OrderBook.UpdateOrderBookRequest'
    delete:
      operationId: OrderBookApi_deleteOrderBook
      summary: 删除 OrderBook
      description: |-
        删除 OrderBook
        Delete orderbook
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
        - name: force
          in: query
          required: false
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
  /api/v1/organizations/{organizationId}/orderbooks/{orderBookId}/bindings:
    post:
      operationId: OrderBookApi_createBinding
      summary: 创建 Binding
      description: |-
        创建 Connection Binding
        Create connection binding

        将 OrderBook 与 Connection 建立 Binding 关系,配置字段映射和过滤条件。
        Establish a Binding relationship between OrderBook and Connection, configuring field mapping and filter conditions.

        示例（cURL）:
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/orderbooks/orderbook-456/bindings' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "connectionId": "conn-789",
            "fieldMapping": {
              "rules": [
                {
                  "sourceFieldId": "src-field-1",
                  "targetFieldId": "tgt-field-1",
                  "transformType": "direct"
                }
              ],
              "unmappedFields": "create"
            },
            "receiverFilter": {
              "acceptMode": "auto"
            }
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connection.ConnectionBindingDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Connection.CreateConnectionBindingRequest'
    get:
      operationId: OrderBookApi_listBindings
      summary: 列出 Binding
      description: |-
        列出 OrderBook 的 Binding
        List orderbook bindings

        示例（cURL）:
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/orderbooks/orderbook-456/bindings' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
        - name: status
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Document.Connection.BindingStatus'
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Connection.ConnectionBindingSummary'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
  /api/v1/organizations/{organizationId}/orderbooks/{orderBookId}/bindings/{bindingId}:
    patch:
      operationId: OrderBookApi_updateBinding
      summary: 更新 Binding
      description: |-
        更新 Binding
        Update binding

        示例（cURL）:
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/organizations/org-123/orderbooks/orderbook-456/bindings/binding-999' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "bindingStatus": "active"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
        - name: bindingId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Connection.ConnectionBindingDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Connection.UpdateConnectionBindingRequest'
    delete:
      operationId: OrderBookApi_deleteBinding
      summary: 删除 Binding
      description: |-
        删除 Binding
        Delete binding

        示例（cURL）:
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/orderbooks/orderbook-456/bindings/binding-999' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
        - name: bindingId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
  /api/v1/organizations/{organizationId}/orderbooks/{orderBookId}/field-mapping/preview:
    post:
      operationId: OrderBookApi_previewFieldMapping
      summary: 预览字段映射
      description: |-
        预览字段映射
        Preview field mapping

        根据源 Catalog 和目标 OrderBook 的字段,生成建议的字段映射规则。
        Generate suggested field mapping rules based on source Catalog and target OrderBook fields.

        示例（cURL）:
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/orderbooks/orderbook-456/field-mapping/preview' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "connectionId": "conn-789"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      suggestedMappings:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Connection.FieldMappingRule'
                        description: |-
                          建议的字段映射规则
                          Suggested field mapping rules
                      sourceFields:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            name:
                              type: string
                            type:
                              type: string
                          required:
                            - id
                            - name
                            - type
                        description: |-
                          源 Catalog 字段
                          Source catalog fields
                      targetFields:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            name:
                              type: string
                            type:
                              type: string
                          required:
                            - id
                            - name
                            - type
                        description: |-
                          目标 OrderBook 字段
                          Target orderbook fields
                      unmappedSourceFields:
                        type: array
                        items:
                          type: string
                        description: |-
                          未映射的源字段
                          Unmapped source fields
                      unmappedTargetFields:
                        type: array
                        items:
                          type: string
                        description: |-
                          未映射的目标字段
                          Unmapped target fields
                    required:
                      - suggestedMappings
                      - sourceFields
                      - targetFields
                      - unmappedSourceFields
                      - unmappedTargetFields
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                connectionId:
                  type: string
                  description: |-
                    Connection ID
                    Connection ID
              required:
                - connectionId
  /api/v1/organizations/{organizationId}/orderbooks/{orderBookId}/rows/{rowId}/source:
    get:
      operationId: OrderBookApi_getRowSource
      summary: 获取行来源
      description: |-
        获取行来源信息
        Get row source information
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
        - name: rowId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.OrderBook.RowSource'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
  /api/v1/organizations/{organizationId}/orderbooks/{orderBookId}/stats:
    get:
      operationId: OrderBookApi_getOrderBookStats
      summary: 获取 OrderBook 统计
      description: |-
        获取 OrderBook 统计
        Get orderbook statistics
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
        - name: orderBookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      totalProducts:
                        type: integer
                        format: int32
                      activeProducts:
                        type: integer
                        format: int32
                      sourceSupplierCount:
                        type: integer
                        format: int32
                      connectionCount:
                        type: integer
                        format: int32
                      activeConnectionCount:
                        type: integer
                        format: int32
                      bySource:
                        type: object
                        additionalProperties:
                          type: object
                          properties:
                            count:
                              type: integer
                              format: int32
                            percentage:
                              type: number
                              format: float
                          required:
                            - count
                            - percentage
                      lastUpdatedAt:
                        type: string
                    required:
                      - totalProducts
                      - activeProducts
                      - sourceSupplierCount
                      - connectionCount
                      - activeConnectionCount
                      - lastUpdatedAt
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OrderBook
  /api/v1/organizations/{organizationId}/payment-methods:
    get:
      operationId: PaymentMethodsApi_listPaymentMethods
      summary: 列出支付方式
      description: 列出支付方式
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Billing.PaymentMethod'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Payment Methods
    post:
      operationId: PaymentMethodsApi_addPaymentMethod
      summary: 添加支付方式
      description: 添加支付方式
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Billing.PaymentMethod'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Payment Methods
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  allOf:
                    - $ref: '#/components/schemas/Billing.PaymentMethodType'
                  description: 支付类型
                paymentToken:
                  type: string
                  description: 支付 Token（由支付网关生成）
                setAsDefault:
                  type: boolean
                  description: 设为默认
              required:
                - type
                - paymentToken
        description: 添加请求
  /api/v1/organizations/{organizationId}/payment-methods/{paymentMethodId}:
    delete:
      operationId: PaymentMethodsApi_deletePaymentMethod
      summary: 删除支付方式
      description: 删除支付方式
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: paymentMethodId
          in: path
          required: true
          description: 支付方式 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Payment Methods
  /api/v1/organizations/{organizationId}/payment-methods/{paymentMethodId}/set-default:
    post:
      operationId: PaymentMethodsApi_setDefaultPaymentMethod
      summary: 设置默认支付方式
      description: 设置默认支付方式
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: paymentMethodId
          in: path
          required: true
          description: 支付方式 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Billing.PaymentMethod'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Payment Methods
  /api/v1/organizations/{organizationId}/subscription:
    get:
      operationId: OrganizationSubscriptionApi_getSubscription
      summary: 获取组织订阅信息
      description: 获取当前组织订阅信息
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Billing.OrganizationSubscription'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Subscription Management
    post:
      operationId: OrganizationSubscriptionApi_createSubscription
      summary: 创建或更新订阅
      description: 创建或更新组织订阅
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Billing.OrganizationSubscription'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Subscription Management
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                planId:
                  type: string
                  description: 计划 ID
                billingCycle:
                  allOf:
                    - $ref: '#/components/schemas/Billing.BillingCycle'
                  description: 计费周期
                paymentMethodId:
                  type: string
                  description: 支付方式 ID
              required:
                - planId
                - billingCycle
        description: 订阅请求
  /api/v1/organizations/{organizationId}/subscription/cancel:
    post:
      operationId: OrganizationSubscriptionApi_cancelSubscription
      summary: 取消订阅
      description: 取消订阅
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Billing.OrganizationSubscription'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Subscription Management
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                cancelImmediately:
                  type: boolean
                  description: 是否立即取消
                reason:
                  type: string
                  description: 取消原因
                feedback:
                  type: string
                  description: 反馈意见
              required:
                - cancelImmediately
        description: 取消请求
  /api/v1/organizations/{organizationId}/subscription/change-plan:
    post:
      operationId: OrganizationSubscriptionApi_changePlan
      summary: 变更订阅计划
      description: 升级/降级订阅
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      subscription:
                        allOf:
                          - $ref: '#/components/schemas/Billing.OrganizationSubscription'
                        description: 订阅信息
                      prorationAmount:
                        type: number
                        format: double
                        description: 按比例计费金额
                      nextBillingDate:
                        type: string
                        description: 下次账单日期
                    required:
                      - subscription
                      - prorationAmount
                      - nextBillingDate
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Subscription Management
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                targetPlanId:
                  type: string
                  description: 目标计划 ID
                billingCycle:
                  allOf:
                    - $ref: '#/components/schemas/Billing.BillingCycle'
                  description: 计费周期
                effectiveDate:
                  type: string
                  enum:
                    - immediate
                    - next_billing_cycle
                  description: 生效日期
              required:
                - targetPlanId
                - billingCycle
                - effectiveDate
        description: 变更计划请求
  /api/v1/organizations/{organizationId}/subscription/resume:
    post:
      operationId: OrganizationSubscriptionApi_resumeSubscription
      summary: 恢复订阅
      description: 恢复已取消的订阅
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Billing.OrganizationSubscription'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Subscription Management
  /api/v1/organizations/{organizationId}/usage:
    get:
      operationId: UsageApi_getUsage
      summary: 获取当前使用量
      description: 获取组织当前使用量
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Billing.OrganizationUsage'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Usage & Quota
  /api/v1/organizations/{organizationId}/usage/history:
    get:
      operationId: UsageApi_getUsageHistory
      summary: 获取使用量历史
      description: 获取使用量历史趋势
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
        - name: metricType
          in: query
          required: true
          description: 指标类型
          schema:
            $ref: '#/components/schemas/Billing.MetricType'
          explode: false
        - name: startDate
          in: query
          required: true
          description: 开始日期
          schema:
            type: string
          explode: false
        - name: endDate
          in: query
          required: true
          description: 结束日期
          schema:
            type: string
          explode: false
        - name: granularity
          in: query
          required: true
          description: 粒度（hour/day/month）
          schema:
            type: string
            enum:
              - hour
              - day
              - month
            default: day
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      metricType:
                        allOf:
                          - $ref: '#/components/schemas/Billing.MetricType'
                        description: 指标类型
                      dataPoints:
                        type: array
                        items:
                          $ref: '#/components/schemas/Billing.UsageDataPoint'
                        description: 数据点
                    required:
                      - metricType
                      - dataPoints
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Usage & Quota
  /api/v1/organizations/{organizationId}/usage/warnings:
    get:
      operationId: UsageApi_getQuotaWarnings
      summary: 获取配额警告
      description: 获取配额警告
      parameters:
        - name: organizationId
          in: path
          required: true
          description: 组织 ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      warnings:
                        type: array
                        items:
                          $ref: '#/components/schemas/Billing.QuotaWarning'
                        description: 警告列表
                    required:
                      - warnings
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Usage & Quota
  /api/v1/organizations/{organizationId}/workspaces:
    post:
      operationId: WorkspaceApi_create
      summary: 创建工作区
      description: |-
        创建工作区
        Create workspace

        在组织下创建新工作区。需要 organization.owner 或 organization.admin 权限。
        Create a new workspace under the organization. Requires organization.owner or organization.admin permission.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "产品团队",
            "slug": "product-team",
            "description": "产品开发工作区",
            "visibility": "private"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.Workspace'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.CreateWorkspaceRequest'
        description: |-
          创建请求
          Create request
    get:
      operationId: WorkspaceApi_list
      summary: 列出组织的工作区
      description: |-
        列出组织的工作区
        List organization's workspaces

        获取组织下所有工作区列表，仅返回用户有权限访问的工作区。
        Get the list of all workspaces under the organization. Only returns workspaces the user has permission to access.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces?page=1&pageSize=20' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
        - name: visibility
          in: query
          required: false
          description: |-
            过滤可见性
            Filter by visibility
          schema:
            $ref: '#/components/schemas/Tenant.WorkspaceVisibility'
          explode: false
        - name: includeArchived
          in: query
          required: false
          description: |-
            是否包含归档的工作区
            Whether to include archived workspaces
          schema:
            type: boolean
            default: false
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Tenant.Workspace'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
  /api/v1/organizations/{organizationId}/workspaces/{workspaceId}:
    get:
      operationId: WorkspaceApi_get
      summary: 获取工作区详情
      description: |-
        获取工作区详情
        Get workspace detail

        返回工作区的详细信息。需要是工作区成员。
        Returns detailed workspace information. Requires workspace membership.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.WorkspaceDetail'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
    patch:
      operationId: WorkspaceApi_update
      summary: 更新工作区信息
      description: |-
        更新工作区信息
        Update workspace info

        更新工作区的基本信息。需要 workspace.owner 权限。
        Update workspace's basic information. Requires workspace.owner permission.

        示例（cURL）：
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "新的工作区名称",
            "description": "更新后的描述"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.Workspace'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.UpdateWorkspaceRequest'
        description: |-
          更新请求
          Update request
    delete:
      operationId: WorkspaceApi_delete
      summary: 删除工作区
      description: |-
        删除工作区
        Delete workspace

        软删除工作区。需要 workspace.owner 或 organization.owner 权限。
        Soft delete workspace. Requires workspace.owner or organization.owner permission.

        示例（cURL）：
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
  /api/v1/organizations/{organizationId}/workspaces/{workspaceId}/archive:
    post:
      operationId: WorkspaceApi_archive
      summary: 归档工作区
      description: |-
        归档工作区
        Archive workspace

        归档工作区。需要 workspace.owner 或 organization.owner/admin 权限。
        Archive workspace. Requires workspace.owner or organization.owner/admin permission.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456/archive' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.Workspace'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
  /api/v1/organizations/{organizationId}/workspaces/{workspaceId}/doc/{docType}/{docId}:
    get:
      operationId: WorkspaceDocumentApi_getWorkspaceDocumentAggregate
      summary: 获取工作区文档聚合数据
      description: |-
        获取工作区级文档聚合数据
        Get workspace document aggregate

        一次性获取工作区级文档的多种数据。需要是工作区成员。
        Get multiple types of data for workspace-level document in one request. Requires workspace membership.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456/doc/purchaseOrder/doc-789?include=metadata,views,data' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
        - name: docType
          in: path
          required: true
          description: |-
            文档类型
            Document type
          schema:
            type: string
        - name: docId
          in: path
          required: true
          description: |-
            文档ID
            Document ID
          schema:
            type: string
        - name: include
          in: query
          required: false
          description: |-
            包含的数据部分（逗号分隔）
            Included data parts (comma-separated)

            可选值: properties, metadata, views, data, comments, revisions, settings
            Options: properties, metadata, views, data, comments, revisions, settings
          schema:
            type: string
          explode: false
        - name: viewId
          in: query
          required: false
          description: |-
            视图ID
            View ID
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
          explode: false
        - name: commentsLimit
          in: query
          required: false
          description: |-
            评论数量限制
            Comments limit
          schema:
            type: integer
            format: int32
          explode: false
        - name: revisionsLimit
          in: query
          required: false
          description: |-
            修订数量限制
            Revisions limit
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.DocBundle'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Tenancy
  /api/v1/organizations/{organizationId}/workspaces/{workspaceId}/documents:
    get:
      operationId: WorkspaceDocumentApi_listWorkspaceDocuments
      summary: 列出工作区文档
      description: |-
        列出工作区文档
        List workspace documents

        获取工作区下的所有文档列表。需要是工作区成员。
        Get the list of all documents under the workspace. Requires workspace membership.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456/documents?docType=purchaseOrder&page=1&pageSize=20' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
        - name: docType
          in: query
          required: false
          description: |-
            文档类型过滤
            Filter by document type
          schema:
            type: string
          explode: false
        - name: search
          in: query
          required: false
          description: |-
            搜索关键词
            Search keyword
          schema:
            type: string
          explode: false
        - name: createdBy
          in: query
          required: false
          description: |-
            创建者过滤
            Filter by creator
          schema:
            type: string
          explode: false
        - name: sort
          in: query
          required: false
          description: |-
            排序字段
            Sort field
          schema:
            type: string
            default: updatedAt
          explode: false
        - name: direction
          in: query
          required: false
          description: |-
            排序方向
            Sort direction
          schema:
            $ref: '#/components/schemas/Common.Direction'
            default: desc
          explode: false
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.DocumentSummary'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Tenancy
  /api/v1/organizations/{organizationId}/workspaces/{workspaceId}/members:
    get:
      operationId: WorkspaceApi_listMembers
      summary: 列出工作区成员
      description: |-
        列出工作区成员
        List workspace members

        获取工作区的所有成员列表。需要是工作区成员。
        Get the list of all workspace members. Requires workspace membership.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456/members' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
        - name: page
          in: query
          required: false
          description: |-
            页码
            Page number
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
        - name: role
          in: query
          required: false
          description: |-
            按角色过滤
            Filter by role
          schema:
            $ref: '#/components/schemas/Tenant.WorkspaceRole'
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Tenant.WorkspaceMember'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
    post:
      operationId: WorkspaceApi_addMember
      summary: 添加工作区成员
      description: |-
        添加工作区成员
        Add workspace member

        将用户添加为工作区成员。需要 workspace.owner 权限。用户必须是组织成员。
        Add a user as workspace member. Requires workspace.owner permission. User must be organization member.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456/members' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "userId": "user-789",
            "role": "editor"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.WorkspaceMember'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.AddWorkspaceMemberRequest'
        description: |-
          添加成员请求
          Add member request
  /api/v1/organizations/{organizationId}/workspaces/{workspaceId}/members/{memberId}:
    get:
      operationId: WorkspaceApi_getMember
      summary: 获取工作区成员详情
      description: |-
        获取工作区成员详情
        Get workspace member detail

        获取指定成员的详细信息。
        Get detailed information of a specified member.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456/members/member-999' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
        - name: memberId
          in: path
          required: true
          description: |-
            成员ID
            Member ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.WorkspaceMember'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
    patch:
      operationId: WorkspaceApi_updateMember
      summary: 更新工作区成员角色
      description: |-
        更新工作区成员角色
        Update workspace member role

        更新工作区成员的角色或状态。需要 workspace.owner 权限。
        Update workspace member's role or status. Requires workspace.owner permission.

        示例（cURL）：
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456/members/member-999' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "role": "viewer"
          }'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
        - name: memberId
          in: path
          required: true
          description: |-
            成员ID
            Member ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.WorkspaceMember'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.UpdateWorkspaceMemberRequest'
        description: |-
          更新请求
          Update request
    delete:
      operationId: WorkspaceApi_removeMember
      summary: 移除工作区成员
      description: |-
        移除工作区成员
        Remove workspace member

        从工作区移除成员。需要 workspace.owner 权限。
        Remove a member from the workspace. Requires workspace.owner permission.

        示例（cURL）：
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456/members/member-999' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
        - name: memberId
          in: path
          required: true
          description: |-
            成员ID
            Member ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
  /api/v1/organizations/{organizationId}/workspaces/{workspaceId}/restore:
    post:
      operationId: WorkspaceApi_restore
      summary: 恢复归档的工作区
      description: |-
        恢复归档的工作区
        Restore archived workspace

        恢复已归档的工作区。需要 workspace.owner 或 organization.owner/admin 权限。
        Restore an archived workspace. Requires workspace.owner or organization.owner/admin permission.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/workspaces/ws-456/restore' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: organizationId
          in: path
          required: true
          description: |-
            组织ID
            Organization ID
          schema:
            type: string
        - name: workspaceId
          in: path
          required: true
          description: |-
            工作区ID
            Workspace ID
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.Workspace'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Workspaces
  /api/v1/users/me:
    get:
      operationId: UserApi_getCurrentUser
      summary: 获取当前用户信息
      description: |-
        获取当前用户信息
        Get current user info

        返回当前登录用户的完整信息，包括默认组织和工作区。
        Returns complete info of the current logged-in user, including default organization and workspace.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/users/me' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.User'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Users
    patch:
      operationId: UserApi_updateCurrentUser
      summary: 更新当前用户信息
      description: |-
        更新当前用户信息
        Update current user info

        更新当前用户的个人信息和偏好设置。
        Update personal information and preferences of the current user.

        示例（cURL）：
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/users/me' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "displayName": "张三",
            "locale": "zh-CN",
            "timezone": "Asia/Shanghai"
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.User'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.UpdateUserRequest'
  /api/v1/users/me/oauth:
    get:
      operationId: UserApi_listOAuthConnections
      summary: 列出 OAuth 连接
      description: |-
        列出当前用户的 OAuth 连接
        List current user's OAuth connections

        获取当前用户已绑定的所有 OAuth 提供商列表。
        Get the list of all OAuth providers bound to the current user.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/users/me/oauth' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Tenant.OAuthConnection'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Users
  /api/v1/users/me/oauth/{provider}:
    post:
      operationId: UserApi_bindOAuthProvider
      summary: 绑定 OAuth 提供商
      description: |-
        绑定 OAuth 提供商
        Bind OAuth provider

        将第三方 OAuth 提供商与当前用户账号关联。
        Associate a third-party OAuth provider with the current user account.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/users/me/oauth/github' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "authorizationCode": "AUTH_CODE_FROM_GITHUB"
          }'
        ```
      parameters:
        - name: provider
          in: path
          required: true
          description: |-
            OAuth 提供商名称
            OAuth provider name
          schema:
            $ref: '#/components/schemas/Tenant.OAuthProvider'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Tenant.OAuthConnection'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Tenant.BindOAuthRequest'
        description: |-
          绑定请求
          Bind request
    delete:
      operationId: UserApi_unbindOAuthProvider
      summary: 解绑 OAuth 提供商
      description: |-
        解绑 OAuth 提供商
        Unbind OAuth provider

        移除当前用户与指定 OAuth 提供商的关联。
        Remove the association between current user and specified OAuth provider.

        示例（cURL）：
        ```bash
        curl -X DELETE 'https://open.nexusbook.app/api/v1/users/me/oauth/github' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: provider
          in: path
          required: true
          description: |-
            OAuth 提供商名称
            OAuth provider name
          schema:
            $ref: '#/components/schemas/Tenant.OAuthProvider'
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Users
  /api/v1/users/me/organizations:
    get:
      operationId: UserApi_listUserOrganizations
      summary: 列出用户加入的组织
      description: |-
        列出用户加入的组织
        List user's organizations

        返回用户作为成员的所有组织列表，包含角色信息。
        Returns the list of all organizations where the user is a member, including role information.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/users/me/organizations?page=1&pageSize=20' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: page
          in: query
          required: false
          description: |-
            页码（从1开始）
            Page number (starts from 1)
          schema:
            type: integer
            format: int32
            default: 1
          explode: false
        - name: pageSize
          in: query
          required: false
          description: |-
            每页数量
            Page size
          schema:
            type: integer
            format: int32
            default: 20
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Tenant.UserOrganizationMembership'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Users
  /api/v1/users/me/preferences:
    get:
      operationId: UserPreferencesApi_getUserPreferences
      summary: 获取当前用户偏好设置
      description: |-
        获取当前用户偏好设置
        Get current user preferences

        返回当前用户的完整偏好设置或指定部分。
        Returns complete preferences or specified section for current user.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/users/me/preferences?section=regional' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: section
          in: query
          required: false
          description: |-
            获取特定部分
            Get specific section (general/appearance/notifications/regional/accessibility/privacy)
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Preferences.UserPreferences'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - User Preferences
    patch:
      operationId: UserPreferencesApi_updateUserPreferences
      summary: 更新用户偏好设置
      description: |-
        更新用户偏好设置
        Update user preferences

        更新当前用户的偏好设置（部分更新）。
        Update current user's preferences (partial update).

        示例（cURL）：
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/users/me/preferences' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "regional": {
              "language": "zh",
              "timezone": "Asia/Shanghai",
              "dateFormat": "YYYY-MM-DD",
              "timeFormat": "24h",
              "firstDayOfWeek": "monday",
              "currency": "CNY"
            }
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Preferences.UserPreferences'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - User Preferences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                general:
                  allOf:
                    - $ref: '#/components/schemas/Preferences.GeneralPreferences'
                  description: |-
                    通用偏好
                    General preferences
                appearance:
                  allOf:
                    - $ref: '#/components/schemas/Preferences.AppearancePreferences'
                  description: |-
                    外观偏好
                    Appearance preferences
                regional:
                  allOf:
                    - $ref: '#/components/schemas/Preferences.RegionalPreferences'
                  description: |-
                    地区偏好
                    Regional preferences
                accessibility:
                  allOf:
                    - $ref: '#/components/schemas/Preferences.AccessibilityPreferences'
                  description: |-
                    辅助功能偏好
                    Accessibility preferences
                privacy:
                  allOf:
                    - $ref: '#/components/schemas/Preferences.PrivacyPreferences'
                  description: |-
                    隐私偏好
                    Privacy preferences
  /api/v1/users/me/preferences/language:
    get:
      operationId: UserPreferencesApi_getLanguagePreferences
      summary: 获取用户语言偏好
      description: |-
        获取用户语言偏好
        Get user language preferences

        获取当前用户的语言相关偏好设置。
        Get language-related preferences for current user.

        示例（cURL）：
        ```bash
        curl -X GET 'https://open.nexusbook.app/api/v1/users/me/preferences/language' \
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Preferences.LanguagePreferences'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - User Preferences
    put:
      operationId: UserPreferencesApi_updateLanguagePreferences
      summary: 更新用户语言偏好
      description: |-
        更新用户语言偏好
        Update user language preferences

        更新当前用户的语言相关偏好设置。
        Update language-related preferences for current user.

        示例（cURL）：
        ```bash
        curl -X PUT 'https://open.nexusbook.app/api/v1/users/me/preferences/language' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "primaryLanguage": "zh",
            "contentLanguages": ["zh", "en", "ja"],
            "autoDetect": true,
            "fallbackLanguage": "en"
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Preferences.LanguagePreferences'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - User Preferences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Preferences.LanguagePreferences'
  /api/v1/users/me/preferences/reset:
    post:
      operationId: UserPreferencesApi_resetUserPreferences
      summary: 重置用户偏好为默认值
      description: |-
        重置用户偏好为默认值
        Reset user preferences to defaults

        将指定部分或全部偏好设置重置为默认值。
        Reset specified sections or all preferences to defaults.

        示例（cURL）：
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/users/me/preferences/reset' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "sections": ["appearance", "notifications"],
            "resetAll": false
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Preferences.UserPreferences'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - User Preferences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                sections:
                  type: array
                  items:
                    type: string
                  description: |-
                    要重置的部分列表
                    Sections to reset
                resetAll:
                  type: boolean
                  description: |-
                    重置全部
                    Reset all
  /attachments:
    get:
      operationId: AttachmentsApi_listAttachments
      summary: 列出附件
      description: |-
        列出附件

        List attachments

        查询附件列表，支持过滤和分页。
        Query attachments with filtering and pagination.
      parameters:
        - name: organizationId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: workspaceId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: relatedDocType
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: relatedDocId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: relatedRowId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: mimeType
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: tags
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: createdBy
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.AttachmentDetail'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
  /attachments/cleanup:
    post:
      operationId: AttachmentsApi_cleanupExpiredAttachments
      summary: 清理过期附件
      description: |-
        清理过期附件

        Clean expired attachments

        清理已过期的临时附件。
        Clean up expired temporary attachments.
      parameters:
        - name: organizationId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: dryRun
          in: query
          required: false
          schema:
            type: boolean
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      cleanedCount:
                        type: integer
                        format: int32
                        description: |-
                          清理数量
                          Cleaned count
                      freedSpace:
                        type: integer
                        format: int64
                        description: |-
                          释放空间（字节）
                          Freed space in bytes
                      cleanedAttachments:
                        type: array
                        items:
                          type: string
                        description: |-
                          清理的附件列表（仅 dryRun=true 时返回）
                          Cleaned attachments (only when dryRun=true)
                    required:
                      - cleanedCount
                      - freedSpace
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
  /attachments/quota/{organizationId}:
    get:
      operationId: AttachmentsApi_getStorageQuota
      summary: 获取存储配额
      description: |-
        获取存储配额

        Get storage quota

        查询组织的存储配额使用情况。
        Query organization storage quota usage.
      parameters:
        - name: organizationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.StorageQuota'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
  /attachments/upload:
    post:
      operationId: AttachmentsApi_uploadAttachment
      summary: 上传附件
      description: |-
        上传附件

        Upload attachment

        上传文件并返回附件信息。支持自动扫描和缩略图生成。
        Upload file and return attachment info. Supports automatic scanning and thumbnail generation.

        支持的参数:
        - `file` - 文件（必需）
        - `scanForVirus` - 是否扫描病毒
        - `generateThumbnail` - 是否生成缩略图
        - `generatePreview` - 是否生成预览
        - `tags` - 标签（逗号分隔）
        - `isPublic` - 是否公开访问
        - `expiresIn` - 过期时间（秒）
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.AttachmentDetail'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
      requestBody:
        required: true
        content:
          application/octet-stream:
            schema:
              type: string
              format: binary
  /attachments/upload/batch:
    post:
      operationId: AttachmentsApi_batchUploadAttachments
      summary: 批量上传附件
      description: |-
        批量上传附件

        Batch upload attachments

        一次性上传多个文件。
        Upload multiple files at once.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      uploaded:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.AttachmentDetail'
                        description: |-
                          上传成功的附件
                          Successfully uploaded
                      failures:
                        type: array
                        items:
                          type: object
                          properties:
                            fileName:
                              type: string
                            reason:
                              type: string
                          required:
                            - fileName
                            - reason
                        description: |-
                          上传失败的文件
                          Failed uploads
                    required:
                      - uploaded
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
      requestBody:
        required: true
        content:
          application/octet-stream:
            schema:
              type: string
              format: binary
  /attachments/{attachmentId}:
    get:
      operationId: AttachmentsApi_getAttachment
      summary: 获取附件详情
      description: |-
        获取附件详情

        Get attachment details

        返回附件的完整信息。
        Return complete attachment information.
      parameters:
        - name: attachmentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.AttachmentDetail'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
    patch:
      operationId: AttachmentsApi_updateAttachment
      summary: 更新附件元数据
      description: |-
        更新附件元数据

        Update attachment metadata

        更新附件的标签、名称等元数据。
        Update attachment tags, name and other metadata.
      parameters:
        - name: attachmentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.AttachmentDetail'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                fileName:
                  type: string
                tags:
                  type: array
                  items:
                    type: string
                metadata: {}
                isPublic:
                  type: boolean
    delete:
      operationId: AttachmentsApi_deleteAttachment
      summary: 删除附件
      description: |-
        删除附件

        Delete attachment

        删除附件及其所有版本。此操作不可恢复。
        Delete attachment and all its versions. This action is irreversible.
      parameters:
        - name: attachmentId
          in: path
          required: true
          schema:
            type: string
        - name: permanent
          in: query
          required: false
          schema:
            type: boolean
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
  /attachments/{attachmentId}/download:
    get:
      operationId: AttachmentsApi_getAttachmentDownloadUrl
      summary: 获取下载链接
      description: |-
        获取下载URL

        Get download URL

        生成附件的临时下载URL。
        Generate temporary download URL for attachment.
      parameters:
        - name: attachmentId
          in: path
          required: true
          schema:
            type: string
        - name: expiresIn
          in: query
          required: false
          schema:
            type: integer
            format: int64
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      downloadUrl:
                        type: string
                        description: |-
                          下载URL
                          Download URL
                      expiresAt:
                        type: string
                        description: |-
                          过期时间
                          Expires at
                    required:
                      - downloadUrl
                      - expiresAt
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
  /attachments/{attachmentId}/preview:
    get:
      operationId: AttachmentsApi_getAttachmentPreview
      summary: 获取预览
      description: |-
        获取预览URL

        Get preview URL

        生成附件的预览URL（支持图片、PDF等）。
        Generate preview URL for attachment (supports images, PDF, etc).
      parameters:
        - name: attachmentId
          in: path
          required: true
          schema:
            type: string
        - name: size
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Document.PreviewSize'
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      previewUrl:
                        type: string
                        description: |-
                          预览URL
                          Preview URL
                      expiresAt:
                        type: string
                        description: |-
                          过期时间
                          Expires at
                    required:
                      - previewUrl
                      - expiresAt
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
  /attachments/{attachmentId}/versions:
    get:
      operationId: AttachmentsApi_getAttachmentVersions
      summary: 获取附件版本
      description: |-
        获取附件版本列表

        Get attachment versions

        返回附件的所有历史版本。
        Return all historical versions of the attachment.
      parameters:
        - name: attachmentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Document.AttachmentVersion'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
    post:
      operationId: AttachmentsApi_createAttachmentVersion
      summary: 创建新版本
      description: |-
        创建附件新版本

        Create attachment version

        为现有附件上传新版本。
        Upload new version for existing attachment.
      parameters:
        - name: attachmentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.AttachmentVersion'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Attachments
      requestBody:
        required: true
        content:
          application/octet-stream:
            schema:
              type: string
              format: binary
  /authorize:
    get:
      operationId: AuthApi_authorize
      summary: 授权请求
      description: |-
        授权码流程的授权端点。

        Authorization endpoint for authorization code flow.
      parameters: []
      responses:
        '204':
          description: 'There is no content to send for this request, but the headers may be useful. '
      tags:
        - OAuth
  /consent:
    get:
      operationId: OAuthExtensionsApi_getAuthorizationRequestDetails
      summary: 获取授权请求详情
      description: |-
        获取授权请求详情
        Get authorization request details

        获取授权请求的详细信息，用于显示授权同意界面。
        Get details of authorization request for displaying consent screen.
      parameters:
        - name: requestId
          in: query
          required: true
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.AuthorizationRequestDetails'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Extensions
    post:
      operationId: OAuthExtensionsApi_submitAuthorizationDecision
      summary: 提交授权决策
      description: |-
        提交授权决策
        Submit authorization decision

        用户确认或拒绝授权请求。
        User approves or denies authorization request.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.AuthorizationDecisionResponse'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Extensions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.AuthorizationDecisionRequest'
  /device/authorize:
    post:
      operationId: OAuthExtensionsApi_deviceAuthorization
      summary: 设备授权请求
      description: |-
        设备授权请求 (RFC 8628)
        Device authorization request (RFC 8628)

        启动设备授权流程，返回设备码和用户码。
        Start device authorization flow, returns device code and user code.

        示例（cURL）：
        ```bash
        curl -X POST 'https://auth.nexusbook.app/device/authorize' \
          -H 'Content-Type: application/x-www-form-urlencoded' \
          -d 'client_id=CLIENT_ID&scope=doc:read data:read'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Auth.DeviceAuthorizationResponse'
      tags:
        - OAuth Extensions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.DeviceAuthorizationRequest'
  /device/confirm:
    post:
      operationId: OAuthExtensionsApi_confirmDeviceAuthorization
      summary: 设备授权确认
      description: |-
        设备授权确认
        Device authorization confirmation

        用户在验证页面输入用户码后确认授权。
        User confirms authorization after entering user code on verification page.

        示例（cURL）：
        ```bash
        curl -X POST 'https://auth.nexusbook.app/device/confirm' \
          -H 'Authorization: Bearer USER_TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "user_code": "WDJB-MJHT",
            "approved": true
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth Extensions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.DeviceAuthorizationConfirmRequest'
  /doc/{docType}/setting:
    get:
      operationId: TypeSettingsApi_getTypeSetting
      summary: 类型设置
      description: |-
        获取文档类型公共设置。

        Get type-level settings.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Settings'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Core
    put:
      operationId: TypeSettingsApi_putTypeSetting
      summary: 更新类型设置
      description: |-
        更新文档类型公共设置。

        Update type-level settings.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Settings'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Core
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Settings'
  /doc/{docType}/{docId}:
    get:
      operationId: DocumentAggregateApi_getDocBundle
      summary: 获取聚合文档包
      description: |-
        获取聚合文档包（支持 include 选择与分页）

        Fetch aggregated doc bundle (supports include selection and pagination)

        一次性获取文档的所需数据：通过 `include` 指定返回部分（如 `metadata,views,data,comments,revisions,settings`），
        支持视图分页（`page/pageSize`）与限制数量（`commentsLimit/revisionsLimit`）。

        Fetch aggregated doc bundle with selective sections via `include` (e.g. `metadata,views,data,comments,revisions,settings`),
        supports view paging (`page/pageSize`) and limits (`commentsLimit/revisionsLimit`).

        示例（cURL）:
        ```bash
        curl -H 'Authorization: Bearer TOKEN' \
          'https://open.nexusbook.app/api/v1/doc/product/123?include=metadata,views,data&page=1&pageSize=20'
        ```
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: include
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: viewId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: commentsLimit
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: revisionsLimit
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.DocBundle'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Core
  /doc/{docType}/{docId}/approval:
    get:
      operationId: ApprovalApi_getApproval
      summary: 获取审批
      description: |-
        获取审批流程定义或实例概述。

        Get approval flow definition or instance overview.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/approval/start:
    post:
      operationId: ApprovalApi_startApproval
      summary: 发起审批
      description: |-
        在文档上发起审批流程。

        Start approval flow on the document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.ApprovalInstance'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/approval/{instanceId}:
    get:
      operationId: ApprovalInstanceApi_getApprovalInstance
      summary: 审批详情
      description: |-
        获取审批实例详情。

        Get approval instance detail.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: instanceId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.ApprovalInstance'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/approval/{instanceId}/decision:
    post:
      operationId: ApprovalInstanceApi_decideApproval
      summary: 审批决策
      description: |-
        对审批实例进行通过或拒绝的决策。

        Decide approval (approve or reject).
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: instanceId
          in: path
          required: true
          schema:
            type: string
        - name: result
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/Common.ApprovalDecision'
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.ApprovalInstance'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/comments:
    get:
      operationId: CommentsApi_listComments
      summary: 列出评论
      description: |-
        列出指定位置的评论

        List comments at specified location

        支持按位置（文档/字段/行/单元格）过滤评论。
        Supports filtering by location (document/field/row/cell).

        查询参数示例:
        - `scope=document` - 文档级评论
        - `scope=field&fieldId=field-123` - 指定字段的评论
        - `scope=row&rowId=row-456` - 指定行的评论
        - `scope=cell&rowId=row-456&fieldId=field-123` - 指定单元格的评论
        - `parentId=comment-789` - 指定评论的回复

        Query examples:
        - `scope=document` - Document-level comments
        - `scope=field&fieldId=field-123` - Comments on specific field
        - `scope=row&rowId=row-456` - Comments on specific row
        - `scope=cell&rowId=row-456&fieldId=field-123` - Comments on specific cell
        - `parentId=comment-789` - Replies to specific comment
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: scope
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: fieldId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: rowId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: parentId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Comment'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
    post:
      operationId: CommentsApi_createComment
      summary: 创建评论
      description: |-
        创建新评论

        Create new comment

        在指定位置创建评论。如果是回复，需指定 parentId。
        Create a comment at specified location. Specify parentId if it's a reply.

        示例 - 创建文档级评论 (Document-level comment):
        ```json
        {
          "target": { "scope": "document" },
          "content": "这是一条文档级评论"
        }
        ```

        示例 - 创建单元格评论 (Cell comment):
        ```json
        {
          "target": { "scope": "cell", "rowId": "row-1", "fieldId": "name" },
          "content": "这个单元格的数据看起来不对"
        }
        ```

        示例 - 创建回复 (Reply to comment):
        ```json
        {
          "target": { "scope": "cell", "rowId": "row-1", "fieldId": "name" },
          "parentId": "comment-original-1",
          "content": "我同意，需要修正这个数据"
        }
        ```
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Comment'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Comment'
  /doc/{docType}/{docId}/comments/{commentId}:
    get:
      operationId: CommentsApi_getComment
      summary: 获取评论详情
      description: |-
        获取评论详情

        Get comment detail

        包括所有回复和反应信息。
        Includes all replies and reactions.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Comment'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
    put:
      operationId: CommentsApi_updateComment
      summary: 更新评论
      description: |-
        更新评论

        Update comment

        只有创建者或管理员可以编辑评论。
        Only creator or admin can edit comment.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Comment'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Comment'
    delete:
      operationId: CommentsApi_deleteComment
      summary: 删除评论
      description: |-
        删除评论

        Delete comment

        删除评论会同时删除其所有回复。
        Deleting comment also deletes all its replies.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /doc/{docType}/{docId}/comments/{commentId}/pin:
    post:
      operationId: CommentsApi_pinComment
      summary: 置顶评论
      description: |-
        置顶评论

        Pin comment

        将评论置顶，重要评论可以固定在顶部。
        Pin important comments to the top.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Comment'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /doc/{docType}/{docId}/comments/{commentId}/reactions:
    post:
      operationId: CommentsApi_addReaction
      summary: 添加表情反应
      description: |-
        添加表情反应

        Add emoji reaction

        在评论上添加表情反应（如 👍、❤️ 等）。
        Add emoji reaction to comment (e.g. 👍, ❤️).
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          schema:
            type: string
        - name: emoji
          in: query
          required: true
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Comment'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /doc/{docType}/{docId}/comments/{commentId}/reactions/{emoji}:
    delete:
      operationId: CommentsApi_removeReaction
      summary: 移除表情反应
      description: |-
        移除表情反应

        Remove emoji reaction
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          schema:
            type: string
        - name: emoji
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Comment'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /doc/{docType}/{docId}/comments/{commentId}/resolve:
    post:
      operationId: CommentsApi_resolveComment
      summary: 标记已解决
      description: |-
        标记为已解决

        Mark comment as resolved

        标记评论及其讨论线程为已解决。
        Mark comment and its discussion thread as resolved.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Comment'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /doc/{docType}/{docId}/comments/{commentId}/unpin:
    post:
      operationId: CommentsApi_unpinComment
      summary: 取消置顶
      description: |-
        取消置顶

        Unpin comment
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Comment'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /doc/{docType}/{docId}/comments/{commentId}/unresolve:
    post:
      operationId: CommentsApi_unresolveComment
      summary: 取消已解决标记
      description: |-
        取消解决标记

        Unresolved comment
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: commentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Comment'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /doc/{docType}/{docId}/data:
    get:
      operationId: DataApi_listRows
      summary: 列出数据
      description: |-
        以分页返回数据行，支持简单 DSL 查询参数（`page/pageSize/sort/filter/group/cursor`）。

        List rows with pagination, supports simple DSL query parameters
        (`page/pageSize/sort/filter/group/cursor`).

        ## 数据叠加读取

        如果提供 `requestId` 参数，返回的数据将是：
        **生产数据 + Request 变更**的叠加视图。

        If `requestId` is provided, the returned data will be:
        **Production data + Request changes** merged view.

        示例：
        ```bash
        # 查看生产数据
        GET /api/v1/doc/product/123/data

        # 预览变更效果（叠加 Request 变更）
        GET /api/v1/doc/product/123/data?requestId=req-abc

        # 查看变更详情（包含变更标记）
        GET /api/v1/doc/product/123/data?requestId=req-abc&includeChanges=true
        ```
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: sort
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: filter
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: group
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: cursor
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: includeChanges
          in: query
          required: false
          schema:
            type: boolean
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Row'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Data
    post:
      operationId: DataApi_createRow
      summary: 创建数据行
      description: |-
        创建数据行（进入变更请求）

        Create data row (goes into change request)

        创建的数据行会添加到指定的变更请求中，不会立即生效。
        Created row will be added to the specified change request, not applied immediately.

        - 如果指定 `requestId`，追加到该请求
        - 如果不指定，创建新的请求或追加到默认请求
        - 多人可以编辑同一个请求
        - 请求合并后才真正生效

        Request workflow:
        - If `requestId` specified, append to that request
        - If not specified, create new request or append to default request
        - Multiple users can edit the same request
        - Changes apply only after request is merged

        示例（cURL）:
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/doc/product/123/data?requestId=req-1' \\
          -H 'Authorization: Bearer TOKEN' \\
          -H 'Content-Type: application/json' \\
          -d '{"id":"row-1","values":[{"fieldId":"name","value":{"text":"新产品"}}]}'
        ```
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Request'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Data
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Row'
  /doc/{docType}/{docId}/data/bulk:
    post:
      operationId: DataApi_bulkUpdate
      summary: 批量更新
      description: |-
        批量更新数据和属性（进入变更请求）

        Bulk update data and properties (goes into change request)

        灵活的批量更新接口，支持：
        - 修改单个/多个字段
        - 修改单行/多行
        - 修改单个/多个属性
        - 值始终保持简单（原始格式）

        Flexible bulk update interface supporting:
        - Update single/multiple fields
        - Update single/multiple rows
        - Update single/multiple properties
        - Values always stay simple (raw format)

        示例（cURL）：
        ```bash
        # 1. 修改单个字段
        curl -X POST '.../data/bulk?requestId=req-1' -d '[
          {"target": {"row": "row-1", "field": "price"}, "value": 99.99}
        ]'

        # 2. 修改整行
        curl -X POST '.../data/bulk?requestId=req-1' -d '[
          {
            "target": {"row": "row-1"},
            "value": {"price": 99.99, "name": "iPhone 15", "stock": 50}
          }
        ]'

        # 3. 修改多行的同一字段
        curl -X POST '.../data/bulk?requestId=req-1' -d '[
          {
            "target": {"rows": ["row-1", "row-2", "row-3"], "field": "status"},
            "value": "active"
          }
        ]'

        # 4. 修改多行的同一字段（不同值）
        curl -X POST '.../data/bulk?requestId=req-1' -d '[
          {
            "target": {"rows": ["row-1", "row-2", "row-3"], "field": "price"},
            "value": [99.99, 88.88, 77.77]
          }
        ]'

        # 5. 修改单个属性
        curl -X POST '.../data/bulk?requestId=req-1' -d '[
          {"target": {"property": "amount"}, "value": 5000.00}
        ]'

        # 6. 修改多个属性
        curl -X POST '.../data/bulk?requestId=req-1' -d '[
          {
            "target": {"properties": true},
            "value": {"amount": 5000.00, "quantity": 100, "date": "2024-12-05"}
          }
        ]'

        # 7. 混合更新（数据 + 属性）
        curl -X POST '.../data/bulk?requestId=req-1' -d '[
          {"target": {"row": "row-1", "field": "price"}, "value": 99.99},
          {"target": {"property": "amount"}, "value": 5000.00}
        ]'
        ```

        服务端处理逻辑：
        1. 根据 docId 获取 metadata
        2. 对每个 target，解析目标类型（行/属性）
        3. 查找字段定义获取类型
        4. 将原始值转换为类型化值
        5. 验证值的有效性
        6. 添加到指定的 Request

        Server processing:
        1. Get metadata by docId
        2. For each target, parse target type (row/property)
        3. Lookup field definition to get type
        4. Convert raw value to typed value
        5. Validate value
        6. Add to specified Request
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Request'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Data
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/Document.BulkUpdate'
  /doc/{docType}/{docId}/data/query:
    post:
      operationId: DataApi_queryRows
      summary: 结构化查询数据
      description: |-
        以结构化体进行复杂查询（嵌套过滤、排序、分页）。

        Perform complex query with structured body (nested filters, sorts, pagination).

        注意：如果需要分组查询，请使用 `/query/group` 接口。
        Note: For group queries, use `/query/group` endpoint.

        ## 数据叠加读取

        支持通过 `requestId` 查询参数获取叠加后的数据视图。
        Supports `requestId` query parameter for merged data view.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: includeChanges
          in: query
          required: false
          schema:
            type: boolean
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Row'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Data
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.QueryRequest'
  /doc/{docType}/{docId}/data/query/group:
    post:
      operationId: DataApi_queryGroupedRows
      summary: 分组查询数据
      description: |-
        分组查询接口（支持多级分组与聚合）

        Group query endpoint (supports multi-level grouping and aggregations)

        该接口专门用于分组查询，返回树状结构的分组结果。
        This endpoint is specifically for grouped queries, returning tree-structured group results.

        ## 多级分组示例

        ### 单级分组 (Single-level grouping)
        ```json
        {
          "filters": {...},
          "group": {
            "fields": ["category"],
            "aggregations": [
              {"kind": "count", "field": "*"},
              {"kind": "sum", "field": "amount"}
            ]
          }
        }
        ```

        ### 二级分组 (Two-level grouping)
        ```json
        {
          "group": {
            "fields": ["region", "category"],
            "aggregations": [
              {"kind": "count", "field": "*"},
              {"kind": "sum", "field": "revenue"}
            ]
          }
        }
        ```

        ### 三级分组 (Three-level grouping)
        ```json
        {
          "group": {
            "fields": ["region", "category", "status"],
            "aggregations": [{"kind": "count", "field": "*"}]
          }
        }
        ```

        ## 返回结构示例

        ```json
        {
          "groups": [
            {
              "key": "North",
              "field": "region",
              "count": 100,
              "aggregations": {"count_*": 100, "sum_revenue": 50000},
              "children": [
                {
                  "key": "Electronics",
                  "field": "category",
                  "count": 60,
                  "aggregations": {"count_*": 60, "sum_revenue": 30000}
                },
                {
                  "key": "Clothing",
                  "field": "category",
                  "count": 40,
                  "aggregations": {"count_*": 40, "sum_revenue": 20000}
                }
              ]
            }
          ],
          "total": 100,
          "groupBy": {...}
        }
        ```

        ## 数据叠加读取

        支持通过 `requestId` 查询参数获取叠加后的数据视图。
        Supports `requestId` query parameter for merged data view.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: includeChanges
          in: query
          required: false
          schema:
            type: boolean
          explode: false
        - name: includeRows
          in: query
          required: false
          schema:
            type: boolean
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Common.GroupedResult'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Data
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.QueryRequest'
  /doc/{docType}/{docId}/data/{rowId}:
    get:
      operationId: DataApi_getRow
      summary: 获取单行详情
      description: |-
        返回单条数据行详情。

        Return single row detail.

        ## 数据叠加读取

        支持通过 `requestId` 查询参数获取叠加后的数据视图。
        Supports `requestId` query parameter for merged data view.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: rowId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: includeChanges
          in: query
          required: false
          schema:
            type: boolean
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Row'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Data
    put:
      operationId: DataApi_updateRow
      summary: 更新数据行
      description: |-
        更新数据行（进入变更请求）

        Update data row (goes into change request)

        更新的数据行会添加到指定的变更请求中，不会立即生效。
        Updated row will be added to the specified change request, not applied immediately.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: rowId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Request'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Data
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Row'
    delete:
      operationId: DataApi_deleteRow
      summary: 删除数据行
      description: |-
        删除数据行（进入变更请求）

        Delete data row (goes into change request)

        删除操作会添加到指定的变更请求中，不会立即生效。
        Delete operation will be added to the specified change request, not applied immediately.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: rowId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Request'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Data
  /doc/{docType}/{docId}/metadata:
    get:
      operationId: MetadataApi_getMetadata
      summary: 获取文档元数据
      description: |-
        返回字段定义与显示配置，供渲染与校验使用。

        Returns field definitions and display settings for rendering and validation.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Metadata'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Core
    put:
      operationId: MetadataApi_putMetadata
      summary: 更新文档元数据
      description: |-
        更新字段与显示配置，需具备管理权限。

        Update fields and display settings, requires manage permission.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Metadata'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Core
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Metadata'
  /doc/{docType}/{docId}/properties:
    get:
      operationId: DocumentPropertiesApi_getProperties
      summary: 获取文档属性
      description: |-
        获取文档属性

        Get document properties

        获取文档级别的所有元信息（订单时间、门店、金额等）。
        Get all document-level metadata (order time, store, amount, etc).

        ## 数据叠加读取

        支持通过 `requestId` 查询参数获取叠加后的属性视图。
        Supports `requestId` query parameter for merged properties view.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: includeChanges
          in: query
          required: false
          schema:
            type: boolean
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.DocumentProperties'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Properties
    post:
      operationId: DocumentPropertiesApi_createProperties
      summary: 创建文档属性
      description: |-
        创建或初始化文档属性

        Create or initialize document properties

        为新文档初始化属性。通常在文档创建时调用。
        Initialize properties for new document. Typically called when document is created.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.DocumentProperties'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Properties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.DocumentProperties'
    put:
      operationId: DocumentPropertiesApi_replaceProperties
      summary: 替换文档属性
      description: |-
        完全替换文档属性（进入变更请求）

        Replace document properties completely (goes into change request)

        用新的属性集合完全替换现有属性。变更会添加到指定的变更请求中。
        Replace existing properties with a new set. Changes will be added to the specified change request.

        - 如果指定 `requestId`，追加到该请求
        - 如果不指定，创建新的请求或追加到默认请求
        - 需要提供版本号以确保并发安全
        - 请求合并后才真正生效

        示例（cURL）:
        ```bash
        curl -X PUT 'https://open.nexusbook.app/api/v1/doc/purchaseOrder/order-123/properties?requestId=req-1' \\
          -H 'Authorization: Bearer TOKEN' \\
          -H 'Content-Type: application/json' \\
          -d '{
            "id": "prop-123",
            "docId": "order-123",
            "docType": "purchaseOrder",
            "version": 1,
            "properties": [
              {"fieldId": "orderTime", "value": {"datetime": "2024-12-01T10:00:00Z"}},
              {"fieldId": "store", "value": {"text": "Beijing Branch"}},
              {"fieldId": "amount", "value": {"currency": 5000.00}},
              {"fieldId": "quantity", "value": {"number": 50}}
            ]
          }'
        ```
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Request'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Properties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.DocumentProperties'
    patch:
      operationId: DocumentPropertiesApi_updateProperties
      summary: 部分更新文档属性
      description: |-
        部分更新文档属性（进入变更请求）

        Partially update document properties (goes into change request)

        仅更新指定的属性字段，保留其他字段。变更会添加到指定的变更请求中。
        Update only specified property fields, preserve others. Changes will be added to the specified change request.

        简化提交方式：
        - 只需指定字段ID和原始值
        - 服务端根据 metadata 自动解析值类型
        - 无需客户端了解字段类型细节

        Simplified submission:
        - Only specify field id and raw value
        - Server auto-parses value type based on metadata
        - No need for client to know field type details

        查询参数:
        - `requestId` - 指定要追加到的请求ID（可选）
        - `merge=true` - 合并模式（默认）：新值与现有值合并
        - `merge=false` - 覆盖模式：新值覆盖现有值
        - `version` - 当前版本号（用于并发检查）

        Query parameters:
        - `requestId` - Specify which request to append to (optional)
        - `merge=true` - Merge mode (default): merge new values with existing
        - `merge=false` - Overwrite mode: new values override existing
        - `version` - Current version number (for concurrency check)

        示例（cURL）- 仅更新订单金额和数量：
        ```bash
        curl -X PATCH 'https://open.nexusbook.app/api/v1/doc/purchaseOrder/order-123/properties?requestId=req-1&merge=true&version=1' \\
          -H 'Authorization: Bearer TOKEN' \\
          -H 'Content-Type: application/json' \\
          -d '{
            "updates": [
              {"fieldId": "amount", "value": 6000.00},
              {"fieldId": "quantity", "value": 60}
            ]
          }'
        ```

        服务端处理逻辑：
        1. 根据 docId 获取 metadata
        2. 对每个 fieldId，查找字段定义获取类型
        3. 将原始值转换为类型化值
        4. 验证值的有效性
        5. 添加到指定的 Request

        Server processing:
        1. Get metadata by docId
        2. For each fieldId, lookup field definition to get type
        3. Convert raw value to typed value
        4. Validate value
        5. Add to specified Request
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: requestId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: merge
          in: query
          required: false
          schema:
            type: boolean
          explode: false
        - name: version
          in: query
          required: false
          schema:
            type: integer
            format: int64
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Request'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Properties
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                updates:
                  type: array
                  items:
                    type: object
                    properties:
                      fieldId:
                        type: string
                        description: |-
                          字段ID
                          Field id
                      value:
                        description: |-
                          新值（原始格式）
                          New value (raw format)
                    required:
                      - fieldId
                      - value
                  description: |-
                    要更新的属性值数组（简化格式）
                    Property values to update (simplified format)

                    直接提供 fieldId 和原始值，服务端根据 metadata 自动解析类型。
                    Provide fieldId and raw value directly, server auto-parses type based on metadata.
                note:
                  type: string
                  description: |-
                    更新说明
                    Update note
    delete:
      operationId: DocumentPropertiesApi_deleteProperties
      summary: 删除文档属性
      description: |-
        删除文档属性

        Delete document properties

        删除文档的所有属性数据。此操作无法撤销，请谨慎。
        Delete all property data of the document. This action cannot be undone, use with caution.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: version
          in: query
          required: false
          schema:
            type: integer
            format: int64
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Properties
  /doc/{docType}/{docId}/properties/history:
    get:
      operationId: DocumentPropertiesApi_getPropertiesHistory
      summary: 查看属性历史
      description: |-
        获取属性的修订历史

        Get properties revision history

        查看属性的所有历史变更记录。
        View all historical changes of properties.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          type: object
                          properties:
                            version:
                              type: integer
                              format: int64
                              description: |-
                                变更版本
                                Change version
                            properties:
                              type: array
                              items:
                                $ref: '#/components/schemas/Common.ValueEntry'
                              description: |-
                                属性值快照
                                Properties snapshot
                            changedAt:
                              type: string
                              description: |-
                                变更时间
                                Changed at
                            changedBy:
                              allOf:
                                - $ref: '#/components/schemas/Common.UserRef'
                              description: |-
                                变更人
                                Changed by
                            note:
                              type: string
                              description: |-
                                变更说明
                                Change note
                          required:
                            - version
                            - properties
                            - changedAt
                            - changedBy
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Properties
  /doc/{docType}/{docId}/relations:
    get:
      operationId: RelationsApi_listRelations
      summary: 列出关联关系
      description: |-
        列出所有关联关系

        List all relations

        查询文档的所有关联关系，支持过滤。
        Query all relations of the document, supports filtering.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: fieldId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: targetDocType
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: targetDocId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: includeDetails
          in: query
          required: false
          schema:
            type: boolean
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.RelationWithDetails'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Relations
    post:
      operationId: RelationsApi_createRelation
      summary: 创建关联
      description: |-
        创建关联关系

        Create relation

        在两个文档行之间创建关联。如果配置为双向关联，会自动在目标端创建反向关联。
        Create relation between two document rows. If bidirectional, automatically creates reverse relation.

        示例（cURL）:
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/doc/order/123/relations' \
          -H 'Authorization: Bearer TOKEN' \
          -d '{
            "sourceRowId": "row-1",
            "fieldId": "products",
            "targetDocType": "product",
            "targetDocId": "456",
            "targetRowId": "row-2",
            "metadata": {"quantity": 10}
          }'
        ```
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Relation'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Relations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                sourceRowId:
                  type: string
                  description: |-
                    源行ID
                    Source row id
                fieldId:
                  type: string
                  description: |-
                    源字段ID
                    Source field id
                targetDocType:
                  type: string
                  description: |-
                    目标文档类型
                    Target document type
                targetDocId:
                  type: string
                  description: |-
                    目标文档ID
                    Target document id
                targetRowId:
                  type: string
                  description: |-
                    目标行ID
                    Target row id
                metadata:
                  description: |-
                    关联元数据
                    Relation metadata
              required:
                - sourceRowId
                - fieldId
                - targetDocType
                - targetDocId
                - targetRowId
  /doc/{docType}/{docId}/relations/batch:
    post:
      operationId: RelationsApi_batchCreateRelations
      summary: 批量创建关联
      description: |-
        批量创建关联

        Batch create relations

        一次性创建多个关联关系。
        Create multiple relations at once.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      created:
                        type: integer
                        format: int32
                        description: |-
                          创建的关联数量
                          Number of created relations
                      relations:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Relation'
                        description: |-
                          创建的关联列表
                          Created relations
                      failures:
                        type: array
                        items:
                          type: object
                          properties:
                            index:
                              type: integer
                              format: int32
                            reason:
                              type: string
                          required:
                            - index
                            - reason
                        description: |-
                          失败的关联
                          Failed relations
                    required:
                      - created
                      - relations
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Relations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  sourceRowId:
                    type: string
                  fieldId:
                    type: string
                  targetDocType:
                    type: string
                  targetDocId:
                    type: string
                  targetRowId:
                    type: string
                  metadata: {}
                required:
                  - sourceRowId
                  - fieldId
                  - targetDocType
                  - targetDocId
                  - targetRowId
    delete:
      operationId: RelationsApi_batchDeleteRelations
      summary: 批量删除关联
      description: |-
        批量删除关联

        Batch delete relations

        根据条件批量删除关联关系。
        Delete relations in batch by conditions.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: sourceRowId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: fieldId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: targetDocType
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: targetRowId
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      deleted:
                        type: integer
                        format: int32
                        description: |-
                          删除的关联数量
                          Number of deleted relations
                    required:
                      - deleted
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Relations
  /doc/{docType}/{docId}/relations/check-circular:
    post:
      operationId: RelationsApi_checkCircular
      summary: 检查循环引用
      description: |-
        检查循环引用

        Check circular reference

        检查创建关联是否会导致循环引用。
        Check if creating relation would cause circular reference.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      hasCircular:
                        type: boolean
                        description: |-
                          是否存在循环
                          Has circular
                      circularPath:
                        type: array
                        items:
                          type: string
                        description: |-
                          循环路径（如果存在）
                          Circular path (if exists)
                    required:
                      - hasCircular
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Relations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                sourceRowId:
                  type: string
                fieldId:
                  type: string
                targetDocType:
                  type: string
                targetDocId:
                  type: string
                targetRowId:
                  type: string
              required:
                - sourceRowId
                - fieldId
                - targetDocType
                - targetDocId
                - targetRowId
  /doc/{docType}/{docId}/relations/configs:
    get:
      operationId: RelationsApi_getRelationConfigs
      summary: 获取关联配置
      description: |-
        获取文档的关联配置

        Get document relation configurations

        返回该文档所有字段的关联配置。
        Return all field relation configurations of the document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Document.RelationConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Relations
    post:
      operationId: RelationsApi_createRelationConfig
      summary: 配置关联关系
      description: |-
        创建或更新关联配置

        Create or update relation configuration

        配置字段的关联规则，包括双向关联、级联策略等。
        Configure field relation rules, including bidirectional, cascade strategy, etc.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.RelationConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Relations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.RelationConfig'
  /doc/{docType}/{docId}/relations/{relationId}:
    delete:
      operationId: RelationsApi_deleteRelation
      summary: 删除关联
      description: |-
        删除关联关系

        Delete relation

        删除指定的关联关系。如果是双向关联，会同时删除反向关联。
        Delete specified relation. If bidirectional, also deletes reverse relation.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: relationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Relations
  /doc/{docType}/{docId}/requests:
    get:
      operationId: RequestsApi_listRequests
      summary: 列出合并请求
      description: |-
        列出文档的未生效变更请求。

        List uncommitted merge requests of the document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Document.Request'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
    post:
      operationId: RequestsApi_createRequest
      summary: 创建合并请求
      description: |-
        创建新的合并请求以提交未生效变更。

        Create a new merge request for uncommitted changes.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Request'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Request'
  /doc/{docType}/{docId}/requests/{reqId}:
    get:
      operationId: RequestsApi_getRequest
      summary: 获取合并请求详情
      description: |-
        获取合并请求的详细信息。

        Get merge request detail.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: reqId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Request'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/requests/{reqId}/close:
    post:
      operationId: RequestsApi_closeRequest
      summary: 关闭请求
      description: |-
        关闭指定合并请求。

        Close specified merge request.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: reqId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/requests/{reqId}/conflicts:
    get:
      operationId: RequestsApi_getRequestConflicts
      summary: 检查冲突
      description: |-
        检查合并请求与当前文档的冲突。

        Check conflicts between merge request and current document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: reqId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/requests/{reqId}/merge:
    post:
      operationId: RequestsApi_mergeRequest
      summary: 合并请求
      description: |-
        将合并请求的变更应用到文档并生成修订。

        Apply merge request changes to the document and generate revision.

        当请求被合并时：
        1. 系统冻结该请求中的所有变更
        2. 应用变更到文档
        3. 创建新的修订记录整个变更历史
        4. 记录所有贡献者（对请求做过修改的人）
        5. 返回生成的修订ID

        When request is merged:
        1. System freezes all changes in the request
        2. Apply changes to document
        3. Create new revision recording the entire change history
        4. Record all contributors (users who modified the request)
        5. Return generated revision id

        请求体支持以下选项:
        - `squash` - 是否合并为单一变更（true/false）
        - `message` - 合并消息
        - `deleteBranch` - 合并后是否删除关联分支

        Request body supports:
        - `squash` - Whether to squash into single change
        - `message` - Merge message
        - `deleteBranch` - Delete associated branch after merge

        响应包含:
        - `revisionId` - 生成的修订ID
        - `version` - 修订版本号
        - `changesApplied` - 应用的变更数量
        - `contributors` - 所有贡献者列表

        Response includes:
        - `revisionId` - Generated revision id
        - `version` - Revision version number
        - `changesApplied` - Number of applied changes
        - `contributors` - List of all contributors
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: reqId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      revisionId:
                        type: string
                        description: |-
                          生成的修订ID
                          Generated revision id
                      version:
                        type: integer
                        format: int64
                        description: |-
                          修订版本号
                          Revision version number
                      changesApplied:
                        type: integer
                        format: int32
                        description: |-
                          应用的变更数量
                          Number of changes applied
                      contributors:
                        type: array
                        items:
                          $ref: '#/components/schemas/Common.UserRef'
                        description: |-
                          所有贡献者
                          All contributors
                      mergedAt:
                        type: string
                        description: |-
                          合并时间
                          Merge timestamp
                      mergedBy:
                        allOf:
                          - $ref: '#/components/schemas/Common.UserRef'
                        description: |-
                          合并者
                          User who merged
                    required:
                      - revisionId
                      - version
                      - changesApplied
                      - contributors
                      - mergedAt
                      - mergedBy
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: |-
                    合并消息
                    Merge message
                squash:
                  type: boolean
                  description: |-
                    是否合并为单一变更
                    Squash into single change
                deleteBranch:
                  type: boolean
                  description: |-
                    合并后是否删除关联分支
                    Delete branch after merge
  /doc/{docType}/{docId}/requests/{reqId}/reopen:
    post:
      operationId: RequestsApi_reopenRequest
      summary: 重新打开请求
      description: |-
        重新打开已关闭的合并请求。

        Reopen closed merge request.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: reqId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/revisions:
    get:
      operationId: RevisionsApi_listRevisions
      summary: 列出修订历史
      description: |-
        列出文档的修订历史

        List document revisions

        按时间逆序返回修订列表，支持分页。
        Returns revisions in reverse chronological order, supports pagination.

        查询参数:
        - `page` - 页码（默认1）
        - `pageSize` - 每页数量（默认20）
        - `contributor` - 按贡献者过滤
        - `search` - 按标题或描述搜索

        Query parameters:
        - `page` - Page number (default 1)
        - `pageSize` - Items per page (default 20)
        - `contributor` - Filter by contributor
        - `search` - Search by title or description
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: contributor
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: search
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.Revision'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/revisions/history:
    get:
      operationId: RevisionsApi_queryChangeHistory
      summary: 查询变更历史
      description: |-
        查询特定目标的变更历史

        Query change history for specific target

        查看某个特定对象（行/字段）在所有修订中的变更历史。
        View change history of a specific object (row/field) across all revisions.

        示例 - 查询某行的变更历史:
        ```bash
        curl 'https://open.nexusbook.app/api/v1/doc/product/123/revisions/history?targetKind=row&rowId=row-1' \\
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: targetKind
          in: query
          required: true
          schema:
            type: string
          explode: false
        - name: rowId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: fieldId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.ChangeOperation'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/revisions/{revId}:
    get:
      operationId: RevisionsApi_getRevision
      summary: 获取修订详情
      description: |-
        获取指定修订的完整详情

        Get revision detail

        返回修订的完整信息，包含所有操作和统计数据。
        Returns complete revision information including all operations and statistics.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: revId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Revision'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/revisions/{revId}/diff:
    get:
      operationId: RevisionsApi_getRevisionDiff
      summary: 对比修订差异
      description: |-
        比较两个修订之间的差异

        Compare revisions

        返回两个修订之间的所有差异，支持按目标类型过滤。
        Returns all differences between two revisions, supports filtering by target type.

        示例（cURL）:
        ```bash
        # 比较 rev-2 与 rev-1（base）的差异
        curl 'https://open.nexusbook.app/api/v1/doc/product/123/revisions/rev-2/diff?base=rev-1' \\
          -H 'Authorization: Bearer TOKEN'
        ```
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: revId
          in: path
          required: true
          schema:
            type: string
        - name: base
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: targetKind
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      baseRevisionId:
                        type: string
                        description: |-
                          源修订ID
                          Base revision id
                      targetRevisionId:
                        type: string
                        description: |-
                          目标修订ID
                          Target revision id
                      changes:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.ChangeOperation'
                        description: |-
                          变更操作差异
                          Changed operations
                      stats:
                        type: object
                        properties:
                          added:
                            type: integer
                            format: int32
                          modified:
                            type: integer
                            format: int32
                          deleted:
                            type: integer
                            format: int32
                        description: |-
                          统计信息
                          Statistics
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/revisions/{revId}/export:
    get:
      operationId: RevisionsApi_exportRevision
      summary: 导出修订
      description: |-
        导出修订数据

        Export revision

        导出修订的完整数据为 JSON、CSV 等格式。
        Export revision data in JSON, CSV, or other formats.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: revId
          in: path
          required: true
          schema:
            type: string
        - name: format
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '204':
          description: 'There is no content to send for this request, but the headers may be useful. '
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/revisions/{revId}/operations:
    get:
      operationId: RevisionsApi_listOperations
      summary: 查看修订操作列表
      description: |-
        查看修订的变更操作列表

        List operations in revision

        分页返回修订中的所有变更操作，支持按操作类型过滤。
        Returns all change operations in the revision, supports filtering by operation type.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: revId
          in: path
          required: true
          schema:
            type: string
        - name: type
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: targetKind
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.ChangeOperation'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/revisions/{revId}/request:
    get:
      operationId: RevisionsApi_getSourceRequest
      summary: 获取源请求
      description: |-
        获取修订的源请求

        Get source request of revision

        获取生成此修订的原始合并请求。
        Get the original merge request that generated this revision.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: revId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
  /doc/{docType}/{docId}/revisions/{revId}/revert:
    post:
      operationId: RevisionsApi_revertRevision
      summary: 回滚到指定修订
      description: |-
        回滚到指定修订

        Revert to revision

        将文档回滚到指定修订的状态，创建一个新的修订记录此操作。
        Revert document to specified revision state, creates a new revision recording this action.

        注意：回滚操作本身会生成新的修订（类型为 "revert"）。
        Note: The revert action itself generates a new revision (type "revert").
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: revId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Revision'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Workflow
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                reason:
                  type: string
                  description: |-
                    回滚原因
                    Revert reason
                selectiveTypes:
                  type: array
                  items:
                    type: string
                  description: |-
                    选择性回滚
                    Selective revert

                    只回滚特定类型的变更（如只回滚行的变更，保留字段变更）。
                    Only revert specific types of changes (e.g., only row changes, keep field changes).
  /doc/{docType}/{docId}/settings:
    get:
      operationId: DocSettingsApi_getDocSettings
      summary: 文档设置
      description: |-
        获取文档级设置。

        Get doc-level settings.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Settings'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Core
    put:
      operationId: DocSettingsApi_putDocSettings
      summary: 更新文档设置
      description: |-
        更新文档级设置。

        Update doc-level settings.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.Settings'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Core
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.Settings'
  /doc/{docType}/{docId}/sync:
    get:
      operationId: SyncApi_listSyncConfigs
      summary: 列出同步配置
      description: |-
        列出同步配置

        List sync configurations

        返回文档的所有同步配置。
        Return all sync configurations of the document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Document.SyncConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
    post:
      operationId: SyncApi_createSyncConfig
      summary: 创建同步配置
      description: |-
        创建同步配置

        Create sync configuration

        创建新的数据同步配置。
        Create new data sync configuration.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.SyncConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.SyncConfig'
  /doc/{docType}/{docId}/sync/test-connection:
    post:
      operationId: SyncApi_testSyncConnection
      summary: 测试连接
      description: |-
        测试同步连接

        Test sync connection

        测试与数据源的连接是否正常。
        Test if connection to data source is working.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      success:
                        type: boolean
                        description: |-
                          是否成功
                          Success
                      message:
                        type: string
                        description: |-
                          消息
                          Message
                      detectedFields:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                            type:
                              type: string
                          required:
                            - name
                            - type
                        description: |-
                          检测到的字段
                          Detected fields
                    required:
                      - success
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                sourceType:
                  $ref: '#/components/schemas/Document.SyncSourceType'
                sourceConfig: {}
              required:
                - sourceType
                - sourceConfig
  /doc/{docType}/{docId}/sync/{configId}:
    get:
      operationId: SyncApi_getSyncConfig
      summary: 获取同步配置
      description: |-
        获取同步配置详情

        Get sync configuration

        返回指定同步配置的详细信息。
        Return detailed information of specified sync configuration.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: configId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.SyncConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
    put:
      operationId: SyncApi_updateSyncConfig
      summary: 更新同步配置
      description: |-
        更新同步配置

        Update sync configuration

        更新同步配置的参数。
        Update sync configuration parameters.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: configId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.SyncConfig'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.SyncConfig'
    delete:
      operationId: SyncApi_deleteSyncConfig
      summary: 删除同步配置
      description: |-
        删除同步配置

        Delete sync configuration

        删除同步配置及其相关任务历史。
        Delete sync configuration and its task history.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: configId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
  /doc/{docType}/{docId}/sync/{configId}/conflicts:
    get:
      operationId: SyncApi_getSyncConflicts
      summary: 获取同步冲突
      description: |-
        获取同步冲突

        Get sync conflicts

        返回需要手动解决的同步冲突。
        Return sync conflicts that need manual resolution.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: configId
          in: path
          required: true
          schema:
            type: string
        - name: resolved
          in: query
          required: false
          schema:
            type: boolean
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.SyncConflict'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
  /doc/{docType}/{docId}/sync/{configId}/conflicts/{conflictId}/resolve:
    post:
      operationId: SyncApi_resolveSyncConflict
      summary: 解决冲突
      description: |-
        解决同步冲突

        Resolve sync conflict

        手动解决同步冲突。
        Manually resolve sync conflict.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: configId
          in: path
          required: true
          schema:
            type: string
        - name: conflictId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.SyncConflict'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                resolution:
                  allOf:
                    - $ref: '#/components/schemas/Document.ConflictResolution'
                  description: |-
                    解决策略
                    Resolution strategy
                customValue:
                  description: |-
                    自定义值（当选择合并时）
                    Custom value (when merge is selected)
              required:
                - resolution
  /doc/{docType}/{docId}/sync/{configId}/tasks:
    get:
      operationId: SyncApi_getSyncTasks
      summary: 获取同步历史
      description: |-
        获取同步任务历史

        Get sync task history

        返回同步配置的执行历史。
        Return execution history of sync configuration.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: configId
          in: path
          required: true
          schema:
            type: string
        - name: status
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Document.SyncTaskStatus'
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.SyncTask'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
  /doc/{docType}/{docId}/sync/{configId}/tasks/{taskId}:
    get:
      operationId: SyncApi_getSyncTask
      summary: 获取任务详情
      description: |-
        获取任务详情

        Get task details

        返回同步任务的详细信息和日志。
        Return detailed information and logs of sync task.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: configId
          in: path
          required: true
          schema:
            type: string
        - name: taskId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.SyncTask'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
  /doc/{docType}/{docId}/sync/{configId}/tasks/{taskId}/cancel:
    post:
      operationId: SyncApi_cancelSyncTask
      summary: 取消同步任务
      description: |-
        取消同步任务

        Cancel sync task

        取消正在执行的同步任务。
        Cancel running sync task.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: configId
          in: path
          required: true
          schema:
            type: string
        - name: taskId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.SyncTask'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
  /doc/{docType}/{docId}/sync/{configId}/trigger:
    post:
      operationId: SyncApi_triggerSync
      summary: 手动触发同步
      description: |-
        手动触发同步

        Trigger sync manually

        立即执行一次同步任务。
        Execute sync task immediately.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: configId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.SyncTask'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Sync
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                fullSync:
                  type: boolean
                  description: |-
                    是否完全同步（忽略增量设置）
                    Full sync (ignore incremental setting)
                dryRun:
                  type: boolean
                  description: |-
                    是否空运行（仅检查，不实际同步）
                    Dry run (check only, don't actually sync)
  /doc/{docType}/{docId}/views:
    get:
      operationId: ViewsApi_listViews
      summary: 列出视图
      description: |-
        返回指定文档的视图列表。

        List all views of the document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Document.View'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Views
    post:
      operationId: ViewsApi_createView
      summary: 创建视图
      description: |-
        创建新的视图定义。

        Create a new view.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.View'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Views
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.View'
  /doc/{docType}/{docId}/views/{viewId}:
    get:
      operationId: ViewsApi_getView
      summary: 获取视图详情
      description: |-
        获取视图配置与定义。

        Get view definition and configuration.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: viewId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.View'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Views
    put:
      operationId: ViewsApi_updateView
      summary: 更新视图
      description: |-
        更新视图定义与配置。

        Update view definition and configuration.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: viewId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.View'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Views
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Document.View'
    delete:
      operationId: ViewsApi_deleteView
      summary: 删除视图
      description: |-
        删除指定视图。

        Delete specified view.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: viewId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Views
  /doc/{docType}/{docId}/views/{viewId}/default:
    post:
      operationId: ViewsApi_setDefaultView
      summary: 设为默认视图
      description: |-
        将指定视图设为默认视图。

        Set specified view as default.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: viewId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Views
  /introspect:
    post:
      operationId: OAuthExtensionsApi_introspectToken
      summary: 令牌自省
      description: |-
        令牌自省 (RFC 7662)
        Token introspection (RFC 7662)

        检查令牌是否有效及其元数据。
        Check if token is valid and get its metadata.

        示例（cURL）：
        ```bash
        curl -X POST 'https://auth.nexusbook.app/introspect' \
          -H 'Content-Type: application/x-www-form-urlencoded' \
          -d 'token=ACCESS_TOKEN&client_id=CLIENT_ID&client_secret=CLIENT_SECRET'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Auth.TokenIntrospectionResponse'
      tags:
        - OAuth Extensions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.TokenIntrospectionRequest'
  /jwks.json:
    get:
      operationId: AuthApi_jwks
      summary: JWKS 公钥
      description: |-
        返回 JSON Web Key Set 公钥集合。

        Return JSON Web Key Set public keys.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                properties:
                  keys:
                    type: array
                    items:
                      $ref: '#/components/schemas/Auth.JWK'
                required:
                  - keys
      tags:
        - OAuth
  /realtime/doc/{docType}/{docId}/apply-update:
    post:
      operationId: RealtimeApi_applyYjsUpdate
      summary: 应用 Yjs 更新
      description: |-
        应用 Yjs 更新

        Apply Yjs update

        应用客户端的 Yjs 更新到服务器。
        Apply client Yjs update to server.

        注意：通常应该通过 WebSocket 发送更新，此 HTTP 接口用于备用场景。
        Note: Updates should normally be sent via WebSocket. This HTTP endpoint is for fallback scenarios.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      success:
                        type: boolean
                        description: |-
                          是否成功
                          Success
                      version:
                        type: integer
                        format: int64
                        description: |-
                          新版本号
                          New version
                      serverTime:
                        type: string
                        description: |-
                          服务器时间
                          Server time
                    required:
                      - success
                      - version
                      - serverTime
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                update:
                  type: string
                  description: |-
                    Yjs 更新数据（Base64）
                    Yjs update data (Base64)
                clientVersion:
                  type: integer
                  format: int64
                  description: |-
                    客户端版本
                    Client version
              required:
                - update
  /realtime/doc/{docType}/{docId}/awareness:
    post:
      operationId: RealtimeApi_updateAwareness
      summary: 更新 Awareness
      description: |-
        更新 Awareness 状态

        Update awareness state

        更新用户的 awareness 状态（光标、选择等）。
        Update user awareness state (cursor, selection, etc).

        注意：通常应该通过 WebSocket 发送，此接口用于备用场景。
        Note: Should normally be sent via WebSocket. This endpoint is for fallback scenarios.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                awareness:
                  description: |-
                    Awareness 状态
                    Awareness state
              required:
                - awareness
  /realtime/doc/{docType}/{docId}/connect:
    get:
      operationId: RealtimeApi_getConnectionInfo
      summary: 获取连接信息
      description: |-
        获取 WebSocket 连接信息

        Get WebSocket connection info

        返回 WebSocket 连接 URL 和认证令牌。
        Return WebSocket connection URL and auth token.

        客户端使用流程：
        1. 调用此 API 获取连接信息
        2. 使用返回的 wsUrl 和 token 建立 WebSocket 连接
        3. 发送认证消息
        4. 开始接收和发送实时事件
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      wsUrl:
                        type: string
                        description: WebSocket URL
                      wsHost:
                        type: string
                        description: |-
                          WebSocket 主机（单独端口）
                          WebSocket host (dedicated port)
                      wsPath:
                        type: string
                        description: |-
                          WebSocket 路径
                          WebSocket path
                      port:
                        type: integer
                        format: int32
                        description: |-
                          端口号
                          Port
                      protocols:
                        type: array
                        items:
                          type: string
                        description: |-
                          支持的协议（例如：['websocket']）
                          Supported protocols
                      sseUrl:
                        type: string
                        description: |-
                          SSE 流地址（只读）
                          Readonly SSE stream URL
                      token:
                        type: string
                        description: |-
                          连接令牌
                          Connection token
                      expiresAt:
                        type: string
                        description: |-
                          令牌过期时间
                          Token expires at
                      serverTime:
                        type: string
                        description: |-
                          服务器时间
                          Server time
                    required:
                      - wsUrl
                      - token
                      - expiresAt
                      - serverTime
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /realtime/doc/{docType}/{docId}/disconnect-all:
    post:
      operationId: RealtimeApi_disconnectAll
      summary: 断开所有会话
      description: |-
        断开所有会话

        Disconnect all sessions

        强制断开文档的所有实时协作会话。
        Force disconnect all realtime collaboration sessions of the document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      disconnectedCount:
                        type: integer
                        format: int32
                        description: |-
                          断开的会话数
                          Disconnected count
                    required:
                      - disconnectedCount
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                reason:
                  type: string
                  description: |-
                    断开原因
                    Reason
  /realtime/doc/{docType}/{docId}/events:
    get:
      operationId: RealtimeApi_getRealtimeEvents
      summary: 获取事件历史
      description: |-
        获取实时事件历史

        Get realtime event history

        返回文档的实时协作事件历史。
        Return realtime collaboration event history of the document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: eventType
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Document.RealtimeEventType'
          explode: false
        - name: userId
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: startTime
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: endTime
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.RealtimeEvent'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /realtime/doc/{docType}/{docId}/events/stream:
    get:
      operationId: RealtimeApi_sseEvents
      summary: SSE 事件流
      description: |-
        事件流（SSE）
        Server-Sent Events stream

        Content-Type: text/event-stream
        用于只读的实时事件推送（替代 WebSocket 的只读场景）。
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: since
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: types
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            text/plain:
              schema:
                type: string
      tags:
        - Document - Collaboration
  /realtime/doc/{docType}/{docId}/lock:
    post:
      operationId: RealtimeApi_lockCell
      summary: 锁定单元格
      description: |-
        锁定单元格

        Lock cell

        请求锁定单元格以进行编辑。
        Request cell lock for editing.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.CellLock'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                rowId:
                  type: string
                  description: |-
                    行ID
                    Row id
                fieldId:
                  type: string
                  description: |-
                    字段ID
                    Field id
                duration:
                  type: integer
                  format: int32
                  description: |-
                    锁定时长（秒）
                    Lock duration in seconds
                autoRenew:
                  type: boolean
                  description: |-
                    是否自动续期
                    Auto renew
              required:
                - rowId
                - fieldId
  /realtime/doc/{docType}/{docId}/locks:
    get:
      operationId: RealtimeApi_getCellLocks
      summary: 获取锁定列表
      description: |-
        获取当前锁定

        Get current locks

        返回文档的所有活跃锁定。
        Return all active locks of the document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Document.CellLock'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /realtime/doc/{docType}/{docId}/snapshot:
    get:
      operationId: RealtimeApi_getYjsSnapshot
      summary: 获取 Yjs 快照
      description: |-
        获取 Yjs 文档快照

        Get Yjs document snapshot

        返回最新的 Yjs 文档快照，用于初始化客户端。
        Return latest Yjs document snapshot for client initialization.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: version
          in: query
          required: false
          schema:
            type: integer
            format: int64
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.YjsSnapshot'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
    post:
      operationId: RealtimeApi_saveYjsSnapshot
      summary: 保存 Yjs 快照
      description: |-
        保存 Yjs 文档快照

        Save Yjs document snapshot

        保存当前 Yjs 文档状态。通常由服务器定期调用。
        Save current Yjs document state. Usually called periodically by server.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Document.YjsSnapshot'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                stateVector:
                  type: string
                  description: |-
                    Yjs 状态向量（Base64）
                    Yjs state vector (Base64)
                docUpdate:
                  type: string
                  description: |-
                    Yjs 文档更新（Base64）
                    Yjs document update (Base64)
              required:
                - stateVector
                - docUpdate
  /realtime/doc/{docType}/{docId}/snapshots:
    get:
      operationId: RealtimeApi_getYjsSnapshots
      summary: 获取快照历史
      description: |-
        获取快照历史

        Get snapshot history

        返回文档的 Yjs 快照历史。
        Return Yjs snapshot history of the document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.YjsSnapshot'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /realtime/doc/{docType}/{docId}/unlock/{lockId}:
    delete:
      operationId: RealtimeApi_unlockCell
      summary: 解锁单元格
      description: |-
        解锁单元格

        Unlock cell

        释放单元格锁定。
        Release cell lock.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
        - name: lockId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /realtime/doc/{docType}/{docId}/users:
    get:
      operationId: RealtimeApi_getOnlineUsers
      summary: 获取在线用户
      description: |-
        获取在线用户列表

        Get online users

        返回当前文档的所有在线用户。
        Return all online users of current document.
      parameters:
        - name: docType
          in: path
          required: true
          schema:
            type: string
        - name: docId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: array
                    items:
                      $ref: '#/components/schemas/Document.OnlineUser'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /realtime/messages/schema:
    get:
      operationId: RealtimeApi_getMessageSchema
      summary: 获取 WebSocket 消息格式
      description: |-
        获取 WebSocket 消息格式
        Get WebSocket message schema

        返回客户端与服务端的消息帧模型以及可用的消息类型枚举。
        Return client/server message frames and available message kinds.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      clientMessage:
                        allOf:
                          - $ref: '#/components/schemas/Document.RealtimeClientMessage'
                        description: 客户端 → 服务端 消息帧
                      serverMessage:
                        allOf:
                          - $ref: '#/components/schemas/Document.RealtimeServerMessage'
                        description: 服务端 → 客户端 消息帧
                      kinds:
                        type: array
                        items:
                          $ref: '#/components/schemas/Document.RealtimeMessageKind'
                        description: 可用消息类型
                    required:
                      - clientMessage
                      - serverMessage
                      - kinds
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Document - Collaboration
  /revoke:
    post:
      operationId: OAuthExtensionsApi_revokeToken
      summary: 撤销令牌
      description: |-
        撤销令牌 (RFC 7009)
        Revoke token (RFC 7009)

        撤销访问令牌或刷新令牌。
        Revoke access token or refresh token.

        示例（cURL）：
        ```bash
        curl -X POST 'https://auth.nexusbook.app/revoke' \
          -H 'Content-Type: application/x-www-form-urlencoded' \
          -d 'token=ACCESS_TOKEN&token_type_hint=access_token&client_id=CLIENT_ID&client_secret=CLIENT_SECRET'
        ```
      parameters: []
      responses:
        '204':
          description: 'There is no content to send for this request, but the headers may be useful. '
      tags:
        - OAuth Extensions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Auth.TokenRevocationRequest'
  /token:
    post:
      operationId: AuthApi_token
      summary: 令牌颁发
      description: |-
        颁发访问令牌与刷新令牌。

        Issue access and refresh tokens.

        示例（cURL）:
        ```bash
        curl -X POST 'https://auth.nexusbook.app/token' \\
          -H 'Content-Type: application/x-www-form-urlencoded' \\
          -d 'grant_type=client_credentials&client_id=CLIENT_ID&client_secret=CLIENT_SECRET&scope=doc:read data:read'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.TokenResponse'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth
  /userinfo:
    get:
      operationId: AuthApi_userinfo
      summary: 用户信息
      description: |-
        返回登录用户的信息声明。

        Return user info claims.
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Auth.UserInfo'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - OAuth
  /webhooks:
    get:
      operationId: WebhooksApi_listWebhooks
      summary: 列出 Webhooks
      description: |-
        列出所有 Webhook

        List all webhooks

        返回当前用户/租户的所有 Webhook 配置。
        Returns all webhook configurations for current user/tenant.
      parameters:
        - name: status
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/Extensions.Webhooks.WebhookStatus'
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Extensions.Webhooks.Webhook'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
    post:
      operationId: WebhooksApi_createWebhook
      summary: 创建 Webhook
      description: |-
        创建 Webhook

        Create webhook

        创建新的 Webhook 订阅。
        Create a new webhook subscription.

        示例（cURL）:
        ```bash
        curl -X POST 'https://open.nexusbook.app/api/v1/webhooks' \
          -H 'Authorization: Bearer TOKEN' \
          -H 'Content-Type: application/json' \
          -d '{
            "name": "Request Merged Notification",
            "url": "https://example.com/webhooks/nexusbook",
            "events": ["request_merged", "approval_approved"],
            "filters": {
              "docTypes": ["product", "inventory"]
            }
          }'
        ```
      parameters: []
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Extensions.Webhooks.Webhook'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Extensions.Webhooks.Webhook'
  /webhooks/{webhookId}:
    get:
      operationId: WebhooksApi_getWebhook
      summary: 获取 Webhook 详情
      description: |-
        获取 Webhook 详情

        Get webhook detail
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Extensions.Webhooks.Webhook'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
    put:
      operationId: WebhooksApi_updateWebhook
      summary: 更新 Webhook
      description: |-
        更新 Webhook

        Update webhook
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Extensions.Webhooks.Webhook'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Extensions.Webhooks.Webhook'
    delete:
      operationId: WebhooksApi_deleteWebhook
      summary: 删除 Webhook
      description: |-
        删除 Webhook

        Delete webhook
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
  /webhooks/{webhookId}/deliveries:
    get:
      operationId: WebhooksApi_getDeliveries
      summary: 获取投递历史
      description: |-
        获取投递历史

        Get delivery history

        查看 Webhook 的投递记录。
        View webhook delivery records.
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
        - name: status
          in: query
          required: false
          schema:
            type: string
            enum:
              - pending
              - success
              - failed
              - retrying
          explode: false
        - name: page
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
        - name: pageSize
          in: query
          required: false
          schema:
            type: integer
            format: int32
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    required:
                      - items
                      - page
                      - pageSize
                      - total
                    properties:
                      items:
                        type: array
                        items:
                          $ref: '#/components/schemas/Extensions.Webhooks.WebhookDelivery'
                        description: |-
                          列表项
                          Items
                      page:
                        type: integer
                        format: int32
                        description: |-
                          当前页
                          Page number
                      pageSize:
                        type: integer
                        format: int32
                        description: |-
                          每页数量
                          Page size
                      total:
                        type: integer
                        format: int64
                        description: |-
                          总数
                          Total count
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
  /webhooks/{webhookId}/deliveries/{deliveryId}:
    get:
      operationId: WebhooksApi_getDelivery
      summary: 获取投递详情
      description: |-
        获取投递详情

        Get delivery detail
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
        - name: deliveryId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Extensions.Webhooks.WebhookDelivery'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
  /webhooks/{webhookId}/deliveries/{deliveryId}/redeliver:
    post:
      operationId: WebhooksApi_redeliverWebhook
      summary: 重新投递
      description: |-
        重新投递

        Redeliver

        重新发送失败的 Webhook 事件。
        Resend a failed webhook event.
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
        - name: deliveryId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Extensions.Webhooks.WebhookDelivery'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
  /webhooks/{webhookId}/pause:
    post:
      operationId: WebhooksApi_pauseWebhook
      summary: 暂停 Webhook
      description: |-
        暂停 Webhook

        Pause webhook

        暂停 Webhook，停止发送事件通知。
        Pause webhook to stop sending event notifications.
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Extensions.Webhooks.Webhook'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
  /webhooks/{webhookId}/regenerate-secret:
    post:
      operationId: WebhooksApi_regenerateSecret
      summary: 重新生成密钥
      description: |-
        重新生成密钥

        Regenerate secret

        重新生成 Webhook 签名密钥。
        Regenerate webhook signature secret.
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      secret:
                        type: string
                        description: |-
                          新密钥
                          New secret
                    required:
                      - secret
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
  /webhooks/{webhookId}/resume:
    post:
      operationId: WebhooksApi_resumeWebhook
      summary: 恢复 Webhook
      description: |-
        恢复 Webhook

        Resume webhook

        恢复已暂停的 Webhook。
        Resume a paused webhook.
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Extensions.Webhooks.Webhook'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
  /webhooks/{webhookId}/stats:
    get:
      operationId: WebhooksApi_getWebhookStats
      summary: 获取统计信息
      description: |-
        获取 Webhook 统计

        Get webhook statistics

        获取 Webhook 的统计信息（成功率、失败率等）。
        Get webhook statistics (success rate, failure rate, etc).
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
        - name: startDate
          in: query
          required: false
          schema:
            type: string
          explode: false
        - name: endDate
          in: query
          required: false
          schema:
            type: string
          explode: false
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    properties:
                      totalTriggers:
                        type: integer
                        format: int64
                        description: |-
                          总触发次数
                          Total triggers
                      successCount:
                        type: integer
                        format: int64
                        description: |-
                          成功次数
                          Successful deliveries
                      failureCount:
                        type: integer
                        format: int64
                        description: |-
                          失败次数
                          Failed deliveries
                      successRate:
                        type: number
                        format: double
                        description: |-
                          成功率
                          Success rate
                      avgResponseTime:
                        type: number
                        format: double
                        description: |-
                          平均响应时间（毫秒）
                          Average response time in milliseconds
                      lastSuccessAt:
                        type: string
                        description: |-
                          最后成功时间
                          Last success at
                      lastFailureAt:
                        type: string
                        description: |-
                          最后失败时间
                          Last failure at
                    required:
                      - totalTriggers
                      - successCount
                      - failureCount
                      - successRate
                      - avgResponseTime
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
  /webhooks/{webhookId}/test:
    post:
      operationId: WebhooksApi_testWebhook
      summary: 测试 Webhook
      description: |-
        测试 Webhook

        Test webhook

        发送测试事件到 Webhook URL，验证配置是否正确。
        Send a test event to webhook URL to verify configuration.
      parameters:
        - name: webhookId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - success
                properties:
                  success:
                    type: boolean
                    description: |-
                      是否成功
                      Whether the request succeeded
                  code:
                    allOf:
                      - $ref: '#/components/schemas/Common.ErrorCode'
                    description: |-
                      错误码
                      Error code (when failed)
                  message:
                    allOf:
                      - $ref: '#/components/schemas/Common.Message'
                    description: |-
                      消息（多语言）
                      Message (multi-language)
                  payload:
                    type: object
                    allOf:
                      - $ref: '#/components/schemas/Extensions.Webhooks.WebhookDelivery'
                    nullable: true
                    description: |-
                      载荷
                      Payload
      tags:
        - Webhooks
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Extensions.Webhooks.WebhookTestRequest'
components:
  schemas:
    Audit.ActionCategory:
      type: string
      enum:
        - authentication
        - authorization
        - data_access
        - data_modification
        - configuration
        - user_management
        - permission_management
        - billing
        - security
        - compliance
      description: 操作分类
    Audit.ActionStat:
      type: object
      required:
        - actionName
        - count
      properties:
        actionName:
          type: string
          description: 操作名称
        count:
          type: integer
          format: int64
          description: 次数
      description: 操作统计
    Audit.ActorStat:
      type: object
      required:
        - actorId
        - actorName
        - count
      properties:
        actorId:
          type: string
          description: 操作者 ID
        actorName:
          type: string
          description: 操作者名称
        count:
          type: integer
          format: int64
          description: 次数
      description: 操作者统计
    Audit.ActorType:
      type: string
      enum:
        - user
        - apikey
        - system
        - webhook
      description: 枚举定义操作者类型
    Audit.AlertRule:
      type: object
      required:
        - ruleId
        - name
        - enabled
        - conditions
        - actions
        - createdAt
      properties:
        ruleId:
          type: string
          description: 规则 ID
        name:
          type: string
          description: 规则名称
        enabled:
          type: boolean
          description: 是否启用
        conditions:
          allOf:
            - $ref: '#/components/schemas/Audit.AlertRuleConditions'
          description: 条件
        actions:
          allOf:
            - $ref: '#/components/schemas/Audit.AlertRuleActions'
          description: 动作
        createdAt:
          type: string
          description: 创建时间
      description: 告警规则
    Audit.AlertRuleActions:
      type: object
      properties:
        email:
          type: array
          items:
            type: string
          description: 邮件通知
        webhook:
          type: string
          description: Webhook URL
      description: 告警规则动作
    Audit.AlertRuleConditions:
      type: object
      required:
        - threshold
        - timeWindow
      properties:
        actionCategory:
          allOf:
            - $ref: '#/components/schemas/Audit.ActionCategory'
          description: 操作分类
        actionName:
          type: string
          description: 操作名称
        resultStatus:
          allOf:
            - $ref: '#/components/schemas/Audit.ResultStatus'
          description: 结果状态
        threshold:
          type: integer
          format: int32
          description: 阈值
        timeWindow:
          type: integer
          format: int32
          description: 时间窗口（秒）
      description: 告警规则条件
    Audit.AuditAction:
      type: object
      required:
        - category
        - name
      properties:
        category:
          allOf:
            - $ref: '#/components/schemas/Audit.ActionCategory'
          description: 分类
        name:
          type: string
          description: 操作名称
        description:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: 描述（多语言）
      description: 审计操作
    Audit.AuditActor:
      type: object
      required:
        - type
        - id
      properties:
        type:
          allOf:
            - $ref: '#/components/schemas/Audit.ActorType'
          description: 类型
        id:
          type: string
          description: ID
        displayName:
          type: string
          description: 显示名称
        email:
          type: string
          description: 邮箱
        role:
          type: string
          description: 角色
      description: 操作者信息
    Audit.AuditChange:
      type: object
      required:
        - field
        - changeType
      properties:
        field:
          type: string
          description: 字段名
        oldValue:
          description: 旧值
        newValue:
          description: 新值
        changeType:
          allOf:
            - $ref: '#/components/schemas/Audit.ChangeType'
          description: 变更类型
      description: 审计变更
    Audit.AuditContext:
      type: object
      properties:
        ipAddress:
          type: string
          description: IP 地址
        userAgent:
          type: string
          description: User Agent
        location:
          allOf:
            - $ref: '#/components/schemas/Audit.Location'
          description: 地理位置
        sessionId:
          type: string
          description: 会话 ID
        requestId:
          type: string
          description: 请求 ID
      description: 审计上下文
    Audit.AuditLog:
      type: object
      required:
        - id
        - actor
        - action
        - resource
        - result
        - context
        - timestamp
      properties:
        id:
          type: string
          description: 日志唯一标识
        organizationId:
          type: string
          description: 组织 ID
        workspaceId:
          type: string
          description: 工作区 ID（可选）
        actor:
          allOf:
            - $ref: '#/components/schemas/Audit.AuditActor'
          description: 操作者信息
        action:
          allOf:
            - $ref: '#/components/schemas/Audit.AuditAction'
          description: 操作类型
        resource:
          allOf:
            - $ref: '#/components/schemas/Audit.AuditResource'
          description: 资源信息
        result:
          allOf:
            - $ref: '#/components/schemas/Audit.AuditResult'
          description: 操作结果
        changes:
          type: array
          items:
            $ref: '#/components/schemas/Audit.AuditChange'
          description: 变更详情
        context:
          allOf:
            - $ref: '#/components/schemas/Audit.AuditContext'
          description: 上下文信息
        timestamp:
          type: string
          description: 时间戳
        metadata:
          type: object
          additionalProperties:
            type: string
          description: 额外元数据
      description: 审计日志
    Audit.AuditResource:
      type: object
      required:
        - type
        - id
      properties:
        type:
          allOf:
            - $ref: '#/components/schemas/Audit.ResourceType'
          description: 资源类型
        id:
          type: string
          description: 资源 ID
        name:
          type: string
          description: 资源名称
        parentType:
          allOf:
            - $ref: '#/components/schemas/Audit.ResourceType'
          description: 父资源类型
        parentId:
          type: string
          description: 父资源 ID
      description: 审计资源
    Audit.AuditResult:
      type: object
      required:
        - status
      properties:
        status:
          allOf:
            - $ref: '#/components/schemas/Audit.ResultStatus'
          description: 状态
        errorCode:
          allOf:
            - $ref: '#/components/schemas/Common.ErrorCode'
          description: 错误码
        errorMessage:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: 错误消息（多语言）
      description: 审计结果
    Audit.ChangeType:
      type: string
      enum:
        - create
        - update
        - delete
      description: 变更类型
    Audit.DataAccessLog:
      type: object
      required:
        - timestamp
        - accessor
        - dataType
        - dataId
        - operation
      properties:
        timestamp:
          type: string
          description: 时间戳
        accessor:
          allOf:
            - $ref: '#/components/schemas/Audit.AuditActor'
          description: 访问者
        dataType:
          type: string
          description: 数据类型
        dataId:
          type: string
          description: 数据 ID
        operation:
          type: string
          description: 操作
        purpose:
          type: string
          description: 目的
      description: 数据访问日志
    Audit.Location:
      type: object
      properties:
        country:
          type: string
          description: 国家
        region:
          type: string
          description: 地区
        city:
          type: string
          description: 城市
        timezone:
          type: string
          description: 时区
      description: 数据模型地理位置
    Audit.ResourceStat:
      type: object
      required:
        - resourceType
        - count
      properties:
        resourceType:
          allOf:
            - $ref: '#/components/schemas/Audit.ResourceType'
          description: 资源类型
        count:
          type: integer
          format: int64
          description: 次数
      description: 资源统计
    Audit.ResourceType:
      type: string
      enum:
        - user
        - organization
        - workspace
        - document
        - data_row
        - view
        - comment
        - apikey
        - webhook
        - subscription
        - invoice
      description: 资源类型
    Audit.ResultStatus:
      type: string
      enum:
        - success
        - failure
        - partial
      description: 操作结果状态
    Audit.RetentionPolicy:
      type: object
      required:
        - dataType
        - retentionDays
        - autoDeleteEnabled
        - legalHoldExempt
      properties:
        dataType:
          type: string
          description: 数据类型
        retentionDays:
          type: integer
          format: int32
          description: 保留天数
        autoDeleteEnabled:
          type: boolean
          description: 启用自动删除
        legalHoldExempt:
          type: boolean
          description: 法律保留豁免
      description: 数据保留策略
    Audit.TimelineStat:
      type: object
      required:
        - timestamp
        - count
      properties:
        timestamp:
          type: string
          description: 时间戳
        count:
          type: integer
          format: int64
          description: 次数
      description: 时间线统计
    Auth.AddOidcProviderRequest:
      type: object
      required:
        - providerType
        - name
        - clientId
        - clientSecret
      properties:
        providerType:
          allOf:
            - $ref: '#/components/schemas/Auth.OidcProviderType'
          description: |-
            提供商类型
            Provider type
        name:
          type: string
          description: |-
            提供商名称（显示用）
            Provider name (for display)
        clientId:
          type: string
          description: |-
            客户端ID
            Client ID
        clientSecret:
          type: string
          description: |-
            客户端密钥
            Client secret
        authorizationEndpoint:
          type: string
          description: |-
            授权端点（自定义 OIDC 时必填）
            Authorization endpoint (required for custom OIDC)
        tokenEndpoint:
          type: string
          description: |-
            令牌端点（自定义 OIDC 时必填）
            Token endpoint (required for custom OIDC)
        userinfoEndpoint:
          type: string
          description: |-
            用户信息端点（自定义 OIDC 时必填）
            Userinfo endpoint (required for custom OIDC)
        jwksUri:
          type: string
          description: |-
            JWKS URI（自定义 OIDC 时可选）
            JWKS URI (optional for custom OIDC)
        issuer:
          type: string
          description: |-
            发行者（自定义 OIDC 时必填）
            Issuer (required for custom OIDC)
        scopes:
          type: array
          items:
            type: string
          description: |-
            授权范围
            Scopes
        allowAutoAccountCreation:
          type: boolean
          description: |-
            是否允许自动创建账号
            Allow auto account creation
        allowAccountLinking:
          type: boolean
          description: |-
            是否允许关联已有账号
            Allow linking existing accounts
      description: |-
        添加 OIDC 提供商请求
        Add OIDC provider request
    Auth.ApiKey:
      type: object
      required:
        - id
        - keyPrefix
        - name
        - scopes
        - userId
        - status
        - createdAt
        - usageCount
      properties:
        id:
          type: string
          description: API Key ID
        key:
          type: string
          description: |-
            API Key（仅在创建时返回完整密钥）
            API Key (full key only returned on creation)
        keyPrefix:
          type: string
          description: |-
            密钥前缀（用于识别，例如 "sk_live_abc123..."）
            Key prefix (for identification, e.g., "sk_live_abc123...")
        name:
          type: string
          description: |-
            名称
            Name
        description:
          type: string
          description: |-
            描述
            Description
        scopes:
          type: array
          items:
            $ref: '#/components/schemas/Auth.AuthScope'
          description: |-
            权限范围
            Scopes
        userId:
          type: string
          description: |-
            所属用户ID
            Owner user ID
        organizationId:
          type: string
          description: |-
            所属组织ID（可选）
            Organization ID (optional)
        workspaceId:
          type: string
          description: |-
            所属工作区ID（可选）
            Workspace ID (optional)
        status:
          allOf:
            - $ref: '#/components/schemas/Auth.ApiKeyStatus'
          description: |-
            状态
            Status
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        lastUsedAt:
          type: string
          description: |-
            最后使用时间
            Last used at
        expiresAt:
          type: string
          description: |-
            过期时间
            Expires at
        usageCount:
          type: integer
          format: int64
          description: |-
            使用次数统计
            Usage count
        rateLimit:
          type: integer
          format: int32
          description: |-
            速率限制（请求数/分钟）
            Rate limit (requests per minute)
        ipWhitelist:
          type: array
          items:
            type: string
          description: |-
            IP 白名单
            IP whitelist
        allowedOrigins:
          type: array
          items:
            type: string
          description: |-
            允许的来源（CORS）
            Allowed origins (CORS)
      description: |-
        API Key 信息
        API Key info
    Auth.ApiKeyStatus:
      type: string
      enum:
        - active
        - expired
        - revoked
        - disabled
      description: |-
        API Key 状态
        API Key status
    Auth.ApiKeyUsageLog:
      type: object
      required:
        - id
        - apiKeyId
        - timestamp
        - method
        - path
        - statusCode
        - ipAddress
        - responseTime
      properties:
        id:
          type: string
          description: |-
            记录ID
            Log ID
        apiKeyId:
          type: string
          description: API Key ID
        timestamp:
          type: string
          description: |-
            请求时间
            Request time
        method:
          type: string
          description: |-
            请求方法
            Request method
        path:
          type: string
          description: |-
            请求路径
            Request path
        statusCode:
          type: integer
          format: int32
          description: |-
            响应状态码
            Response status code
        ipAddress:
          type: string
          description: |-
            IP 地址
            IP address
        userAgent:
          type: string
          description: User Agent
        origin:
          type: string
          description: |-
            来源
            Origin
        responseTime:
          type: integer
          format: int32
          description: |-
            响应时间（毫秒）
            Response time (ms)
        error:
          type: string
          description: |-
            错误信息（如果有）
            Error message (if any)
      description: |-
        API Key 使用记录
        API Key usage log
    Auth.ApiKeyUsageStats:
      type: object
      required:
        - apiKeyId
        - periodStart
        - periodEnd
        - totalRequests
        - successfulRequests
        - failedRequests
        - averageResponseTime
        - byEndpoint
        - byStatusCode
      properties:
        apiKeyId:
          type: string
          description: API Key ID
        periodStart:
          type: string
          description: |-
            统计周期开始时间
            Period start time
        periodEnd:
          type: string
          description: |-
            统计周期结束时间
            Period end time
        totalRequests:
          type: integer
          format: int64
          description: |-
            总请求数
            Total requests
        successfulRequests:
          type: integer
          format: int64
          description: |-
            成功请求数
            Successful requests
        failedRequests:
          type: integer
          format: int64
          description: |-
            失败请求数
            Failed requests
        averageResponseTime:
          type: number
          format: double
          description: |-
            平均响应时间（毫秒）
            Average response time (ms)
        byEndpoint:
          type: array
          items:
            type: object
            properties:
              path:
                type: string
                description: |-
                  端点路径
                  Endpoint path
              count:
                type: integer
                format: int64
                description: |-
                  请求数
                  Request count
            required:
              - path
              - count
          description: |-
            按端点统计
            Stats by endpoint
        byStatusCode:
          type: array
          items:
            type: object
            properties:
              code:
                type: integer
                format: int32
                description: |-
                  状态码
                  Status code
              count:
                type: integer
                format: int64
                description: |-
                  请求数
                  Request count
            required:
              - code
              - count
          description: |-
            按状态码统计
            Stats by status code
      description: |-
        API Key 使用统计
        API Key usage statistics
    Auth.AuthMethod:
      type: string
      enum:
        - email
        - phone
        - oauth
        - magicLink
      description: |-
        登录方式
        Authentication method
    Auth.AuthScope:
      type: string
      enum:
        - doc:read
        - doc:write
        - doc:delete
        - data:read
        - data:write
        - data:delete
        - org:manage
        - workspace:manage
        - user:manage
        - webhook:manage
        - all
      description: |-
        统一权限范围定义
        Unified authorization scope

        此枚举为所有认证方式(OAuth Client、API Key)提供统一的权限范围定义
        This enum provides unified scope definitions for all authentication methods
    Auth.AuthorizationDecisionRequest:
      type: object
      required:
        - requestId
        - approved
      properties:
        requestId:
          type: string
          description: |-
            请求ID
            Request ID
        approved:
          type: boolean
          description: |-
            是否授权
            Whether to authorize
        grantedScopes:
          type: array
          items:
            type: string
          description: |-
            授权的范围（可选，覆盖请求的范围）
            Granted scopes (optional, override requested scopes)
      description: |-
        授权决策请求
        Authorization decision request
    Auth.AuthorizationDecisionResponse:
      type: object
      required:
        - redirectUri
      properties:
        redirectUri:
          type: string
          description: |-
            重定向 URI（包含授权码或错误）
            Redirect URI (includes authorization code or error)
      description: |-
        授权决策响应
        Authorization decision response
    Auth.AuthorizationRequestDetails:
      type: object
      required:
        - requestId
        - client
        - requestedScopes
        - redirectUri
        - responseType
        - usesPkce
      properties:
        requestId:
          type: string
          description: |-
            请求ID
            Request ID
        client:
          type: object
          properties:
            clientId:
              type: string
              description: |-
                客户端ID
                Client ID
            name:
              type: string
              description: |-
                客户端名称
                Client name
            logoUrl:
              type: string
              description: Logo URL
            homepageUrl:
              type: string
              description: |-
                主页 URL
                Homepage URL
            privacyPolicyUrl:
              type: string
              description: |-
                隐私政策 URL
                Privacy policy URL
            termsOfServiceUrl:
              type: string
              description: |-
                服务条款 URL
                Terms of service URL
          required:
            - clientId
            - name
          description: |-
            客户端信息
            Client information
        requestedScopes:
          type: array
          items:
            type: object
            properties:
              scope:
                type: string
                description: |-
                  范围
                  Scope
              description:
                type: string
                description: |-
                  描述
                  Description
              required:
                type: boolean
                description: |-
                  是否必需
                  Is required
            required:
              - scope
              - description
              - required
          description: |-
            请求的授权范围
            Requested scopes
        redirectUri:
          type: string
          description: |-
            重定向 URI
            Redirect URI
        state:
          type: string
          description: |-
            状态码
            State
        responseType:
          type: string
          description: |-
            响应类型
            Response type
        usesPkce:
          type: boolean
          description: |-
            是否使用 PKCE
            Uses PKCE
      description: |-
        授权请求详情
        Authorization request details
    Auth.ChangePasswordRequest:
      type: object
      required:
        - currentPassword
        - newPassword
      properties:
        currentPassword:
          type: string
          description: |-
            当前密码
            Current password
        newPassword:
          type: string
          description: |-
            新密码
            New password
      description: |-
        修改密码请求
        Change password request
    Auth.ClientMetadata:
      type: object
      required:
        - client_id
      properties:
        client_id:
          type: string
          description: |-
            客户端ID
            Client ID
        client_name:
          type: string
          description: |-
            客户端名称
            Client name
        grant_types:
          type: array
          items:
            type: string
          description: |-
            允许的授权类型
            Grant types
        redirect_uris:
          type: array
          items:
            type: string
          description: |-
            重定向 URI 列表
            Redirect URIs
        scopes:
          type: array
          items:
            type: string
          description: |-
            授权范围
            Scopes
        token_endpoint_auth_method:
          type: string
          description: |-
            令牌端点认证方法
            Token endpoint auth method
      description: |-
        OAuth2 客户端基础元数据 (协议层)
        OAuth2 client metadata (protocol layer)

        此模型定义 OAuth2 标准协议层的客户端基础信息,供业务管理模型复用
        This model defines OAuth2 standard protocol layer client metadata for reuse
    Auth.CreateApiKeyRequest:
      type: object
      required:
        - name
        - scopes
      properties:
        name:
          type: string
          description: |-
            名称
            Name
        description:
          type: string
          description: |-
            描述
            Description
        scopes:
          type: array
          items:
            $ref: '#/components/schemas/Auth.AuthScope'
          description: |-
            权限范围
            Scopes
        organizationId:
          type: string
          description: |-
            所属组织ID（可选）
            Organization ID (optional)
        workspaceId:
          type: string
          description: |-
            所属工作区ID（可选）
            Workspace ID (optional)
        expiresInDays:
          type: integer
          format: int32
          description: |-
            过期天数（不设置则永不过期）
            Expiration days (never expires if not set)
        rateLimit:
          type: integer
          format: int32
          description: |-
            速率限制（请求数/分钟）
            Rate limit (requests per minute)
        ipWhitelist:
          type: array
          items:
            type: string
          description: |-
            IP 白名单
            IP whitelist
        allowedOrigins:
          type: array
          items:
            type: string
          description: |-
            允许的来源（CORS）
            Allowed origins (CORS)
      description: |-
        创建 API Key 请求
        Create API Key request
    Auth.CreateOAuthClientRequest:
      type: object
      required:
        - name
        - clientType
        - grantTypes
        - redirectUris
        - scopes
      properties:
        name:
          type: string
          description: |-
            客户端名称
            Client name
        description:
          type: string
          description: |-
            客户端描述
            Client description
        clientType:
          allOf:
            - $ref: '#/components/schemas/Auth.OAuthClientType'
          description: |-
            客户端类型
            Client type
        grantTypes:
          type: array
          items:
            $ref: '#/components/schemas/Auth.OAuthGrantType'
          description: |-
            允许的授权类型
            Allowed grant types
        redirectUris:
          type: array
          items:
            type: string
          description: |-
            重定向 URI 列表
            Redirect URIs
        scopes:
          type: array
          items:
            type: string
          description: |-
            允许的授权范围 (使用字符串数组以兼容 AuthScope 和 OidcStandardScope)
            Allowed scopes (string array for compatibility)
        requirePkce:
          type: boolean
          description: |-
            是否需要 PKCE
            Requires PKCE
        tokenLifetime:
          type: integer
          format: int32
          description: |-
            令牌有效期（秒，默认 3600）
            Token lifetime (seconds, default 3600)
        refreshTokenLifetime:
          type: integer
          format: int32
          description: |-
            刷新令牌有效期（秒，默认 2592000 = 30天）
            Refresh token lifetime (seconds, default 2592000 = 30 days)
        logoUrl:
          type: string
          description: |-
            客户端 Logo URL
            Client logo URL
        homepageUrl:
          type: string
          description: |-
            主页 URL
            Homepage URL
        privacyPolicyUrl:
          type: string
          description: |-
            隐私政策 URL
            Privacy policy URL
        termsOfServiceUrl:
          type: string
          description: |-
            服务条款 URL
            Terms of service URL
      description: |-
        创建 OAuth 客户端请求
        Create OAuth client request
    Auth.DeviceAuthorizationConfirmRequest:
      type: object
      required:
        - user_code
        - approved
      properties:
        user_code:
          type: string
          description: |-
            用户码
            User code
        approved:
          type: boolean
          description: |-
            是否授权
            Whether to authorize
        scopes:
          type: array
          items:
            type: string
          description: |-
            授权范围（可选，覆盖请求的范围）
            Scopes (optional, override requested scopes)
      description: |-
        设备授权确认请求
        Device authorization confirmation request
    Auth.DeviceAuthorizationRequest:
      type: object
      required:
        - client_id
      properties:
        client_id:
          type: string
          description: |-
            客户端ID
            Client ID
        scope:
          type: string
          description: |-
            授权范围
            Scope
      description: |-
        设备授权请求
        Device authorization request
    Auth.DeviceAuthorizationResponse:
      type: object
      required:
        - device_code
        - user_code
        - verification_uri
        - expires_in
      properties:
        device_code:
          type: string
          description: |-
            设备码
            Device code
        user_code:
          type: string
          description: |-
            用户码
            User code
        verification_uri:
          type: string
          description: |-
            验证 URI
            Verification URI
        verification_uri_complete:
          type: string
          description: |-
            完整验证 URI（包含用户码）
            Complete verification URI (includes user code)
        expires_in:
          type: integer
          format: int32
          description: |-
            过期时间（秒）
            Expires in seconds
        interval:
          type: integer
          format: int32
          description: |-
            轮询间隔（秒）
            Polling interval (seconds)
      description: |-
        设备授权响应
        Device authorization response
    Auth.DeviceTokenRequest:
      type: object
      required:
        - grant_type
        - device_code
        - client_id
      properties:
        grant_type:
          type: string
          enum:
            - urn:ietf:params:oauth:grant-type:device_code
          description: |-
            授权类型
            Grant type
        device_code:
          type: string
          description: |-
            设备码
            Device code
        client_id:
          type: string
          description: |-
            客户端ID
            Client ID
      description: |-
        设备令牌请求
        Device token request
    Auth.EnableTwoFactorRequest:
      type: object
      required:
        - method
        - code
      properties:
        method:
          allOf:
            - $ref: '#/components/schemas/Auth.TwoFactorMethod'
          description: |-
            两步验证方式
            Two-factor method
        code:
          type: string
          description: |-
            验证码（用于确认）
            Verification code (for confirmation)
      description: |-
        启用两步验证请求
        Enable two-factor request
    Auth.JWK:
      type: object
      required:
        - kty
      properties:
        kty:
          type: string
          description: |-
            密钥类型
            Key type
        kid:
          type: string
          description: |-
            密钥ID
            Key id
        use:
          type: string
          description: |-
            用途
            Use
        alg:
          type: string
          description: |-
            算法
            Algorithm
        'n':
          type: string
          description: RSA modulus (n)
        e:
          type: string
          description: RSA exponent (e)
        crv:
          type: string
          description: |-
            曲线
            Curve
        x:
          type: string
          description: |-
            X 坐标
            X coordinate
        'y':
          type: string
          description: |-
            Y 坐标
            Y coordinate
      description: |-
        JSON Web Key
        JSON Web Key
    Auth.LinkedAccount:
      type: object
      required:
        - id
        - providerType
        - providerName
        - providerAccountId
        - linkedAt
      properties:
        id:
          type: string
          description: |-
            关联ID
            Link ID
        providerType:
          allOf:
            - $ref: '#/components/schemas/Auth.OidcProviderType'
          description: |-
            提供商类型
            Provider type
        providerName:
          type: string
          description: |-
            提供商名称
            Provider name
        providerAccountId:
          type: string
          description: |-
            第三方账号ID
            Third-party account ID
        providerEmail:
          type: string
          description: |-
            第三方账号邮箱
            Third-party account email
        providerDisplayName:
          type: string
          description: |-
            第三方账号显示名称
            Third-party account display name
        providerAvatar:
          type: string
          description: |-
            第三方账号头像
            Third-party account avatar
        linkedAt:
          type: string
          description: |-
            关联时间
            Linked at
        lastUsedAt:
          type: string
          description: |-
            最后使用时间
            Last used at
      description: |-
        用户关联的第三方账号
        User's linked third-party account
    Auth.LoginRequest:
      type: object
      properties:
        email:
          type: string
          description: |-
            邮箱
            Email
        phone:
          type: string
          description: |-
            手机号
            Phone number
        password:
          type: string
          description: |-
            密码
            Password
        verificationCode:
          type: string
          description: |-
            验证码（手机登录时使用）
            Verification code (for phone login)
        authorizationCode:
          type: string
          description: |-
            OAuth 授权码（OAuth 登录时使用）
            OAuth authorization code (for OAuth login)
        provider:
          type: string
          description: |-
            OAuth 提供商（OAuth 登录时使用）
            OAuth provider (for OAuth login)
        twoFactorCode:
          type: string
          description: |-
            两步验证码（如果启用了 2FA）
            Two-factor code (if 2FA enabled)
        rememberMe:
          type: boolean
          description: |-
            记住我（延长会话时间）
            Remember me (extend session)
      description: |-
        登录请求
        Login request
    Auth.LoginResponse:
      type: object
      required:
        - accessToken
        - refreshToken
        - tokenType
        - expiresIn
        - user
      properties:
        accessToken:
          type: string
          description: |-
            访问令牌
            Access token
        refreshToken:
          type: string
          description: |-
            刷新令牌
            Refresh token
        tokenType:
          type: string
          enum:
            - Bearer
          description: |-
            令牌类型
            Token type
        expiresIn:
          type: integer
          format: int32
          description: |-
            过期时间（秒）
            Expires in seconds
        user:
          type: object
          properties:
            id:
              type: string
            email:
              type: string
            phone:
              type: string
            displayName:
              type: string
            avatarUrl:
              type: string
          required:
            - id
            - displayName
          description: |-
            用户信息
            User info
        requiresTwoFactor:
          type: boolean
          description: |-
            是否需要两步验证
            Requires two-factor authentication
      description: |-
        登录响应
        Login response
    Auth.OAuthAuthorization:
      type: object
      required:
        - id
        - clientId
        - clientName
        - userId
        - scopes
        - authorizedAt
      properties:
        id:
          type: string
          description: |-
            授权ID
            Authorization ID
        clientId:
          type: string
          description: |-
            客户端ID
            Client ID
        clientName:
          type: string
          description: |-
            客户端名称
            Client name
        userId:
          type: string
          description: |-
            用户ID
            User ID
        scopes:
          type: array
          items:
            type: string
          description: |-
            授权的范围 (使用字符串数组以兼容 AuthScope 和 OidcStandardScope)
            Authorized scopes (string array for compatibility)
        authorizedAt:
          type: string
          description: |-
            授权时间
            Authorized at
        lastUsedAt:
          type: string
          description: |-
            最后使用时间
            Last used at
        expiresAt:
          type: string
          description: |-
            过期时间（如果有）
            Expires at (if any)
      description: |-
        OAuth 授权记录
        OAuth authorization record
    Auth.OAuthCallbackRequest:
      type: object
      required:
        - code
        - state
        - redirectUri
      properties:
        code:
          type: string
          description: |-
            授权码
            Authorization code
        state:
          type: string
          description: |-
            状态码
            State code
        redirectUri:
          type: string
          description: |-
            重定向 URI
            Redirect URI
      description: |-
        OAuth 回调请求
        OAuth callback request
    Auth.OAuthClient:
      type: object
      required:
        - clientId
        - name
        - clientType
        - grantTypes
        - redirectUris
        - scopes
        - requirePkce
        - tokenLifetime
        - userId
        - status
        - createdAt
        - authorizationCount
      properties:
        clientId:
          type: string
          description: |-
            客户端ID
            Client ID
        clientSecret:
          type: string
          description: |-
            客户端密钥（仅在创建时返回完整密钥）
            Client secret (full secret only returned on creation)
        secretPrefix:
          type: string
          description: |-
            密钥前缀（用于识别）
            Secret prefix (for identification)
        name:
          type: string
          description: |-
            客户端名称
            Client name
        description:
          type: string
          description: |-
            客户端描述
            Client description
        clientType:
          allOf:
            - $ref: '#/components/schemas/Auth.OAuthClientType'
          description: |-
            客户端类型
            Client type
        grantTypes:
          type: array
          items:
            $ref: '#/components/schemas/Auth.OAuthGrantType'
          description: |-
            允许的授权类型
            Allowed grant types
        redirectUris:
          type: array
          items:
            type: string
          description: |-
            重定向 URI 列表
            Redirect URIs
        scopes:
          type: array
          items:
            type: string
          description: |-
            允许的授权范围 (使用字符串数组以兼容 AuthScope 和 OidcStandardScope)
            Allowed scopes (string array for compatibility)
        requirePkce:
          type: boolean
          description: |-
            是否需要 PKCE
            Requires PKCE
        tokenLifetime:
          type: integer
          format: int32
          description: |-
            令牌有效期（秒）
            Token lifetime (seconds)
        refreshTokenLifetime:
          type: integer
          format: int32
          description: |-
            刷新令牌有效期（秒）
            Refresh token lifetime (seconds)
        logoUrl:
          type: string
          description: |-
            客户端 Logo URL
            Client logo URL
        homepageUrl:
          type: string
          description: |-
            主页 URL
            Homepage URL
        privacyPolicyUrl:
          type: string
          description: |-
            隐私政策 URL
            Privacy policy URL
        termsOfServiceUrl:
          type: string
          description: |-
            服务条款 URL
            Terms of service URL
        userId:
          type: string
          description: |-
            所属用户ID
            Owner user ID
        organizationId:
          type: string
          description: |-
            所属组织ID（可选）
            Organization ID (optional)
        status:
          allOf:
            - $ref: '#/components/schemas/Auth.OAuthClientStatus'
          description: |-
            状态
            Status
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        lastUsedAt:
          type: string
          description: |-
            最后使用时间
            Last used at
        authorizationCount:
          type: integer
          format: int64
          description: |-
            授权次数统计
            Authorization count
      description: |-
        OAuth 客户端应用信息 (扩展基础元数据)
        OAuth client application info (extends base metadata)

        继承 ClientMetadata 并添加管理侧字段
        Extends ClientMetadata with management fields
    Auth.OAuthClientStatus:
      type: string
      enum:
        - active
        - disabled
        - revoked
      description: |-
        OAuth 客户端状态
        OAuth client status
    Auth.OAuthClientType:
      type: string
      enum:
        - public
        - confidential
      description: |-
        OAuth 客户端类型
        OAuth client type
    Auth.OAuthGrantType:
      type: string
      enum:
        - authorization_code
        - client_credentials
        - refresh_token
        - urn_ietf_params_oauth_grant_type_device_code
      description: |-
        OAuth 授权类型
        OAuth grant type
    Auth.OAuthLoginUrlResponse:
      type: object
      required:
        - authorizationUrl
        - state
      properties:
        authorizationUrl:
          type: string
          description: |-
            授权 URL
            Authorization URL
        state:
          type: string
          description: |-
            状态码（用于防止 CSRF）
            State code (for CSRF protection)
      description: |-
        OAuth 登录 URL 响应
        OAuth login URL response
    Auth.OAuthScope:
      type: object
      properties:
        businessScopes:
          type: array
          items:
            $ref: '#/components/schemas/Auth.AuthScope'
          description: |-
            业务权限范围 (doc:*, data:*, org:*, etc.)
            Business scopes
        oidcScopes:
          type: array
          items:
            $ref: '#/components/schemas/Auth.OidcStandardScope'
          description: |-
            OIDC 标准范围 (openid, profile, email, offline_access)
            OIDC standard scopes
      description: |-
        OAuth 授权范围 (组合公共枚举)
        OAuth scope (combines common enums)

        OAuth 客户端支持所有 AuthScope 和 OIDC 标准 Scope
        OAuth clients support all AuthScope and OIDC standard scopes
    Auth.OidcProviderConfig:
      type: object
      required:
        - id
        - providerType
        - name
        - clientId
        - scopes
        - status
        - allowAutoAccountCreation
        - allowAccountLinking
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: |-
            配置ID
            Config ID
        providerType:
          allOf:
            - $ref: '#/components/schemas/Auth.OidcProviderType'
          description: |-
            提供商类型
            Provider type
        name:
          type: string
          description: |-
            提供商名称（显示用）
            Provider name (for display)
        clientId:
          type: string
          description: |-
            客户端ID
            Client ID
        clientSecret:
          type: string
          description: |-
            客户端密钥（仅在创建/更新时可见）
            Client secret (only visible on create/update)
        authorizationEndpoint:
          type: string
          description: |-
            授权端点（自定义 OIDC 时使用）
            Authorization endpoint (for custom OIDC)
        tokenEndpoint:
          type: string
          description: |-
            令牌端点（自定义 OIDC 时使用）
            Token endpoint (for custom OIDC)
        userinfoEndpoint:
          type: string
          description: |-
            用户信息端点（自定义 OIDC 时使用）
            Userinfo endpoint (for custom OIDC)
        jwksUri:
          type: string
          description: |-
            JWKS URI（自定义 OIDC 时使用）
            JWKS URI (for custom OIDC)
        issuer:
          type: string
          description: |-
            发行者（自定义 OIDC 时使用）
            Issuer (for custom OIDC)
        scopes:
          type: array
          items:
            type: string
          description: |-
            授权范围
            Scopes
        status:
          allOf:
            - $ref: '#/components/schemas/Auth.OidcProviderStatus'
          description: |-
            是否启用
            Enabled
        allowAutoAccountCreation:
          type: boolean
          description: |-
            是否允许自动创建账号
            Allow auto account creation
        allowAccountLinking:
          type: boolean
          description: |-
            是否允许关联已有账号
            Allow linking existing accounts
        organizationId:
          type: string
          description: |-
            所属组织ID（可选，用于企业级配置）
            Organization ID (optional, for enterprise configuration)
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
      description: |-
        OIDC 提供商配置
        OIDC provider configuration
    Auth.OidcProviderStatus:
      type: string
      enum:
        - active
        - disabled
      description: |-
        OIDC 提供商配置状态
        OIDC provider configuration status
    Auth.OidcProviderType:
      type: string
      enum:
        - google
        - github
        - microsoft
        - apple
        - facebook
        - twitter
        - linkedin
        - slack
        - gitlab
        - bitbucket
        - wechat_work
        - dingtalk
        - lark
        - custom
      description: |-
        OIDC 提供商类型
        OIDC provider type
    Auth.OidcStandardScope:
      type: string
      enum:
        - openid
        - profile
        - email
        - offline_access
      description: |-
        OIDC 标准 Scope
        OIDC standard scopes
    Auth.PkceAuthorizationParams:
      type: object
      required:
        - code_challenge
        - code_challenge_method
      properties:
        code_challenge:
          type: string
          description: |-
            代码质询
            Code challenge
        code_challenge_method:
          type: string
          enum:
            - S256
            - plain
          description: |-
            代码质询方法
            Code challenge method
      description: |-
        PKCE 授权请求参数
        PKCE authorization request parameters

        这些参数会作为查询参数添加到授权请求中
        These parameters are added as query parameters to the authorization request
    Auth.PkceTokenParams:
      type: object
      required:
        - code_verifier
      properties:
        code_verifier:
          type: string
          description: |-
            代码验证器
            Code verifier
      description: |-
        PKCE 令牌请求参数
        PKCE token request parameters

        这些参数会作为表单参数添加到令牌请求中
        These parameters are added as form parameters to the token request
    Auth.ProviderMetadata:
      type: object
      required:
        - issuer
        - authorization_endpoint
        - token_endpoint
        - userinfo_endpoint
        - jwks_uri
      properties:
        issuer:
          type: string
          description: |-
            发行者
            Issuer
        authorization_endpoint:
          type: string
          description: |-
            授权端点
            Authorization endpoint
        token_endpoint:
          type: string
          description: |-
            令牌端点
            Token endpoint
        userinfo_endpoint:
          type: string
          description: |-
            用户信息端点
            Userinfo endpoint
        jwks_uri:
          type: string
          description: |-
            JWKS地址
            JWKS URI
        scopes_supported:
          type: array
          items:
            type: string
          description: |-
            支持的范围
            Supported scopes
        response_types_supported:
          type: array
          items:
            type: string
          description: |-
            支持的响应类型
            Supported response types
        grant_types_supported:
          type: array
          items:
            type: string
          description: |-
            支持的授权模式
            Supported grant types
        id_token_signing_alg_values_supported:
          type: array
          items:
            type: string
          description: |-
            ID Token签名算法
            ID Token signing algorithms
        claims_supported:
          type: array
          items:
            type: string
          description: |-
            支持的声明
            Supported claims
      description: |-
        OIDC 提供方元数据
        OIDC provider metadata
    Auth.RegisterRequest:
      type: object
      required:
        - displayName
        - agreeToTerms
      properties:
        email:
          type: string
          description: |-
            邮箱
            Email
        phone:
          type: string
          description: |-
            手机号
            Phone number
        password:
          type: string
          description: |-
            密码（邮箱注册时必填）
            Password (required for email registration)
        displayName:
          type: string
          description: |-
            显示名称
            Display name
        invitationCode:
          type: string
          description: |-
            邀请码（可选）
            Invitation code (optional)
        agreeToTerms:
          type: boolean
          description: |-
            同意服务条款
            Agree to terms of service
      description: |-
        用户注册请求
        User registration request
    Auth.ResetPasswordRequest:
      type: object
      required:
        - target
        - verificationCode
        - newPassword
      properties:
        target:
          type: string
          description: |-
            邮箱或手机号
            Email or phone number
        verificationCode:
          type: string
          description: |-
            验证码
            Verification code
        newPassword:
          type: string
          description: |-
            新密码
            New password
      description: |-
        密码重置请求
        Password reset request
    Auth.SendVerificationCodeRequest:
      type: object
      required:
        - target
        - type
      properties:
        target:
          type: string
          description: |-
            邮箱或手机号
            Email or phone number
        type:
          type: string
          enum:
            - login
            - register
            - resetPassword
            - enableTwoFactor
          description: |-
            验证码类型
            Code type
      description: |-
        发送验证码请求
        Send verification code request
    Auth.Session:
      type: object
      required:
        - id
        - userId
        - device
        - ipAddress
        - createdAt
        - lastActiveAt
        - expiresAt
        - status
        - isCurrent
      properties:
        id:
          type: string
          description: |-
            会话ID
            Session ID
        userId:
          type: string
          description: |-
            用户ID
            User ID
        device:
          type: object
          properties:
            type:
              type: string
              description: |-
                设备类型
                Device type
            os:
              type: string
              description: |-
                操作系统
                Operating system
            browser:
              type: string
              description: |-
                浏览器
                Browser
          required:
            - type
          description: |-
            设备信息
            Device info
        ipAddress:
          type: string
          description: |-
            IP 地址
            IP address
        location:
          type: object
          properties:
            country:
              type: string
              description: |-
                国家
                Country
            city:
              type: string
              description: |-
                城市
                City
          description: |-
            地理位置
            Location
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        lastActiveAt:
          type: string
          description: |-
            最后活跃时间
            Last active at
        expiresAt:
          type: string
          description: |-
            过期时间
            Expires at
        status:
          allOf:
            - $ref: '#/components/schemas/Auth.SessionStatus'
          description: |-
            状态
            Status
        isCurrent:
          type: boolean
          description: |-
            是否为当前会话
            Is current session
      description: |-
        会话信息
        Session info
    Auth.SessionStatus:
      type: string
      enum:
        - active
        - expired
        - revoked
      description: |-
        会话状态
        Session status
    Auth.TokenIntrospectionRequest:
      type: object
      required:
        - token
      properties:
        token:
          type: string
          description: |-
            要检查的令牌
            Token to introspect
        token_type_hint:
          type: string
          enum:
            - access_token
            - refresh_token
          description: |-
            令牌类型提示
            Token type hint
        client_id:
          type: string
          description: |-
            客户端ID
            Client ID
        client_secret:
          type: string
          description: |-
            客户端密钥
            Client secret
      description: |-
        令牌自省请求
        Token introspection request
    Auth.TokenIntrospectionResponse:
      type: object
      required:
        - active
      properties:
        active:
          type: boolean
          description: |-
            令牌是否活跃
            Whether the token is active
        scope:
          type: string
          description: |-
            授权范围
            Scope
        client_id:
          type: string
          description: |-
            客户端ID
            Client ID
        username:
          type: string
          description: |-
            用户名
            Username
        token_type:
          type: string
          description: |-
            令牌类型
            Token type
        exp:
          type: integer
          format: int64
          description: |-
            过期时间（Unix 时间戳）
            Expiration time (Unix timestamp)
        iat:
          type: integer
          format: int64
          description: |-
            签发时间（Unix 时间戳）
            Issued at (Unix timestamp)
        nbf:
          type: integer
          format: int64
          description: |-
            生效时间（Unix 时间戳）
            Not before (Unix timestamp)
        sub:
          type: string
          description: |-
            主体
            Subject
        aud:
          type: string
          description: |-
            受众
            Audience
        iss:
          type: string
          description: |-
            发行者
            Issuer
        jti:
          type: string
          description: JWT ID
      description: |-
        令牌自省响应
        Token introspection response
    Auth.TokenResponse:
      type: object
      required:
        - access_token
        - token_type
        - expires_in
      properties:
        access_token:
          type: string
          description: |-
            访问令牌
            Access token
        token_type:
          type: string
          enum:
            - Bearer
          description: |-
            令牌类型
            Token type
        expires_in:
          type: integer
          format: int32
          description: |-
            过期时间（秒）
            Expires in seconds
        refresh_token:
          type: string
          description: |-
            刷新令牌
            Refresh token
        scope:
          type: string
          description: |-
            授权范围
            Granted scope
      description: |-
        令牌颁发响应
        Token issuance response
    Auth.TokenRevocationRequest:
      type: object
      required:
        - token
      properties:
        token:
          type: string
          description: |-
            要撤销的令牌
            Token to revoke
        token_type_hint:
          type: string
          enum:
            - access_token
            - refresh_token
          description: |-
            令牌类型提示
            Token type hint
        client_id:
          type: string
          description: |-
            客户端ID
            Client ID
        client_secret:
          type: string
          description: |-
            客户端密钥
            Client secret
      description: |-
        令牌撤销请求
        Token revocation request
    Auth.TwoFactorMethod:
      type: string
      enum:
        - totp
        - sms
        - email
        - backupCode
      description: |-
        两步验证方式
        Two-factor method
    Auth.TwoFactorSetupResponse:
      type: object
      required:
        - method
      properties:
        method:
          allOf:
            - $ref: '#/components/schemas/Auth.TwoFactorMethod'
          description: |-
            方式
            Method
        secret:
          type: string
          description: |-
            TOTP 密钥（仅当 method 为 totp 时）
            TOTP secret (only when method is totp)
        qrCodeUrl:
          type: string
          description: |-
            TOTP 二维码 URL（仅当 method 为 totp 时）
            TOTP QR code URL (only when method is totp)
        backupCodes:
          type: array
          items:
            type: string
          description: |-
            备用码列表（仅当 method 为 backupCode 时）
            Backup codes (only when method is backupCode)
      description: |-
        两步验证设置响应
        Two-factor setup response
    Auth.UpdateApiKeyRequest:
      type: object
      properties:
        name:
          type: string
          description: |-
            名称
            Name
        description:
          type: string
          description: |-
            描述
            Description
        scopes:
          type: array
          items:
            $ref: '#/components/schemas/Auth.AuthScope'
          description: |-
            权限范围
            Scopes
        rateLimit:
          type: integer
          format: int32
          description: |-
            速率限制（请求数/分钟）
            Rate limit (requests per minute)
        ipWhitelist:
          type: array
          items:
            type: string
          description: |-
            IP 白名单
            IP whitelist
        allowedOrigins:
          type: array
          items:
            type: string
          description: |-
            允许的来源（CORS）
            Allowed origins (CORS)
        enabled:
          type: boolean
          description: |-
            启用/禁用
            Enable/disable
      description: |-
        更新 API Key 请求
        Update API Key request
    Auth.UpdateOAuthClientRequest:
      type: object
      properties:
        name:
          type: string
          description: |-
            客户端名称
            Client name
        description:
          type: string
          description: |-
            客户端描述
            Client description
        redirectUris:
          type: array
          items:
            type: string
          description: |-
            重定向 URI 列表
            Redirect URIs
        scopes:
          type: array
          items:
            $ref: '#/components/schemas/Auth.OAuthScope'
          description: |-
            允许的授权范围
            Allowed scopes
        requirePkce:
          type: boolean
          description: |-
            是否需要 PKCE
            Requires PKCE
        tokenLifetime:
          type: integer
          format: int32
          description: |-
            令牌有效期（秒）
            Token lifetime (seconds)
        refreshTokenLifetime:
          type: integer
          format: int32
          description: |-
            刷新令牌有效期（秒）
            Refresh token lifetime (seconds)
        logoUrl:
          type: string
          description: |-
            客户端 Logo URL
            Client logo URL
        homepageUrl:
          type: string
          description: |-
            主页 URL
            Homepage URL
        privacyPolicyUrl:
          type: string
          description: |-
            隐私政策 URL
            Privacy policy URL
        termsOfServiceUrl:
          type: string
          description: |-
            服务条款 URL
            Terms of service URL
        enabled:
          type: boolean
          description: |-
            启用/禁用
            Enable/disable
      description: |-
        更新 OAuth 客户端请求
        Update OAuth client request
    Auth.UpdateOidcProviderRequest:
      type: object
      properties:
        name:
          type: string
          description: |-
            提供商名称（显示用）
            Provider name (for display)
        clientId:
          type: string
          description: |-
            客户端ID
            Client ID
        clientSecret:
          type: string
          description: |-
            客户端密钥
            Client secret
        scopes:
          type: array
          items:
            type: string
          description: |-
            授权范围
            Scopes
        enabled:
          type: boolean
          description: |-
            是否启用
            Enabled
        allowAutoAccountCreation:
          type: boolean
          description: |-
            是否允许自动创建账号
            Allow auto account creation
        allowAccountLinking:
          type: boolean
          description: |-
            是否允许关联已有账号
            Allow linking existing accounts
      description: |-
        更新 OIDC 提供商请求
        Update OIDC provider request
    Auth.UserInfo:
      type: object
      required:
        - sub
      properties:
        sub:
          type: string
          description: |-
            主体ID (必需)
            Subject identifier (required)
        name:
          type: string
          description: |-
            全名
            Full name
        given_name:
          type: string
          description: |-
            名字
            Given name / First name
        family_name:
          type: string
          description: |-
            姓氏
            Family name / Last name
        middle_name:
          type: string
          description: |-
            中间名
            Middle name
        nickname:
          type: string
          description: |-
            昵称
            Nickname
        preferred_username:
          type: string
          description: |-
            用户名
            Preferred username
        profile:
          type: string
          description: |-
            个人主页 URL
            Profile page URL
        picture:
          type: string
          description: |-
            头像 URL
            Picture URL
        website:
          type: string
          description: |-
            个人网站
            Website URL
        email:
          type: string
          description: |-
            邮箱
            Email address
        email_verified:
          type: boolean
          description: |-
            邮箱已验证
            Email verified
        gender:
          type: string
          description: |-
            性别
            Gender
        birthdate:
          type: string
          description: |-
            生日 (YYYY-MM-DD 格式)
            Birthdate (YYYY-MM-DD format)
        zoneinfo:
          type: string
          description: |-
            时区信息
            Time zone (e.g., "Asia/Shanghai")
        locale:
          type: string
          description: |-
            语言区域
            Locale (e.g., "zh-CN", "en-US")
        phone_number:
          type: string
          description: |-
            手机号
            Phone number
        phone_number_verified:
          type: boolean
          description: |-
            手机号已验证
            Phone number verified
        address:
          type: object
          properties:
            formatted:
              type: string
              description: |-
                完整地址
                Formatted address
            street_address:
              type: string
              description: |-
                街道地址
                Street address
            locality:
              type: string
              description: |-
                城市
                Locality / City
            region:
              type: string
              description: |-
                省/州
                Region / State
            postal_code:
              type: string
              description: |-
                邮编
                Postal code
            country:
              type: string
              description: |-
                国家
                Country
          description: |-
            地址信息
            Address
        updated_at:
          type: integer
          format: int64
          description: |-
            信息更新时间 (Unix 时间戳)
            Updated at (Unix timestamp)
        roles:
          type: array
          items:
            type: string
          description: |-
            角色列表
            Roles
        tenants:
          type: array
          items:
            type: string
          description: |-
            租户列表
            Tenants
      description: |-
        用户信息声明 (OIDC Core 1.0 标准)
        User info claims (OIDC Core 1.0 Standard)

        包含 OIDC 标准字段和 NexusBook 扩展字段
        Includes OIDC standard claims and NexusBook extensions
    Billing.BillingCycle:
      type: string
      enum:
        - monthly
        - yearly
      description: 计费周期
    Billing.Invoice:
      type: object
      required:
        - id
        - organizationId
        - subscriptionId
        - invoiceNumber
        - status
        - subtotal
        - tax
        - total
        - currency
        - items
        - periodStart
        - periodEnd
        - dueDate
        - createdAt
      properties:
        id:
          type: string
          description: 账单唯一标识
        organizationId:
          type: string
          description: 组织 ID
        subscriptionId:
          type: string
          description: 订阅 ID
        invoiceNumber:
          type: string
          description: 账单编号
        status:
          allOf:
            - $ref: '#/components/schemas/Billing.InvoiceStatus'
          description: 状态
        subtotal:
          type: number
          format: double
          description: 小计
        tax:
          type: number
          format: double
          description: 税额
        total:
          type: number
          format: double
          description: 总计
        currency:
          type: string
          description: 货币代码
        items:
          type: array
          items:
            $ref: '#/components/schemas/Billing.InvoiceItem'
          description: 账单项
        periodStart:
          type: string
          description: 计费周期开始
        periodEnd:
          type: string
          description: 计费周期结束
        dueDate:
          type: string
          description: 到期日期
        paidAt:
          type: string
          description: 支付时间
        paymentIntentId:
          type: string
          description: 支付意图 ID
        invoiceUrl:
          type: string
          description: 账单 URL
        invoicePdfUrl:
          type: string
          description: PDF 下载链接
        createdAt:
          type: string
          description: 创建时间
      description: 账单
    Billing.InvoiceItem:
      type: object
      required:
        - description
        - quantity
        - unitPrice
        - amount
        - type
      properties:
        description:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: 描述（多语言）
        quantity:
          type: integer
          format: int32
          description: 数量
        unitPrice:
          type: number
          format: double
          description: 单价
        amount:
          type: number
          format: double
          description: 金额
        type:
          allOf:
            - $ref: '#/components/schemas/Billing.ItemType'
          description: 类型
      description: 账单项
    Billing.InvoiceStatus:
      type: string
      enum:
        - draft
        - open
        - paid
        - void_status
        - uncollectible
      description: 账单状态
    Billing.ItemType:
      type: string
      enum:
        - subscription
        - usage
        - addon
      description: 账单项类型
    Billing.MetricType:
      type: string
      enum:
        - members
        - workspaces
        - documents
        - storage_gb
        - api_calls
        - realtime_sessions
      description: 使用量指标类型
    Billing.OrganizationSubscription:
      type: object
      required:
        - id
        - organizationId
        - planId
        - status
        - currentPeriodStart
        - currentPeriodEnd
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: 订阅唯一标识
        organizationId:
          type: string
          description: 组织 ID
        planId:
          type: string
          description: 订阅计划 ID
        plan:
          allOf:
            - $ref: '#/components/schemas/Billing.SubscriptionPlan'
          description: 计划详情（可选）
        status:
          allOf:
            - $ref: '#/components/schemas/Billing.SubscriptionStatus'
          description: 订阅状态
        trialStart:
          type: string
          description: 试用开始时间
        trialEnd:
          type: string
          description: 试用结束时间
        currentPeriodStart:
          type: string
          description: 当前计费周期开始
        currentPeriodEnd:
          type: string
          description: 当前计费周期结束
        cancelAt:
          type: string
          description: 取消时间（计划取消时）
        canceledAt:
          type: string
          description: 实际取消时间
        metadata:
          type: object
          additionalProperties:
            type: string
          description: 自定义元数据
        createdAt:
          type: string
          description: 创建时间
        updatedAt:
          type: string
          description: 更新时间
      description: 组织订阅
    Billing.OrganizationUsage:
      type: object
      required:
        - organizationId
        - periodStart
        - periodEnd
        - members
        - workspaces
        - documents
        - storage
        - apiCalls
        - realtimeSessions
        - updatedAt
      properties:
        organizationId:
          type: string
          description: 组织 ID
        periodStart:
          type: string
          description: 统计周期开始
        periodEnd:
          type: string
          description: 统计周期结束
        members:
          allOf:
            - $ref: '#/components/schemas/Billing.UsageMetric'
          description: 成员使用量
        workspaces:
          allOf:
            - $ref: '#/components/schemas/Billing.UsageMetric'
          description: 工作区使用量
        documents:
          allOf:
            - $ref: '#/components/schemas/Billing.UsageMetric'
          description: 文档使用量
        storage:
          allOf:
            - $ref: '#/components/schemas/Billing.UsageMetric'
          description: 存储使用量（GB）
        apiCalls:
          allOf:
            - $ref: '#/components/schemas/Billing.UsageMetric'
          description: API 调用量
        realtimeSessions:
          allOf:
            - $ref: '#/components/schemas/Billing.UsageMetric'
          description: 实时协作会话
        updatedAt:
          type: string
          description: 更新时间
      description: 组织使用量
    Billing.PaymentMethod:
      type: object
      required:
        - id
        - organizationId
        - type
        - isDefault
        - createdAt
      properties:
        id:
          type: string
          description: 支付方式 ID
        organizationId:
          type: string
          description: 组织 ID
        type:
          allOf:
            - $ref: '#/components/schemas/Billing.PaymentMethodType'
          description: 类型
        isDefault:
          type: boolean
          description: 是否默认
        cardLast4:
          type: string
          description: 卡号后4位（信用卡）
        cardBrand:
          type: string
          description: 卡品牌（Visa/MasterCard）
        expiryMonth:
          type: integer
          format: int32
          description: 过期月份
        expiryYear:
          type: integer
          format: int32
          description: 过期年份
        billingEmail:
          type: string
          description: 账单邮箱
        createdAt:
          type: string
          description: 添加时间
      description: 支付方式
    Billing.PaymentMethodType:
      type: string
      enum:
        - card
        - alipay
        - wechat
        - bank_transfer
      description: 支付方式类型
    Billing.PlanFeature:
      type: object
      required:
        - featureKey
        - featureName
        - enabled
      properties:
        featureKey:
          type: string
          description: 功能键
        featureName:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: 功能名称（多语言）
        enabled:
          type: boolean
          description: 是否启用
        limit:
          type: integer
          format: int32
          description: 限制值（-1 表示无限制）
      description: 计划特性
    Billing.PlanQuota:
      type: object
      required:
        - maxMembers
        - maxWorkspaces
        - maxDocuments
        - maxStorageGB
        - maxAPICallsPerMonth
        - maxRealtimeSessions
      properties:
        maxMembers:
          type: integer
          format: int32
          description: 最大成员数（-1 表示无限制）
        maxWorkspaces:
          type: integer
          format: int32
          description: 最大工作区数
        maxDocuments:
          type: integer
          format: int32
          description: 最大文档数
        maxStorageGB:
          type: integer
          format: int32
          description: 最大存储空间(GB)
        maxAPICallsPerMonth:
          type: integer
          format: int64
          description: 每月最大 API 调用量
        maxRealtimeSessions:
          type: integer
          format: int32
          description: 最大实时协作会话数
      description: 数据模型计划配额
    Billing.PlanStatus:
      type: string
      enum:
        - active
        - archived
      description: 计划状态
    Billing.PlanType:
      type: string
      enum:
        - trial
        - standard
        - custom
      description: 枚举定义计划类型
    Billing.QuotaSeverity:
      type: string
      enum:
        - warning
        - critical
      description: 配额警告严重程度
    Billing.QuotaWarning:
      type: object
      required:
        - metricType
        - current
        - limit
        - percentage
        - severity
        - message
      properties:
        metricType:
          allOf:
            - $ref: '#/components/schemas/Billing.MetricType'
          description: 指标类型
        current:
          type: integer
          format: int64
          description: 当前使用量
        limit:
          type: integer
          format: int64
          description: 配额限制
        percentage:
          type: number
          format: double
          description: 使用百分比
        severity:
          allOf:
            - $ref: '#/components/schemas/Billing.QuotaSeverity'
          description: 严重程度
        message:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: 警告消息（多语言）
      description: 配额警告
    Billing.SubscriptionPlan:
      type: object
      required:
        - id
        - name
        - displayName
        - description
        - type
        - billingCycle
        - price
        - currency
        - features
        - quotas
        - status
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: 计划唯一标识
        name:
          type: string
          description: 计划名称
        displayName:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: 多语言显示名称
        description:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: 多语言描述
        type:
          allOf:
            - $ref: '#/components/schemas/Billing.PlanType'
          description: 计划类型
        billingCycle:
          allOf:
            - $ref: '#/components/schemas/Billing.BillingCycle'
          description: 计费周期
        price:
          type: number
          format: double
          description: 价格
        currency:
          type: string
          description: 货币代码（CNY/USD）
        trialDays:
          type: integer
          format: int32
          description: 试用天数
        features:
          type: array
          items:
            $ref: '#/components/schemas/Billing.PlanFeature'
          description: 功能特性列表
        quotas:
          allOf:
            - $ref: '#/components/schemas/Billing.PlanQuota'
          description: 配额限制
        status:
          allOf:
            - $ref: '#/components/schemas/Billing.PlanStatus'
          description: 状态
        createdAt:
          type: string
          description: 创建时间
        updatedAt:
          type: string
          description: 更新时间
      description: 订阅计划
    Billing.SubscriptionStatus:
      type: string
      enum:
        - trialing
        - active
        - past_due
        - canceled
        - expired
      description: 订阅状态
    Billing.UsageDataPoint:
      type: object
      required:
        - timestamp
        - value
      properties:
        timestamp:
          type: string
          description: 时间戳
        value:
          type: integer
          format: int64
          description: 值
      description: 使用量数据点
    Billing.UsageMetric:
      type: object
      required:
        - current
        - limit
        - percentage
        - isOverQuota
      properties:
        current:
          type: integer
          format: int64
          description: 当前使用量
        limit:
          type: integer
          format: int64
          description: 配额限制（-1 无限制）
        percentage:
          type: number
          format: double
          description: 使用百分比
        isOverQuota:
          type: boolean
          description: 是否超额
      description: 使用量指标
    Common.Aggregation:
      type: object
      required:
        - kind
        - field
      properties:
        kind:
          allOf:
            - $ref: '#/components/schemas/Common.AggregationFn'
          description: |-
            聚合函数
            Aggregation function
        field:
          type: string
          description: |-
            目标字段
            Target field
    Common.AggregationFn:
      type: string
      enum:
        - count
        - sum
        - avg
        - min
        - max
    Common.ApprovalDecision:
      type: string
      enum:
        - approve
        - reject
        - request_changes
      description: |-
        审批决议
        Approval decision
    Common.ApprovalStatus:
      type: string
      enum:
        - pending
        - approved
        - rejected
        - canceled
      description: |-
        审批状态
        Approval status
    Common.Attachment:
      type: object
      required:
        - id
        - fileName
        - url
        - mimeType
        - size
        - createdAt
        - createdBy
      properties:
        id:
          type: string
          description: |-
            附件ID
            Attachment id

            附件唯一标识。
            Unique identifier of the attachment.
        fileName:
          type: string
          description: |-
            文件名
            File name

            文件名。
            File name.
        url:
          type: string
          description: |-
            URL 链接
            URL

            可访问的下载URL。
            Accessible download URL.
        mimeType:
          type: string
          description: |-
            媒体类型
            MIME type

            MIME类型。
            MIME type.
        size:
          type: integer
          format: int64
          description: |-
            大小
            Size

            文件大小（字节）。
            File size in bytes.
        checksum:
          type: string
          description: |-
            校验和
            Checksum

            完整性校验和。
            Integrity checksum.
        width:
          type: integer
          format: int32
          description: |-
            宽度
            Width

            图像宽度（像素）。
            Image width in pixels.
        height:
          type: integer
          format: int32
          description: |-
            高度
            Height

            图像高度（像素）。
            Image height in pixels.
        createdAt:
          type: string
          description: |-
            创建时间
            Created at

            上传时间戳。
            Upload timestamp.
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建人
            Created by

            上传者。
            Uploader.
    Common.CollaboratorRef:
      type: object
      required:
        - id
        - displayName
      properties:
        id:
          type: string
          description: |-
            参与者ID
            Collaborator id
        displayName:
          type: string
          description: |-
            展示名
            Display name
        email:
          type: string
          description: |-
            邮箱
            Email
        avatarUrl:
          type: string
          description: |-
            头像
            Avatar URL
    Common.Direction:
      type: string
      enum:
        - asc
        - desc
    Common.DocumentType:
      type: string
      enum:
        - purchaseOrder
        - invoice
        - product
        - inventory
        - project
        - sales
        - hr
        - custom
      description: |-
        文档类型
        Document type
    Common.ErrorCode:
      type: string
      enum:
        - BAD_USER_NAME
        - INVALID_CLIENT
        - INVALID_TOKEN
        - UNAUTHORIZED
        - FORBIDDEN
        - DOC_NOT_FOUND
        - DOC_TYPE_UNKNOWN
        - DOC_ACCESS_DENIED
        - VIEW_NOT_FOUND
        - VIEW_INVALID_DEFINITION
        - ROW_NOT_FOUND
        - FIELD_TYPE_MISMATCH
        - CONSTRAINT_VIOLATION
        - PAGE_OUT_OF_RANGE
        - COMMENT_NOT_FOUND
        - APPROVAL_NOT_FOUND
        - APPROVAL_INVALID_STATE
        - APPROVAL_DECISION_REQUIRED
        - REQUEST_NOT_FOUND
        - REQUEST_CONFLICT
        - REQUEST_ALREADY_CLOSED
        - USER_NOT_FOUND
        - USER_ALREADY_EXISTS
        - EMAIL_ALREADY_USED
        - OAUTH_PROVIDER_NOT_SUPPORTED
        - OAUTH_PROVIDER_ALREADY_LINKED
        - OAUTH_PROVIDER_NOT_LINKED
        - ORG_NOT_FOUND
        - ORG_SLUG_ALREADY_EXISTS
        - ORG_PERMISSION_DENIED
        - ORG_ALREADY_MEMBER
        - ORG_NOT_MEMBER
        - ORG_CANNOT_LEAVE_AS_OWNER
        - ORG_MEMBER_NOT_FOUND
        - WORKSPACE_NOT_FOUND
        - WORKSPACE_SLUG_ALREADY_EXISTS
        - WORKSPACE_PERMISSION_DENIED
        - WORKSPACE_NOT_MEMBER
        - WORKSPACE_MEMBER_NOT_FOUND
        - INVITATION_NOT_FOUND
        - INVITATION_EXPIRED
        - INVITATION_ALREADY_ACCEPTED
        - INVITATION_EMAIL_MISMATCH
        - INVITATION_ALREADY_REVOKED
        - JOIN_REQUEST_NOT_FOUND
        - JOIN_REQUEST_ALREADY_EXISTS
        - JOIN_REQUEST_ALREADY_PROCESSED
    Common.FieldType:
      type: string
      enum:
        - text
        - long_text
        - number
        - currency
        - percent
        - boolean
        - date
        - datetime
        - single_select
        - multi_select
        - attachment
        - user
        - collaborator
        - relation
        - lookup
        - rollup
        - formula
        - rating
        - duration
      description: |-
        字段类型
        Field type
    Common.Filter:
      type: object
      required:
        - field
        - operator
      properties:
        field:
          type: string
          description: |-
            字段
            Field name
        operator:
          allOf:
            - $ref: '#/components/schemas/Common.FilterOp'
          description: |-
            操作符
            Operator
        value:
          description: |-
            值（单值）
            Single value
        values:
          type: array
          items: {}
          description: |-
            多值
            Multiple values
        rangeStart:
          description: |-
            区间起
            Range start
        rangeEnd:
          description: |-
            区间止
            Range end
    Common.FilterGroup:
      type: object
      required:
        - logic
      properties:
        logic:
          allOf:
            - $ref: '#/components/schemas/Common.LogicOp'
          description: |-
            逻辑组合
            AND/OR logic
        conditions:
          type: array
          items:
            $ref: '#/components/schemas/Common.Filter'
          description: |-
            条件集合
            Conditions
        groups:
          type: array
          items:
            $ref: '#/components/schemas/Common.FilterGroup'
          description: |-
            嵌套组合
            Nested groups
    Common.FilterOp:
      type: string
      enum:
        - eq
        - ne
        - in
        - range
        - contains
        - is_empty
        - is_not_empty
    Common.GroupBy:
      type: object
      required:
        - fields
      properties:
        fields:
          type: array
          items:
            type: string
          description: |-
            分组字段列表（按顺序定义分组层级）
            Group fields (defines grouping levels in order)

            第一个字段为第一级分组，第二个字段为第二级分组，以此类推。
            First field is the first level, second field is the second level, and so on.

            示例 / Example:
            - ["category"] - 单级分组 / Single-level grouping
            - ["category", "status"] - 二级分组 / Two-level grouping
            - ["region", "category", "status"] - 三级分组 / Three-level grouping
        aggregations:
          type: array
          items:
            $ref: '#/components/schemas/Common.Aggregation'
          description: |-
            聚合函数集合
            Aggregations

            聚合计算会应用到每个分组层级。
            Aggregations are applied to each grouping level.
      description: |-
        分组定义（支持多级分组）
        Group-by definition (supports multi-level grouping)

        示例 / Example:
        ```json
        {
          "fields": ["category", "status"],
          "aggregations": [
            {"kind": "count", "field": "*"},
            {"kind": "sum", "field": "amount"}
          ]
        }
        ```
    Common.GroupNode:
      type: object
      required:
        - key
        - field
        - count
      properties:
        key:
          description: |-
            分组键值
            Group key

            当前层级的分组字段值。
            The value of the grouping field at current level.
        field:
          type: string
          description: |-
            分组字段名
            Group field name

            当前层级的分组字段名称。
            The name of the grouping field at current level.
        count:
          type: integer
          format: int64
          description: |-
            数据行数
            Row count

            当前分组包含的数据行数量。
            Number of rows in this group.
        aggregations:
          type: object
          additionalProperties: {}
          description: |-
            聚合结果
            Aggregation results

            键为聚合名称（如 "sum_amount", "avg_price"），值为聚合结果。
            Keys are aggregation names (e.g., "sum_amount", "avg_price"), values are results.

            命名规则：{function}_{field}
            Naming convention: {function}_{field}
        children:
          description: |-
            子分组
            Child groups

            下一级分组的结果列表。如果是最后一级分组，则为空。
            List of next-level grouping results. Empty if this is the last level.
          type: array
          items:
            $ref: '#/components/schemas/Common.GroupNode'
        rows:
          type: array
          items:
            type: object
            additionalProperties: {}
          description: |-
            数据行（可选）
            Data rows (optional)

            如果请求包含数据行，则此字段包含当前分组的实际数据。
            If data rows are requested, this field contains the actual data in this group.

            注意：通常只在最后一级分组或明确请求时返回。
            Note: Usually only returned at the last level or when explicitly requested.
      description: |-
        分组结果节点（支持树状结构）
        Grouped result node (supports tree structure)

        用于表示多级分组的结果，每个节点代表一个分组。
        Represents multi-level grouping results, each node represents a group.

        示例 / Example (单级分组 / Single-level):
        ```json
        {
          "key": "Electronics",
          "count": 150,
          "aggregations": {
            "total_amount": 45000,
            "avg_price": 300
          }
        }
        ```

        示例 / Example (多级分组 / Multi-level):
        ```json
        {
          "key": "Electronics",
          "count": 150,
          "aggregations": {
            "total_amount": 45000
          },
          "children": [
            {
              "key": "Active",
              "count": 120,
              "aggregations": {"total_amount": 40000}
            },
            {
              "key": "Inactive",
              "count": 30,
              "aggregations": {"total_amount": 5000}
            }
          ]
        }
        ```
    Common.GroupedResult:
      type: object
      required:
        - groups
        - total
        - groupBy
      properties:
        groups:
          type: array
          items:
            $ref: '#/components/schemas/Common.GroupNode'
          description: |-
            分组树
            Group tree

            顶层分组节点列表。
            Top-level group nodes.
        total:
          type: integer
          format: int64
          description: |-
            总行数
            Total row count

            所有分组的总数据行数。
            Total number of rows across all groups.
        groupBy:
          allOf:
            - $ref: '#/components/schemas/Common.GroupBy'
          description: |-
            分组定义
            Group-by definition

            返回使用的分组定义，便于客户端理解结果结构。
            Returns the grouping definition used, helping clients understand the result structure.
      description: |-
        分组查询结果
        Grouped query result

        包含分组树和元信息。
        Contains grouping tree and metadata.
    Common.LogicOp:
      type: string
      enum:
        - and
        - or
    Common.Message:
      type: object
      additionalProperties:
        type: string
      description: |-
        多语言消息
        Multi-language message

        使用语言代码作为键的动态对象，支持任意语言。
        Dynamic object using language codes as keys, supporting any language.

        常用语言代码示例 (Common language codes):
        - zh: 中文 (Chinese)
        - en: English
        - ja: 日本語 (Japanese)
        - ko: 한국어 (Korean)
        - es: Español (Spanish)
        - fr: Français (French)
        - de: Deutsch (German)
        - pt: Português (Portuguese)
        - ru: Русский (Russian)
        - ar: العربية (Arabic)

        示例 (Example):
        ```json
        {
          "zh": "用户未找到",
          "en": "User not found",
          "ja": "ユーザーが見つかりません",
          "es": "Usuario no encontrado"
        }
        ```
    Common.RelationRef:
      type: object
      required:
        - targetDocType
        - targetDocId
        - rowId
      properties:
        targetDocType:
          type: string
          description: |-
            目标文档类型
            Target document type

            被关联的文档类型。
            Target document type.
        targetDocId:
          type: string
          description: |-
            目标文档ID
            Target document id

            被关联的文档ID。
            Target document id.
        rowId:
          type: string
          description: |-
            行ID
            Row id

            被关联的行ID。
            Target row id.
    Common.RequestStatus:
      type: string
      enum:
        - open
        - merged
        - closed
      description: |-
        请求状态
        Request status
    Common.SelectOption:
      type: object
      required:
        - id
        - label
      properties:
        id:
          type: string
          description: |-
            选项ID
            Option id
        label:
          type: string
          description: |-
            文本标签
            Label
        color:
          type: string
          description: |-
            颜色
            Color
        disabled:
          type: boolean
          description: |-
            是否禁用
            Disabled
    Common.Sort:
      type: object
      required:
        - field
        - direction
      properties:
        field:
          type: string
          description: |-
            字段
            Field name
        direction:
          allOf:
            - $ref: '#/components/schemas/Common.Direction'
          description: |-
            方向
            Direction
    Common.UserRef:
      type: object
      required:
        - id
        - displayName
      properties:
        id:
          type: string
          description: |-
            用户ID
            User id

            用户唯一标识。
            Unique identifier of the user.
        displayName:
          type: string
          description: |-
            展示名
            Display name

            显示名称。
            Display name.
        email:
          type: string
          description: |-
            邮箱
            Email

            邮箱。
            Email.
        avatarUrl:
          type: string
          description: |-
            头像
            Avatar URL

            头像URL。
            Avatar URL.
    Common.Value:
      anyOf:
        - type: string
        - type: string
        - type: number
          format: double
        - type: number
          format: double
        - type: number
          format: double
        - type: boolean
        - type: string
        - type: string
        - $ref: '#/components/schemas/Common.SelectOption'
        - type: array
          items:
            $ref: '#/components/schemas/Common.SelectOption'
        - type: array
          items:
            $ref: '#/components/schemas/Common.Attachment'
        - $ref: '#/components/schemas/Common.UserRef'
        - $ref: '#/components/schemas/Common.CollaboratorRef'
        - type: array
          items:
            $ref: '#/components/schemas/Common.RelationRef'
        - type: integer
          format: int32
        - type: integer
          format: int64
    Common.ValueEntry:
      type: object
      required:
        - fieldId
      properties:
        fieldId:
          type: string
          description: |-
            字段ID
            Field id
        value:
          allOf:
            - $ref: '#/components/schemas/Common.Value'
          description: |-
            字段值
            Field value
    Common.ViewType:
      type: string
      enum:
        - table
        - gallery
        - kanban
        - calendar
        - chart
        - form
        - map
        - timeline
      description: |-
        视图类型
        View type
    Document.ApprovalInstance:
      type: object
      required:
        - id
        - status
      properties:
        id:
          type: string
          description: |-
            审批实例ID
            Approval instance id
        status:
          allOf:
            - $ref: '#/components/schemas/Common.ApprovalStatus'
          description: |-
            审批状态
            Approval status
        currentNode:
          type: string
          description: |-
            当前节点
            Current node
        history:
          type: array
          items:
            type: object
            properties:
              nodeId:
                type: string
                description: |-
                  节点ID
                  Node id
              actor:
                type: string
                description: |-
                  操作人
                  Actor
              decision:
                allOf:
                  - $ref: '#/components/schemas/Common.ApprovalDecision'
                description: |-
                  决策
                  Decision
              comment:
                type: string
                description: |-
                  备注
                  Comment
              timestamp:
                type: string
                description: |-
                  时间戳
                  Timestamp
            required:
              - nodeId
              - timestamp
          description: |-
            历史记录
            History entries
    Document.AttachmentDetail:
      type: object
      required:
        - id
        - fileName
        - url
        - mimeType
        - size
        - createdAt
        - createdBy
      properties:
        id:
          type: string
          description: |-
            附件ID
            Attachment id
        fileName:
          type: string
          description: |-
            文件名
            File name
        originalFileName:
          type: string
          description: |-
            原始文件名
            Original file name
        url:
          type: string
          description: |-
            URL 链接
            URL
        thumbnailUrl:
          type: string
          description: |-
            缩略图URL
            Thumbnail URL
        previewUrl:
          type: string
          description: |-
            预览URL
            Preview URL
        downloadUrl:
          type: string
          description: |-
            下载URL
            Download URL
        mimeType:
          type: string
          description: |-
            媒体类型
            MIME type
        size:
          type: integer
          format: int64
          description: |-
            文件大小（字节）
            Size in bytes
        extension:
          type: string
          description: |-
            文件扩展名
            File extension
        checksum:
          type: string
          description: |-
            校验和（SHA256）
            Checksum (SHA256)
        width:
          type: integer
          format: int32
          description: |-
            图片宽度（像素）
            Width in pixels
        height:
          type: integer
          format: int32
          description: |-
            图片高度（像素）
            Height in pixels
        duration:
          type: integer
          format: int64
          description: |-
            持续时间（毫秒，用于音视频）
            Duration in milliseconds (for audio/video)
        version:
          type: integer
          format: int32
          description: |-
            版本号
            Version number
        parentVersionId:
          type: string
          description: |-
            父版本ID（如果是新版本）
            Parent version id (if this is a new version)
        storageLocation:
          type: string
          description: |-
            存储位置
            Storage location
        storageProvider:
          allOf:
            - $ref: '#/components/schemas/Document.StorageProvider'
          description: |-
            存储提供商
            Storage provider
        scanStatus:
          allOf:
            - $ref: '#/components/schemas/Document.ScanStatus'
          description: |-
            扫描状态
            Scan status
        scanResult:
          type: object
          properties:
            isSafe:
              type: boolean
              description: |-
                是否安全
                Is safe
            threats:
              type: array
              items:
                type: string
              description: |-
                检测到的威胁
                Detected threats
            scannedAt:
              type: string
              description: |-
                扫描时间
                Scanned at
          required:
            - isSafe
          description: |-
            扫描结果
            Scan result
        organizationId:
          type: string
          description: |-
            所属组织ID
            Organization id
        workspaceId:
          type: string
          description: |-
            所属工作区ID
            Workspace id
        relatedDocType:
          type: string
          description: |-
            关联文档类型
            Related document type
        relatedDocId:
          type: string
          description: |-
            关联文档ID
            Related document id
        relatedRowId:
          type: string
          description: |-
            关联行ID
            Related row id
        relatedFieldId:
          type: string
          description: |-
            关联字段ID
            Related field id
        tags:
          type: array
          items:
            type: string
          description: |-
            标签
            Tags
        metadata:
          description: |-
            元数据
            Metadata
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建人
            Created by
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        updatedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            更新人
            Updated by
        expiresAt:
          type: string
          description: |-
            过期时间（可选）
            Expires at (optional)
        isPublic:
          type: boolean
          description: |-
            是否公开
            Is public
      description: |-
        附件详情（扩展版本）
        Attachment details (extended)
    Document.AttachmentVersion:
      type: object
      required:
        - id
        - attachmentId
        - version
        - size
        - checksum
        - url
        - createdAt
        - createdBy
      properties:
        id:
          type: string
          description: |-
            版本ID
            Version id
        attachmentId:
          type: string
          description: |-
            附件ID
            Attachment id
        version:
          type: integer
          format: int32
          description: |-
            版本号
            Version number
        size:
          type: integer
          format: int64
          description: |-
            文件大小
            File size
        checksum:
          type: string
          description: |-
            校验和
            Checksum
        url:
          type: string
          description: URL
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建人
            Created by
        note:
          type: string
          description: |-
            变更说明
            Change note
      description: |-
        附件版本
        Attachment version
    Document.AuthPayload:
      type: object
      required:
        - token
      properties:
        token:
          type: string
          description: Bearer Token 或自定义短期连接令牌
      description: 认证负载
    Document.AwarenessPayload:
      type: object
      required:
        - awareness
      properties:
        awareness:
          description: Awareness 状态（光标、选区、用户颜色等）
      description: Awareness 更新负载
    Document.BulkUpdate:
      type: object
      required:
        - target
      properties:
        target:
          type: object
          description: |-
            目标（灵活结构）
            Target (flexible structure)

            支持多种目标指定方式：
            - {row: "row-1"} - 单行
            - {row: "row-1", field: "price"} - 单行单字段
            - {rows: ["row-1", "row-2"], field: "status"} - 多行同一字段
            - {property: "amount"} - 单个属性
            - {properties: true} - 多个属性
            - {row: "row-1", delete: true} - 删除单行
            - {rows: ["row-1", "row-2"], delete: true} - 删除多行
            - {condition: {...}, field: "status"} - 按条件更新
            - {condition: {...}, delete: true} - 按条件删除

            Supports multiple target specification methods:
            - {row: "row-1"} - Single row
            - {row: "row-1", field: "price"} - Single row single field
            - {rows: ["row-1", "row-2"], field: "status"} - Multiple rows same field
            - {property: "amount"} - Single property
            - {properties: true} - Multiple properties
            - {row: "row-1", delete: true} - Delete single row
            - {rows: ["row-1", "row-2"], delete: true} - Delete multiple rows
            - {condition: {...}, field: "status"} - Conditional update
            - {condition: {...}, delete: true} - Conditional delete
        value:
          description: |-
            值（原始格式，可以是单值、对象或数组）
            Value (raw format, can be single value, object or array)

            根据 target 的不同，value 可以是：
            - 单个原始值：99.99, "text", true
            - 对象（多个字段）：{price: 99.99, name: "iPhone"}
            - 数组（多行不同值）：[99.99, 88.88, 77.77]

            Depending on target, value can be:
            - Single raw value: 99.99, "text", true
            - Object (multiple fields): {price: 99.99, name: "iPhone"}
            - Array (different values for multiple rows): [99.99, 88.88, 77.77]

            服务端根据 metadata 自动解析值的类型。
            Server auto-parses value type based on metadata.

            注意：删除操作（delete: true）不需要提供 value。
            Note: Delete operations (delete: true) do not require value.
      description: |-
        批量更新项
        Bulk update entry

        灵活的更新结构，支持多种更新场景。
        Flexible update structure supporting multiple update scenarios.

        ## Target 结构说明

        target 是一个灵活的结构，可以指定：
        - 行ID：`{row: "row-1"}`
        - 行ID + 字段ID：`{row: "row-1", field: "price"}`
        - 属性字段：`{property: "amount"}`
        - 多个目标：`{rows: ["row-1", "row-2"], field: "status"}`
        - 删除行：`{row: "row-1", delete: true}`
        - 按条件更新：`{condition: {...}, field: "status"}`
        - 按条件删除：`{condition: {...}, delete: true}`

        ## Value 说明

        value 可以是：
        - 单个原始值：`99.99`、`"iPhone 15"`、`true`
        - 对象（多个字段）：`{price: 99.99, name: "iPhone 15"}`
        - 数组（批量值）：`[99.99, 88.88, 77.77]`

        ## 使用示例

        ### 1. 修改单个字段
        ```json
        {
          "target": {"row": "row-1", "field": "price"},
          "value": 99.99
        }
        ```

        ### 2. 修改整行（多个字段）
        ```json
        {
          "target": {"row": "row-1"},
          "value": {
            "price": 99.99,
            "name": "iPhone 15",
            "stock": 50
          }
        }
        ```

        ### 3. 修改多行的同一字段
        ```json
        {
          "target": {"rows": ["row-1", "row-2", "row-3"], "field": "status"},
          "value": "active"
        }
        ```

        ### 4. 修改多行的同一字段（不同值）
        ```json
        {
          "target": {"rows": ["row-1", "row-2", "row-3"], "field": "price"},
          "value": [99.99, 88.88, 77.77]
        }
        ```

        ### 5. 修改文档属性
        ```json
        {
          "target": {"property": "amount"},
          "value": 5000.00
        }
        ```

        ### 6. 修改多个文档属性
        ```json
        {
          "target": {"properties": true},
          "value": {
            "amount": 5000.00,
            "quantity": 100,
            "date": "2024-12-05"
          }
        }
        ```

        ### 7. 删除单行
        ```json
        {
          "target": {"row": "row-1", "delete": true}
        }
        ```
        注意：删除操作不需要提供 value 字段。

        ### 8. 按条件删除
        ```json
        {
          "target": {
            "condition": {
              "logic": "and",
              "conditions": [{"field": "status", "operator": "eq", "value": "inactive"}]
            },
            "delete": true
          }
        }
        ```

        ### 9. 按条件更新
        ```json
        {
          "target": {
            "condition": {
              "logic": "and",
              "conditions": [{"field": "status", "operator": "eq", "value": "pending"}]
            },
            "field": "reviewStatus"
          },
          "value": "reviewing"
        }
        ```
    Document.CascadeDeleteStrategy:
      type: string
      enum:
        - none
        - unlink
        - soft
        - hard
        - prevent
      description: |-
        级联删除策略
        Cascade delete strategy
    Document.Catalog.CatalogDetails:
      type: object
      required:
        - catalogId
        - docType
        - name
        - catalogType
        - organizationId
        - createdAt
        - updatedAt
      properties:
        catalogId:
          type: string
          description: |-
            Catalog ID
            Catalog ID
        docType:
          type: string
          description: |-
            文档类型(catalog 或具体类型如 product_catalog)
            Document type
        name:
          type: string
          description: |-
            Catalog 名称
            Catalog name
        description:
          type: string
          description: |-
            Catalog 描述
            Catalog description
        catalogType:
          allOf:
            - $ref: '#/components/schemas/Document.Catalog.CatalogType'
          description: |-
            Catalog 类型
            Catalog type
        organizationId:
          type: string
          description: |-
            所属组织 ID
            Organization ID
        workspaceId:
          type: string
          description: |-
            所属工作区 ID(null 表示组织级别资源)
            Workspace ID (null for organization-level resource)
        sharingEnabled:
          type: boolean
          description: |-
            是否启用分享
            Sharing enabled
        sharingSettings:
          type: object
          properties:
            allowedTypes:
              type: array
              items:
                type: string
                enum:
                  - public
                  - private
                  - whitelist
              description: |-
                允许的分享类型
                Allowed sharing types
            defaultShareScope:
              type: string
              description: |-
                默认分享范围
                Default share scope
          description: |-
            分享设置
            Sharing settings
        productCount:
          type: integer
          format: int32
          description: |-
            产品数量
            Product count
        activeConnections:
          type: array
          items:
            type: string
          description: |-
            活跃的 Connection 列表
            Active connections
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建者
            Created by
        updatedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            最后修改者
            Updated by
      description: |-
        Catalog 详细信息
        Catalog details
    Document.Catalog.CatalogFieldDefinition:
      type: object
      required:
        - name
        - type
      properties:
        id:
          type: string
          description: |-
            字段 ID(可选,创建时不提供)
            Field ID (optional, not provided on creation)
        name:
          type: string
          description: |-
            字段名称
            Field name
        type:
          type: string
          enum:
            - text
            - long_text
            - number
            - currency
            - percent
            - date
            - datetime
            - boolean
            - single_select
            - multi_select
            - attachment
            - user
            - relation
          description: |-
            字段类型
            Field type
        required:
          type: boolean
          description: |-
            是否必填
            Required
          default: false
        unique:
          type: boolean
          description: |-
            是否唯一
            Unique
          default: false
        readOnly:
          type: boolean
          description: |-
            是否只读
            Read only
          default: false
        defaultValue:
          description: |-
            默认值
            Default value
        selectOptions:
          type: array
          items:
            $ref: '#/components/schemas/Common.SelectOption'
          description: |-
            选择类字段的选项(type=single_select 或 multi_select 时)
            Select options (when type=single_select or multi_select)
        description:
          type: string
          description: |-
            字段描述
            Field description
      description: |-
        字段定义(简化版)
        Field definition (simplified)
    Document.Catalog.CatalogSummary:
      type: object
      required:
        - catalogId
        - name
        - catalogType
        - organizationId
        - createdAt
        - updatedAt
      properties:
        catalogId:
          type: string
          description: |-
            Catalog ID(docId)
            Catalog ID
        name:
          type: string
          description: |-
            Catalog 名称
            Catalog name
        description:
          type: string
          description: |-
            Catalog 描述
            Catalog description
        catalogType:
          allOf:
            - $ref: '#/components/schemas/Document.Catalog.CatalogType'
          description: |-
            Catalog 类型
            Catalog type
        organizationId:
          type: string
          description: |-
            所属组织 ID
            Organization ID
        workspaceId:
          type: string
          description: |-
            所属工作区 ID(null 表示组织级别)
            Workspace ID (null for organization-level)
        sharingEnabled:
          type: boolean
          description: |-
            是否启用分享
            Sharing enabled
        productCount:
          type: integer
          format: int32
          description: |-
            产品数量
            Product count
        activeConnectionCount:
          type: integer
          format: int32
          description: |-
            活跃的 Connection 数量
            Active connection count
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建者
            Created by
      description: |-
        Catalog 摘要信息
        Catalog summary

        用于列表展示的 Catalog 简要信息。
        Brief Catalog information for list display.
    Document.Catalog.CatalogType:
      type: string
      enum:
        - supplier
        - distributor
        - manufacturer
        - retail
      description: |-
        Catalog 类型枚举
        Catalog type enum
    Document.Catalog.CreateCatalogRequest:
      type: object
      required:
        - name
        - catalogType
      properties:
        name:
          type: string
          description: |-
            Catalog 名称
            Catalog name
        description:
          type: string
          description: |-
            Catalog 描述
            Catalog description
        catalogType:
          allOf:
            - $ref: '#/components/schemas/Document.Catalog.CatalogType'
          description: |-
            Catalog 类型
            Catalog type
        docType:
          type: string
          description: |-
            文档类型(默认为 "catalog")
            Document type (default: "catalog")
          default: catalog
        workspaceId:
          type: string
          description: |-
            所属工作区 ID(可选,null 表示组织级别)
            Workspace ID (optional, null for organization-level)
        sharingEnabled:
          type: boolean
          description: |-
            是否启用分享
            Enable sharing
          default: false
        fields:
          type: array
          items:
            $ref: '#/components/schemas/Document.Catalog.CatalogFieldDefinition'
          description: |-
            自定义字段定义
            Custom field definitions

            不同行业的商品字段可能不一样,例如:
            - 电子产品: 品牌、型号、规格参数
            - 服装: 尺码、颜色、材质
            - 食品: 保质期、产地、配料

            Different industries have different product fields:
            - Electronics: brand, model, specs
            - Clothing: size, color, material
            - Food: expiry date, origin, ingredients
        views:
          type: array
          items: {}
          description: |-
            初始视图配置(可选)
            Initial view configurations (optional)
      description: |-
        创建 Catalog 请求
        Create catalog request
    Document.Catalog.UpdateCatalogRequest:
      type: object
      properties:
        name:
          type: string
          description: |-
            Catalog 名称
            Catalog name
        description:
          type: string
          description: |-
            Catalog 描述
            Catalog description
        catalogType:
          allOf:
            - $ref: '#/components/schemas/Document.Catalog.CatalogType'
          description: |-
            Catalog 类型
            Catalog type
        sharingEnabled:
          type: boolean
          description: |-
            是否启用分享
            Enable sharing
        sharingSettings:
          type: object
          properties:
            allowedTypes:
              type: array
              items:
                type: string
                enum:
                  - public
                  - private
                  - whitelist
            defaultShareScope:
              type: string
          description: |-
            分享设置
            Sharing settings
      description: |-
        更新 Catalog 请求
        Update catalog request
    Document.CellLock:
      type: object
      required:
        - id
        - rowId
        - fieldId
        - lockedBy
        - sessionId
        - lockedAt
        - expiresAt
      properties:
        id:
          type: string
          description: |-
            锁ID
            Lock id
        rowId:
          type: string
          description: |-
            行ID
            Row id
        fieldId:
          type: string
          description: |-
            字段ID
            Field id
        lockedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            锁定者用户ID
            Locked by user id
        sessionId:
          type: string
          description: |-
            锁定者会话ID
            Locked by session id
        lockedAt:
          type: string
          description: |-
            锁定时间
            Locked at
        expiresAt:
          type: string
          description: |-
            过期时间
            Expires at
        autoRenew:
          type: boolean
          description: |-
            是否自动续期
            Auto renew
      description: |-
        单元格锁定
        Cell lock
    Document.Change:
      type: object
      required:
        - id
        - type
        - operation
        - changedAt
        - changedBy
      properties:
        id:
          type: string
          description: |-
            变更ID
            Change id
        type:
          type: string
          description: |-
            变更类型
            Change type: data, properties, view, metadata, other
        operation:
          type: string
          enum:
            - create
            - update
            - delete
          description: |-
            操作类型
            Operation type
        targetId:
          type: string
          description: |-
            目标ID
            Target id (row id, property id, etc.)
        data:
          description: |-
            变更数据
            Change data
        changedAt:
          type: string
          description: |-
            变更时间
            Changed at
        changedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            变更人
            Changed by
      description: |-
        变更项
        Change entry
    Document.ChangeOperation:
      type: object
      required:
        - id
        - type
        - target
      properties:
        id:
          type: string
          description: |-
            操作ID
            Operation id

            变更操作的唯一标识。
            Unique identifier of the operation.
        type:
          type: string
          description: |-
            操作类型
            Operation type

            - "row-create" - 创建行
            - "row-update" - 更新行
            - "row-delete" - 删除行
            - "field-create" - 创建字段
            - "field-update" - 更新字段
            - "field-delete" - 删除字段
            - "metadata-update" - 元数据更新
            - "settings-update" - 设置更新

            Operation types: row-create/update/delete, field-create/update/delete, etc.
        target:
          type: object
          properties:
            kind:
              type: string
              description: |-
                目标类型
                Target type (row/field/metadata/settings)
            rowId:
              type: string
              description: |-
                行ID（当目标是行时）
                Row id (for row operations)
            fieldId:
              type: string
              description: |-
                字段ID（当目标是字段时）
                Field id (for field operations)
          required:
            - kind
          description: |-
            变更目标
            Change target

            标识变更作用于哪个对象（行/字段/元数据等）。
            Identifies what object the change applies to (row/field/metadata).
        oldValue:
          description: |-
            旧值（更新和删除时）
            Old value (for update and delete)

            操作前的值，用于对比和回滚。
            Value before operation, used for diff and revert.
        newValue:
          description: |-
            新值（创建和更新时）
            New value (for create and update)

            操作后的值。
            Value after operation.
        operator:
          type: string
          description: |-
            操作人
            Operator

            执行此操作的用户。
            User who performed this operation.
        timestamp:
          type: string
          description: |-
            操作时间
            Operation timestamp

            操作的时间戳。
            Timestamp of the operation.
        note:
          type: string
          description: |-
            备注
            Note

            操作的备注说明。
            Note about this operation.
      description: |-
        变更操作记录
        Change operation record

        记录单一的增删改操作。多个操作合并形成一个修订。
        Records a single create/update/delete operation. Multiple operations form a revision.
    Document.Comment:
      type: object
      required:
        - id
        - target
        - content
      properties:
        id:
          type: string
          description: |-
            评论唯一标识
            Unique identifier of the comment
        target:
          allOf:
            - $ref: '#/components/schemas/Document.CommentTarget'
          description: |-
            评论位置定位
            Comment target location

            指定评论在文档中的确切位置。
            Specifies the exact location of the comment in the document.
        parentId:
          type: string
          description: |-
            父评论ID（如果是回复）
            Parent comment id (if this is a reply)

            如果此评论是对另一条评论的回复，记录父评论ID。
            If this comment is a reply to another, record the parent comment id.
        content:
          type: string
          description: |-
            评论内容（支持富文本）
            Comment content (rich text supported)

            支持 Markdown 格式和 HTML 标签。
            Supports Markdown format and HTML tags.
        mentions:
          type: array
          items:
            $ref: '#/components/schemas/Common.UserRef'
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/Common.Attachment'
          description: |-
            附件集合
            Attachments

            评论中附加的文件。
            Files attached to the comment.
        reactions:
          type: array
          items:
            $ref: '#/components/schemas/Document.Reaction'
          description: |-
            表情反应集合
            Emoji reactions

            其他用户对此评论的表情反应。
            Emoji reactions from other users to this comment.
        resolved:
          type: boolean
          description: |-
            是否已解决
            Resolved flag

            标记此评论（及其讨论线程）是否已解决。
            Mark if this comment (and its thread) is resolved.
        resolvedAt:
          type: string
          description: |-
            解决时间
            Resolved at

            评论解决的时间戳。
            Timestamp when comment was resolved.
        resolvedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            解决人
            Resolved by

            解决此评论的人。
            Who resolved this comment.
        pinned:
          type: boolean
          description: |-
            是否置顶
            Pinned flag

            重要评论可以置顶展示。
            Important comments can be pinned.
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建人
            Created by
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        updatedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            更新人
            Updated by
        replyCount:
          type: integer
          format: int32
          description: |-
            回复数量
            Reply count

            此评论下的直接回复数（不包括递归回复）。
            Direct reply count to this comment (not recursive).
      description: |-
        统一评论模型
        Unified comment model

        支持在文档任何位置进行评论，包括嵌套回复。
        Supports commenting at any location in document, including nested replies.
    Document.CommentTarget:
      type: object
      required:
        - scope
      properties:
        scope:
          type: string
          description: |-
            评论作用域
            Comment scope

            - "document" - 文档级评论
            - "field" - 字段级评论（需要 fieldId）
            - "row" - 行级评论（需要 rowId）
            - "cell" - 单元格评论（需要 rowId 和 fieldId）

            Scope types: "document", "field", "row", "cell"
        fieldId:
          type: string
          description: |-
            字段ID（当 scope 为 field 或 cell 时）
            Field id (when scope is field or cell)
        rowId:
          type: string
          description: |-
            行ID（当 scope 为 row 或 cell 时）
            Row id (when scope is row or cell)
      description: |-
        评论位置定位器
        Comment target locator

        精确记录评论所在的位置。支持多层级定位：文档/字段/行/单元格。
        Precisely records where the comment is located. Supports multi-level targeting.
    Document.ConflictResolution:
      type: string
      enum:
        - keep_local
        - keep_remote
        - ask_user
        - latest_wins
        - merge
      description: |-
        冲突解决策略
        Conflict resolution strategy
    Document.Connection.AccessControl:
      type: object
      required:
        - mode
      properties:
        mode:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.AccessControlMode'
          description: |-
            访问模式
            Access mode
        allowedOrganizations:
          type: array
          items:
            type: string
          description: |-
            允许的组织列表(mode=whitelist 时)
            Allowed organizations (when mode=whitelist)
        allowedUsers:
          type: array
          items:
            type: string
          description: |-
            允许的用户列表(mode=whitelist 时)
            Allowed users (when mode=whitelist)
        deniedOrganizations:
          type: array
          items:
            type: string
          description: |-
            禁止的组织列表(mode=blacklist 时)
            Denied organizations (when mode=blacklist)
        requireApproval:
          type: boolean
          description: |-
            是否需要审批(mode=approval 时)
            Require approval (when mode=approval)
        approvers:
          type: array
          items:
            $ref: '#/components/schemas/Common.UserRef'
          description: |-
            审批人列表
            Approvers
      description: |-
        访问控制配置
        Access control configuration
    Document.Connection.AccessControlMode:
      type: string
      enum:
        - whitelist
        - blacklist
        - approval
      description: |-
        访问控制模式
        Access control mode
    Document.Connection.BindingDirection:
      type: string
      enum:
        - outbound
        - inbound
      description: |-
        Binding 方向枚举
        Binding direction enum
    Document.Connection.BindingStatus:
      type: string
      enum:
        - pending
        - active
        - paused
        - rejected
      description: |-
        ConnectionBinding 状态枚举
        ConnectionBinding status enum
    Document.Connection.ConflictResolution:
      type: object
      required:
        - defaultStrategy
      properties:
        defaultStrategy:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ConflictStrategy'
          description: |-
            默认策略
            Default strategy
        fieldStrategies:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/Document.Connection.FieldConflictStrategy'
          description: |-
            字段级策略覆盖
            Field-level strategy override
      description: |-
        冲突解决配置
        Conflict resolution configuration
    Document.Connection.ConflictStrategy:
      type: string
      enum:
        - keep_upstream
        - keep_local
        - merge
        - ask_user
        - latest_wins
      description: |-
        冲突解决策略
        Conflict resolution strategy
    Document.Connection.ConnectionBindingDetails:
      type: object
      required:
        - id
        - connectionId
        - bindingDirection
        - targetOrganizationId
        - targetOrderBookId
        - targetOrderBookType
        - bindingStatus
        - requestedAt
        - syncStatus
      properties:
        id:
          type: string
          description: |-
            Binding ID
            Binding ID
        connectionId:
          type: string
          description: |-
            Connection ID
            Connection ID
        bindingDirection:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.BindingDirection'
          description: |-
            Binding 方向
            Binding direction
        targetOrganizationId:
          type: string
          description: |-
            目标组织 ID
            Target organization ID
        targetOrderBookId:
          type: string
          description: |-
            目标 OrderBook ID
            Target OrderBook ID
        targetOrderBookType:
          type: string
          description: |-
            目标 OrderBook 类型
            Target OrderBook type
        bindingStatus:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.BindingStatus'
          description: |-
            Binding 状态
            Binding status
        receiverFilter:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ReceiverFilter'
          description: |-
            接收方过滤配置(Inbound 配置)
            Receiver filter (Inbound config)
        fieldMapping:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FieldMapping'
          description: |-
            字段映射配置(Inbound 配置)
            Field mapping (Inbound config)
        conflictResolution:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ConflictResolution'
          description: |-
            冲突解决配置(Inbound 配置)
            Conflict resolution (Inbound config)
        requestedAt:
          type: string
          description: |-
            申请时间
            Requested at
        requestedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            申请人
            Requested by
        approvedAt:
          type: string
          description: |-
            批准时间
            Approved at
        approvedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            批准人
            Approved by
        activatedAt:
          type: string
          description: |-
            激活时间
            Activated at
        lastSyncTime:
          type: string
          description: |-
            最后同步时间
            Last sync time
        lastSyncRevisionId:
          type: string
          description: |-
            最后同步 Revision ID
            Last sync revision ID
        syncStatus:
          type: string
          enum:
            - up_to_date
            - pending
            - syncing
            - failed
          description: |-
            同步状态
            Sync status
      description: |-
        ConnectionBinding 详情
        ConnectionBinding details
    Document.Connection.ConnectionBindingSummary:
      type: object
      required:
        - id
        - connectionId
        - bindingDirection
        - targetOrganizationId
        - targetOrderBookId
        - bindingStatus
        - requestedAt
      properties:
        id:
          type: string
          description: |-
            Binding ID
            Binding ID
        connectionId:
          type: string
          description: |-
            Connection ID
            Connection ID
        bindingDirection:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.BindingDirection'
          description: |-
            Binding 方向
            Binding direction
        targetOrganizationId:
          type: string
          description: |-
            目标组织 ID
            Target organization ID
        targetOrderBookId:
          type: string
          description: |-
            目标 OrderBook ID
            Target OrderBook ID
        bindingStatus:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.BindingStatus'
          description: |-
            Binding 状态
            Binding status
        requestedAt:
          type: string
          description: |-
            申请时间
            Requested at
        activatedAt:
          type: string
          description: |-
            激活时间
            Activated at
        lastSyncTime:
          type: string
          description: |-
            最后同步时间
            Last sync time
        syncStatus:
          type: string
          enum:
            - up_to_date
            - pending
            - syncing
            - failed
          description: |-
            同步状态
            Sync status
      description: |-
        ConnectionBinding 摘要
        ConnectionBinding summary
    Document.Connection.ConnectionDetails:
      type: object
      required:
        - id
        - name
        - sourceCatalogId
        - sourceCatalogType
        - sourceOrganizationId
        - shareMode
        - organizationId
        - status
        - accessControl
        - shareScope
        - propagationEvents
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: |-
            Connection ID
            Connection ID
        name:
          type: string
          description: |-
            Connection 名称
            Connection name
        description:
          type: string
          description: |-
            Connection 描述
            Connection description
        sourceCatalogId:
          type: string
          description: |-
            源 Catalog ID
            Source catalog ID
        sourceCatalogType:
          type: string
          description: |-
            源 Catalog 类型
            Source catalog type
        sourceOrganizationId:
          type: string
          description: |-
            源组织 ID
            Source organization ID
        shareMode:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ShareMode'
          description: |-
            分享模式
            Share mode
        organizationId:
          type: string
          description: |-
            所属组织 ID
            Organization ID
        workspaceId:
          type: string
          description: |-
            所属工作区 ID(null 表示组织级别)
            Workspace ID (null for organization-level)
        status:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ConnectionStatus'
          description: |-
            Connection 状态
            Connection status
        accessControl:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.AccessControl'
          description: |-
            访问控制配置
            Access control
        shareScope:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ShareScope'
          description: |-
            分享范围配置
            Share scope
        defaultReceiverConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.DefaultReceiverConfig'
          description: |-
            默认接收方配置
            Default receiver config
        propagationEvents:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.PropagationEvents'
          description: |-
            传播事件配置
            Propagation events
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        lastSyncAt:
          type: string
          description: |-
            最后同步时间
            Last sync at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建者
            Created by
        activeBindings:
          type: array
          items:
            $ref: '#/components/schemas/Document.Connection.ConnectionBindingSummary'
          description: |-
            活跃的 Binding 列表
            Active bindings
      description: |-
        Connection 详情
        Connection details
    Document.Connection.ConnectionStatus:
      type: string
      enum:
        - active
        - paused
        - disabled
      description: |-
        Connection 状态枚举
        Connection status enum
    Document.Connection.ConnectionSummary:
      type: object
      required:
        - id
        - name
        - sourceCatalogId
        - sourceOrganizationId
        - shareMode
        - status
        - createdAt
      properties:
        id:
          type: string
          description: |-
            Connection ID
            Connection ID
        name:
          type: string
          description: |-
            Connection 名称
            Connection name
        description:
          type: string
          description: |-
            Connection 描述
            Connection description
        sourceCatalogId:
          type: string
          description: |-
            源 Catalog ID
            Source catalog ID
        sourceCatalogName:
          type: string
          description: |-
            源 Catalog 名称
            Source catalog name
        sourceOrganizationId:
          type: string
          description: |-
            源组织 ID
            Source organization ID
        shareMode:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ShareMode'
          description: |-
            分享模式
            Share mode
        status:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ConnectionStatus'
          description: |-
            Connection 状态
            Connection status
        activeBindingCount:
          type: integer
          format: int32
          description: |-
            活跃的 Binding 数量
            Active binding count
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        lastSyncAt:
          type: string
          description: |-
            最后同步时间
            Last sync at
      description: |-
        Connection 摘要
        Connection summary
    Document.Connection.CreateConnectionBindingRequest:
      type: object
      required:
        - connectionId
        - targetOrderBookId
      properties:
        connectionId:
          type: string
          description: |-
            Connection ID
            Connection ID
        targetOrderBookId:
          type: string
          description: |-
            目标 OrderBook ID
            Target OrderBook ID
        receiverFilter:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ReceiverFilter'
          description: |-
            接收方过滤配置(Inbound 配置)
            Receiver filter (Inbound config)
        fieldMapping:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FieldMapping'
          description: |-
            字段映射配置(Inbound 配置)
            Field mapping (Inbound config)
        conflictResolution:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ConflictResolution'
          description: |-
            冲突解决配置(Inbound 配置)
            Conflict resolution (Inbound config)
      description: |-
        创建 ConnectionBinding 请求
        Create connection binding request
    Document.Connection.CreateConnectionRequest:
      type: object
      required:
        - name
        - sourceCatalogId
        - shareMode
        - accessControl
        - shareScope
      properties:
        name:
          type: string
          description: |-
            Connection 名称
            Connection name
        description:
          type: string
          description: |-
            Connection 描述
            Connection description
        sourceCatalogId:
          type: string
          description: |-
            源 Catalog ID
            Source catalog ID
        shareMode:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ShareMode'
          description: |-
            分享模式
            Share mode
        accessControl:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.AccessControl'
          description: |-
            访问控制配置
            Access control
        shareScope:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ShareScope'
          description: |-
            分享范围配置
            Share scope
        defaultReceiverConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.DefaultReceiverConfig'
          description: |-
            默认接收方配置
            Default receiver config
        propagationEvents:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.PropagationEvents'
          description: |-
            传播事件配置
            Propagation events
      description: |-
        创建 Connection 请求
        Create connection request
    Document.Connection.DefaultReceiverConfig:
      type: object
      properties:
        suggestedFieldMapping:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FieldMapping'
          description: |-
            建议的字段映射
            Suggested field mapping
        suggestedConflictResolution:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ConflictResolution'
          description: |-
            建议的冲突策略
            Suggested conflict resolution
        suggestedAcceptMode:
          type: string
          enum:
            - auto
            - manual
            - selective
          description: |-
            建议的接受模式
            Suggested accept mode
      description: |-
        默认接收方配置
        Default receiver configuration
    Document.Connection.FieldConflictStrategy:
      type: object
      required:
        - strategy
      properties:
        strategy:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ConflictStrategy'
          description: |-
            冲突策略
            Conflict strategy
        mergeRules:
          type: object
          properties:
            type:
              type: string
              enum:
                - sum
                - max
                - min
                - custom
              description: |-
                合并类型
                Merge type
            customLogic:
              type: string
              description: |-
                自定义逻辑
                Custom logic
          required:
            - type
          description: |-
            合并规则(strategy=merge 时使用)
            Merge rules (used when strategy=merge)
      description: |-
        字段级冲突策略
        Field-level conflict strategy
    Document.Connection.FieldMapping:
      type: object
      required:
        - rules
        - unmappedFields
      properties:
        rules:
          type: array
          items:
            $ref: '#/components/schemas/Document.Connection.FieldMappingRule'
          description: |-
            映射规则列表
            Mapping rules
        unmappedFields:
          type: string
          enum:
            - ignore
            - create
            - error
          description: |-
            未映射字段的处理方式
            Unmapped fields handling
      description: |-
        字段映射配置
        Field mapping configuration
    Document.Connection.FieldMappingRule:
      type: object
      required:
        - sourceFieldId
        - targetFieldId
        - transformType
        - propagationMode
      properties:
        sourceFieldId:
          type: string
          description: |-
            源字段 ID
            Source field ID
        targetFieldId:
          type: string
          description: |-
            目标字段 ID
            Target field ID
        transformType:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FieldTransformType'
          description: |-
            转换类型
            Transform type
          default: direct
        optionMapping:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.OptionMappingConfig'
          description: |-
            选项映射配置(transformType=option_mapping 时)
            Option mapping config (when transformType=option_mapping)
        unitConversion:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.UnitConversionConfig'
          description: |-
            单位转换配置(transformType=unit_convert 时)
            Unit conversion config (when transformType=unit_convert)
        formatConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FormatConfig'
          description: |-
            格式化配置(transformType=format 时)
            Format config (when transformType=format)
        mergeConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.MergeFieldsConfig'
          description: |-
            合并字段配置(transformType=merge 时)
            Merge fields config (when transformType=merge)
        splitConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.SplitFieldConfig'
          description: |-
            拆分字段配置(transformType=split 时)
            Split field config (when transformType=split)
        formula:
          type: string
          description: |-
            自定义公式(transformType=formula 时)
            Custom formula (when transformType=formula)
        propagationMode:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.PropagationMode'
          description: |-
            传播模式
            Propagation mode
          default: oneway
        enabled:
          type: boolean
          description: |-
            是否启用此规则
            Whether this rule is enabled
          default: true
        description:
          type: string
          description: |-
            规则描述
            Rule description
      description: |-
        字段映射规则
        Field mapping rule
    Document.Connection.FieldTransformType:
      type: string
      enum:
        - direct
        - type_convert
        - unit_convert
        - option_mapping
        - formula
        - format
        - merge
        - split
      description: |-
        字段类型转换枚举
        Field type transformation enum
    Document.Connection.FilterCondition:
      type: object
      required:
        - fieldId
        - operator
      properties:
        fieldId:
          type: string
          description: |-
            字段 ID
            Field ID
        operator:
          type: string
          enum:
            - eq
            - ne
            - gt
            - gte
            - lt
            - lte
            - in
            - not_in
            - contains
            - not_contains
            - starts_with
            - ends_with
            - is_null
            - is_not_null
            - regex
          description: |-
            比较运算符
            Comparison operator
        value:
          description: |-
            比较值
            Comparison value
        values:
          type: array
          items: {}
          description: |-
            值列表(operator=in/not_in 时使用)
            Value list (used when operator=in/not_in)
      description: |-
        过滤条件
        Filter condition
    Document.Connection.FilterConditionGroup:
      type: object
      required:
        - operator
        - conditions
      properties:
        operator:
          type: string
          enum:
            - AND
            - OR
          description: |-
            逻辑运算符
            Logical operator
        conditions:
          type: array
          items:
            $ref: '#/components/schemas/Document.Connection.FilterCondition'
          description: |-
            过滤条件列表
            Filter conditions
        groups:
          type: array
          items:
            $ref: '#/components/schemas/Document.Connection.FilterConditionGroup'
          description: |-
            嵌套的子组(可选)
            Nested sub-groups (optional)
      description: |-
        过滤条件组(支持嵌套)
        Filter condition group (supports nesting)
    Document.Connection.FormatConfig:
      type: object
      properties:
        template:
          type: string
          description: |-
            格式化模板
            Format template

            例如: "${value} USD", "SKU-${value}"
            Example: "${value} USD", "SKU-${value}"
        dateFormat:
          type: string
          description: |-
            日期格式(type=date/datetime 时)
            Date format (when type=date/datetime)
        precision:
          type: integer
          format: int32
          description: |-
            数值精度(type=number/currency 时)
            Number precision (when type=number/currency)
        caseConversion:
          type: string
          enum:
            - upper
            - lower
            - title
            - none
          description: |-
            大小写转换
            Case conversion
      description: |-
        字符串格式化配置
        String formatting configuration
    Document.Connection.ManualAcceptRules:
      type: object
      properties:
        requireApprovalIf:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FilterConditionGroup'
          description: |-
            需要人工确认的条件
            Require approval if
        autoRejectIf:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FilterConditionGroup'
          description: |-
            自动拒绝的条件
            Auto reject if
        autoAcceptIf:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FilterConditionGroup'
          description: |-
            自动接受的条件(在 acceptMode=selective 时使用)
            Auto accept if (used when acceptMode=selective)
        defaultAction:
          type: string
          enum:
            - accept
            - reject
            - manual
          description: |-
            默认动作(当无匹配规则时)
            Default action (when no matching rule)
      description: |-
        手动接受规则
        Manual accept rules
    Document.Connection.MergeFieldsConfig:
      type: object
      required:
        - sourceFieldIds
      properties:
        sourceFieldIds:
          type: array
          items:
            type: string
          description: |-
            源字段 ID 列表
            Source field IDs
        separator:
          type: string
          description: |-
            分隔符
            Separator
          default: ' '
        template:
          type: string
          description: |-
            合并模板
            Merge template

            例如: "${field1} - ${field2}"
            Example: "${field1} - ${field2}"
      description: |-
        合并字段配置
        Merge fields configuration
    Document.Connection.OptionMappingConfig:
      type: object
      required:
        - mappings
        - unmappedStrategy
      properties:
        mappings:
          type: object
          additionalProperties:
            type: string
          description: |-
            源选项到目标选项的映射
            Source option to target option mapping

            例如: { "red": "红色", "blue": "蓝色" }
            Example: { "red": "红色", "blue": "蓝色" }
        unmappedStrategy:
          type: string
          enum:
            - ignore
            - keep_original
            - use_default
            - error
          description: |-
            未映射选项的处理方式
            Handling of unmapped options
        defaultValue:
          type: string
          description: |-
            默认值(当 unmappedStrategy=use_default 时)
            Default value (when unmappedStrategy=use_default)
      description: |-
        选项映射配置
        Option mapping configuration
    Document.Connection.PropagationEvents:
      type: object
      required:
        - eventTypes
      properties:
        eventTypes:
          type: array
          items:
            type: string
          description: |-
            订阅的事件类型
            Subscribed event types
        batchMerge:
          type: boolean
          description: |-
            是否启用批量合并
            Enable batch merge
        batchWindowSeconds:
          type: integer
          format: int32
          description: |-
            批量窗口时间(秒)
            Batch window seconds
      description: |-
        传播事件配置
        Propagation events configuration
    Document.Connection.PropagationMode:
      type: string
      enum:
        - sync
        - oneway
        - initial
        - disabled
      description: |-
        字段传播模式
        Field propagation mode
    Document.Connection.ReceiverFilter:
      type: object
      required:
        - acceptMode
      properties:
        filterGroup:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FilterConditionGroup'
          description: |-
            过滤条件组
            Filter condition group

            仅接收满足条件的数据行。
            Only accept data rows that meet the conditions.

            示例:
            {
            "operator": "AND",
            "conditions": [
            { "fieldId": "price", "operator": "gte", "value": 100 },
            { "fieldId": "stock", "operator": "gt", "value": 0 }
            ],
            "groups": [
            {
            "operator": "OR",
            "conditions": [
            { "fieldId": "category", "operator": "in", "values": ["electronics", "computers"] },
            { "fieldId": "brand", "operator": "eq", "value": "Apple" }
            ]
            }
            ]
            }
        acceptMode:
          type: string
          enum:
            - auto
            - manual
            - selective
          description: |-
            接受模式
            Accept mode
        manualAcceptRules:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ManualAcceptRules'
          description: |-
            手动接受规则
            Manual accept rules
        maxAcceptCount:
          type: integer
          format: int32
          description: |-
            最大接收数量(可选)
            Max accept count (optional)
        deduplicationStrategy:
          type: string
          enum:
            - none
            - by_field
            - by_fields
          description: |-
            去重策略
            Deduplication strategy
        deduplicationFieldIds:
          type: array
          items:
            type: string
          description: |-
            去重字段 ID(当 deduplicationStrategy=by_field/by_fields 时)
            Deduplication field IDs (when deduplicationStrategy=by_field/by_fields)
      description: |-
        接收方过滤配置
        Receiver filter configuration
    Document.Connection.ShareMode:
      type: string
      enum:
        - single
        - multiple
        - public
      description: |-
        分享模式枚举
        Share mode enum
    Document.Connection.ShareScope:
      type: object
      required:
        - mode
      properties:
        mode:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ShareScopeMode'
          description: |-
            分享模式
            Share mode
        viewId:
          type: string
          description: |-
            视图 ID(mode=view 时使用)
            View ID (used when mode=view)
        filterGroup:
          description: |-
            过滤条件(mode=filter 时使用)
            Filter conditions (used when mode=filter)
        rowIds:
          type: array
          items:
            type: string
          description: |-
            行 ID 列表(mode=rows 时使用)
            Row ID list (used when mode=rows)
      description: |-
        分享范围配置
        Share scope configuration
    Document.Connection.ShareScopeMode:
      type: string
      enum:
        - all
        - view
        - filter
        - rows
      description: |-
        分享范围模式
        Share scope mode
    Document.Connection.SplitFieldConfig:
      type: object
      required:
        - separator
        - targetIndex
      properties:
        separator:
          type: string
          description: |-
            分隔符
            Separator
        targetIndex:
          type: integer
          format: int32
          description: |-
            目标字段索引(0-based)
            Target field index (0-based)
        regex:
          type: string
          description: |-
            正则表达式(可选,替代 separator)
            Regex pattern (optional, replaces separator)
      description: |-
        拆分字段配置
        Split field configuration
    Document.Connection.UnitConversionConfig:
      type: object
      required:
        - sourceUnit
        - targetUnit
        - conversionType
      properties:
        sourceUnit:
          type: string
          description: |-
            源单位
            Source unit
        targetUnit:
          type: string
          description: |-
            目标单位
            Target unit
        conversionType:
          type: string
          enum:
            - currency
            - length
            - weight
            - volume
            - temperature
            - custom
          description: |-
            转换类型
            Conversion type
        customRate:
          type: number
          format: double
          description: |-
            自定义转换率(当 conversionType=custom 时)
            Custom conversion rate (when conversionType=custom)
        exchangeRateSource:
          type: string
          enum:
            - fixed
            - realtime
            - daily
          description: |-
            货币汇率源(当 conversionType=currency 时)
            Exchange rate source (when conversionType=currency)
        fixedRate:
          type: number
          format: double
          description: |-
            固定汇率(当 exchangeRateSource=fixed 时)
            Fixed rate (when exchangeRateSource=fixed)
      description: |-
        单位转换配置
        Unit conversion configuration
    Document.Connection.UpdateConnectionBindingRequest:
      type: object
      properties:
        bindingStatus:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.BindingStatus'
          description: |-
            Binding 状态
            Binding status
        receiverFilter:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ReceiverFilter'
          description: |-
            接收方过滤配置
            Receiver filter
        fieldMapping:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.FieldMapping'
          description: |-
            字段映射配置
            Field mapping
        conflictResolution:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ConflictResolution'
          description: |-
            冲突解决配置
            Conflict resolution
      description: |-
        更新 ConnectionBinding 请求
        Update connection binding request
    Document.Connection.UpdateConnectionRequest:
      type: object
      properties:
        name:
          type: string
          description: |-
            Connection 名称
            Connection name
        description:
          type: string
          description: |-
            Connection 描述
            Connection description
        status:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ConnectionStatus'
          description: |-
            Connection 状态
            Connection status
        accessControl:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.AccessControl'
          description: |-
            访问控制配置
            Access control
        shareScope:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.ShareScope'
          description: |-
            分享范围配置
            Share scope
        defaultReceiverConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.DefaultReceiverConfig'
          description: |-
            默认接收方配置
            Default receiver config
        propagationEvents:
          allOf:
            - $ref: '#/components/schemas/Document.Connection.PropagationEvents'
          description: |-
            传播事件配置
            Propagation events
      description: |-
        更新 Connection 请求
        Update connection request
    Document.Connector.AggregationRule:
      type: object
      required:
        - fieldId
        - aggregationType
      properties:
        fieldId:
          type: string
          description: |-
            字段 ID
            Field ID
        aggregationType:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.AggregationType'
          description: |-
            聚合类型
            Aggregation type
        groupByField:
          type: string
          description: |-
            分组字段
            Group by field
      description: |-
        聚合规则
        Aggregation rule
    Document.Connector.AggregationType:
      type: string
      enum:
        - sum
        - avg
        - min
        - max
        - first
      description: |-
        聚合类型枚举
        Aggregation type enum
    Document.Connector.CatalogCloneConfig:
      type: object
      required:
        - syncMode
        - syncDirection
        - linkedScope
        - localEnhancements
        - conflictResolution
      properties:
        syncMode:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.SyncMode'
          description: |-
            同步模式
            Sync mode
        syncDirection:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.SyncDirection'
          description: |-
            同步方向
            Sync direction
        linkedScope:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.LinkedScope'
          description: |-
            联动范围
            Linked scope
        localEnhancements:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.LocalEnhancements'
          description: |-
            本地增强
            Local enhancements
        fieldMapping:
          description: |-
            字段映射(可选,默认 1:1 映射)
            Field mapping (optional, default 1:1)
        conflictResolution:
          description: |-
            冲突策略
            Conflict resolution
      description: |-
        Catalog 复制配置
        Catalog clone configuration
    Document.Connector.ConnectorDetails:
      type: object
      required:
        - id
        - name
        - connectorType
        - sourceDocId
        - sourceDocType
        - targetDocId
        - targetDocType
        - organizationId
        - status
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: |-
            Connector ID
            Connector ID
        name:
          type: string
          description: |-
            Connector 名称
            Connector name
        description:
          type: string
          description: |-
            Connector 描述
            Connector description
        connectorType:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.ConnectorType'
          description: |-
            Connector 类型
            Connector type
        sourceDocId:
          type: string
          description: |-
            源文档 ID
            Source document ID
        sourceDocType:
          type: string
          description: |-
            源文档类型
            Source document type
        targetDocId:
          type: string
          description: |-
            目标文档 ID
            Target document ID
        targetDocType:
          type: string
          description: |-
            目标文档类型
            Target document type
        organizationId:
          type: string
          description: |-
            所属组织 ID
            Organization ID
        workspaceId:
          type: string
          description: |-
            所属工作区 ID(null 表示组织级别)
            Workspace ID (null for organization-level)
        status:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.ConnectorStatus'
          description: |-
            Connector 状态
            Connector status
        catalogCloneConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.CatalogCloneConfig'
          description: |-
            Catalog 复制配置(connectorType=catalog_clone 时)
            Catalog clone config (when connectorType=catalog_clone)
        orderbookToCatalogConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.OrderbookToCatalogConfig'
          description: |-
            OrderBook 转 Catalog 配置(connectorType=orderbook_to_catalog 时)
            OrderBook to Catalog config (when connectorType=orderbook_to_catalog)
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        lastSyncAt:
          type: string
          description: |-
            最后同步时间
            Last synced at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建者
            Created by
      description: |-
        Connector 详情
        Connector details
    Document.Connector.ConnectorStatus:
      type: string
      enum:
        - active
        - paused
        - disabled
      description: |-
        Connector 状态枚举
        Connector status enum
    Document.Connector.ConnectorSummary:
      type: object
      required:
        - id
        - name
        - connectorType
        - sourceDocId
        - targetDocId
        - organizationId
        - status
        - createdAt
      properties:
        id:
          type: string
          description: |-
            Connector ID
            Connector ID
        name:
          type: string
          description: |-
            Connector 名称
            Connector name
        description:
          type: string
          description: |-
            Connector 描述
            Connector description
        connectorType:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.ConnectorType'
          description: |-
            Connector 类型
            Connector type
        sourceDocId:
          type: string
          description: |-
            源文档 ID
            Source document ID
        targetDocId:
          type: string
          description: |-
            目标文档 ID
            Target document ID
        organizationId:
          type: string
          description: |-
            所属组织 ID
            Organization ID
        workspaceId:
          type: string
          description: |-
            所属工作区 ID
            Workspace ID
        status:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.ConnectorStatus'
          description: |-
            Connector 状态
            Connector status
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        lastSyncAt:
          type: string
          description: |-
            最后同步时间
            Last synced at
      description: |-
        Connector 摘要
        Connector summary
    Document.Connector.ConnectorType:
      type: string
      enum:
        - catalog_clone
        - orderbook_to_catalog
      description: |-
        Connector 类型枚举
        Connector type enum
    Document.Connector.CreateConnectorRequest:
      type: object
      required:
        - name
        - connectorType
        - sourceDocId
        - targetDocId
      properties:
        name:
          type: string
          description: |-
            Connector 名称
            Connector name
        description:
          type: string
          description: |-
            Connector 描述
            Connector description
        connectorType:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.ConnectorType'
          description: |-
            Connector 类型
            Connector type
        sourceDocId:
          type: string
          description: |-
            源文档 ID
            Source document ID
        targetDocId:
          type: string
          description: |-
            目标文档 ID
            Target document ID
        workspaceId:
          type: string
          description: |-
            所属工作区 ID(可选,null 表示组织级别)
            Workspace ID (optional, null for organization-level)
        catalogCloneConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.CatalogCloneConfig'
          description: |-
            Catalog 复制配置(connectorType=catalog_clone 时)
            Catalog clone config (when connectorType=catalog_clone)
        orderbookToCatalogConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.OrderbookToCatalogConfig'
          description: |-
            OrderBook 转 Catalog 配置(connectorType=orderbook_to_catalog 时)
            OrderBook to Catalog config (when connectorType=orderbook_to_catalog)
      description: |-
        创建 Connector 请求
        Create connector request
    Document.Connector.FieldTransform:
      type: object
      required:
        - sourceFieldId
        - targetFieldId
        - transformType
      properties:
        sourceFieldId:
          type: string
          description: |-
            源字段 ID
            Source field ID
        targetFieldId:
          type: string
          description: |-
            目标字段 ID
            Target field ID
        transformType:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.TransformType'
          description: |-
            转换类型
            Transform type
        transformConfig:
          type: object
          properties:
            formula:
              type: string
              description: |-
                公式(transformType=formula 时)
                Formula (when transformType=formula)
            lookupTable:
              type: object
              additionalProperties: {}
              description: |-
                查找表(transformType=lookup 时)
                Lookup table (when transformType=lookup)
            constantValue:
              description: |-
                常量值(transformType=constant 时)
                Constant value (when transformType=constant)
          description: |-
            转换配置
            Transform config
      description: |-
        字段转换配置
        Field transform configuration
    Document.Connector.LinkedRow:
      type: object
      required:
        - id
        - connectorId
        - sourceDocId
        - sourceRowId
        - targetDocId
        - targetRowId
        - linkStatus
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: |-
            联动记录 ID
            Link ID
        connectorId:
          type: string
          description: |-
            Connector ID
            Connector ID
        sourceDocId:
          type: string
          description: |-
            源文档 ID
            Source document ID
        sourceRowId:
          type: string
          description: |-
            源行 ID
            Source row ID
        targetDocId:
          type: string
          description: |-
            目标文档 ID
            Target document ID
        targetRowId:
          type: string
          description: |-
            目标行 ID
            Target row ID
        linkStatus:
          type: string
          enum:
            - active
            - broken
            - paused
          description: |-
            联动状态
            Link status
        lastSyncedAt:
          type: string
          description: |-
            最后同步时间
            Last synced at
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
      description: |-
        LinkedRow 数据模型
        LinkedRow data model

        跟踪源文档与目标文档之间的行级联动关系。
        Track row-level linkage between source and target documents.
    Document.Connector.LinkedScope:
      type: object
      required:
        - mode
      properties:
        mode:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.LinkedScopeMode'
          description: |-
            联动模式
            Linked mode
        filterGroup:
          description: |-
            过滤条件(mode=filter 时)
            Filter conditions (when mode=filter)
        rowIds:
          type: array
          items:
            type: string
          description: |-
            行 ID 列表(mode=rows 时)
            Row IDs (when mode=rows)
      description: |-
        联动范围配置
        Linked scope configuration
    Document.Connector.LinkedScopeMode:
      type: string
      enum:
        - all
        - filter
        - rows
      description: |-
        联动范围模式
        Linked scope mode
    Document.Connector.LocalEnhancements:
      type: object
      required:
        - allowLocalAdd
        - allowLocalDelete
        - allowLocalModify
      properties:
        allowLocalAdd:
          type: boolean
          description: |-
            允许本地新增
            Allow local add
        allowLocalDelete:
          type: boolean
          description: |-
            允许本地删除
            Allow local delete
        allowLocalModify:
          type: boolean
          description: |-
            允许本地修改
            Allow local modify
        nonLinkedFields:
          type: array
          items:
            type: string
          description: |-
            非联动字段列表
            Non-linked fields
      description: |-
        本地增强配置
        Local enhancements configuration
    Document.Connector.OrderbookToCatalogConfig:
      type: object
      required:
        - transformRules
        - syncTrigger
        - conflictResolution
      properties:
        transformRules:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.TransformRules'
          description: |-
            转换规则
            Transform rules
        syncTrigger:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.SyncTrigger'
          description: |-
            同步触发配置
            Sync trigger
        conflictResolution:
          description: |-
            冲突策略
            Conflict resolution
      description: |-
        OrderBook 转 Catalog 配置
        OrderBook to Catalog configuration
    Document.Connector.SyncDirection:
      type: string
      enum:
        - one_way
        - bi_directional
      description: |-
        同步方向枚举
        Sync direction enum
    Document.Connector.SyncMode:
      type: string
      enum:
        - full
        - partial
      description: |-
        同步模式枚举
        Sync mode enum
    Document.Connector.SyncTrigger:
      type: object
      required:
        - mode
      properties:
        mode:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.SyncTriggerMode'
          description: |-
            触发模式
            Trigger mode
        autoTriggerOn:
          type: array
          items:
            type: string
          description: |-
            自动触发事件(mode=auto 时)
            Auto trigger events (when mode=auto)
        schedule:
          type: string
          description: |-
            定时表达式(mode=scheduled 时)
            Schedule expression (when mode=scheduled)
      description: |-
        同步触发配置
        Sync trigger configuration
    Document.Connector.SyncTriggerMode:
      type: string
      enum:
        - manual
        - auto
        - scheduled
      description: |-
        同步触发模式
        Sync trigger mode
    Document.Connector.TransformRules:
      type: object
      required:
        - fieldTransforms
      properties:
        filterGroup:
          description: |-
            过滤条件
            Filter conditions
        fieldTransforms:
          type: array
          items:
            $ref: '#/components/schemas/Document.Connector.FieldTransform'
          description: |-
            字段转换列表
            Field transforms
        aggregationRules:
          type: array
          items:
            $ref: '#/components/schemas/Document.Connector.AggregationRule'
          description: |-
            聚合规则
            Aggregation rules
      description: |-
        转换规则
        Transform rules
    Document.Connector.TransformType:
      type: string
      enum:
        - copy
        - formula
        - lookup
        - constant
      description: |-
        转换类型枚举
        Transform type enum
    Document.Connector.UpdateConnectorRequest:
      type: object
      properties:
        name:
          type: string
          description: |-
            Connector 名称
            Connector name
        description:
          type: string
          description: |-
            Connector 描述
            Connector description
        status:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.ConnectorStatus'
          description: |-
            Connector 状态
            Connector status
        catalogCloneConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.CatalogCloneConfig'
          description: |-
            Catalog 复制配置
            Catalog clone config
        orderbookToCatalogConfig:
          allOf:
            - $ref: '#/components/schemas/Document.Connector.OrderbookToCatalogConfig'
          description: |-
            OrderBook 转 Catalog 配置
            OrderBook to Catalog config
      description: |-
        更新 Connector 请求
        Update connector request
    Document.DocBundle:
      type: object
      properties:
        properties:
          allOf:
            - $ref: '#/components/schemas/Document.DocumentProperties'
          description: |-
            文档属性（订单时间、门店、金额、数量等）
            Document properties (order time, store, amount, quantity, etc)
        metadata:
          allOf:
            - $ref: '#/components/schemas/Document.Metadata'
          description: |-
            文档元数据（字段/显示配置）
            Document metadata (fields/display settings)
        views:
          type: array
          items:
            $ref: '#/components/schemas/Document.View'
          description: |-
            视图列表
            List of views
        data:
          type: object
          required:
            - items
            - page
            - pageSize
            - total
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/Document.Row'
              description: |-
                列表项
                Items
            page:
              type: integer
              format: int32
              description: |-
                当前页
                Page number
            pageSize:
              type: integer
              format: int32
              description: |-
                每页数量
                Page size
            total:
              type: integer
              format: int64
              description: |-
                总数
                Total count
          description: |-
            数据分页结果
            Paginated data
        comments:
          type: array
          items:
            $ref: '#/components/schemas/Document.Comment'
          description: |-
            评论集合
            Comments list
        revisions:
          type: array
          items:
            $ref: '#/components/schemas/Document.Revision'
          description: |-
            修订记录
            Revision entries
        settings:
          allOf:
            - $ref: '#/components/schemas/Document.Settings'
          description: |-
            文档设置
            Document settings
      description: |-
        聚合包：用于视图一次性渲染
        Aggregated payload for single-shot view rendering
    Document.DocIdent:
      type: object
      required:
        - docType
        - docId
      properties:
        docType:
          type: string
        docId:
          type: string
      description: |-
        文档标识（类型与ID）
        Document identifier (type & id)
    Document.DocumentProperties:
      type: object
      required:
        - id
        - docId
        - docType
      properties:
        id:
          type: string
          description: |-
            属性ID
            Property id

            唯一标识。
            Unique identifier.
        docId:
          type: string
          description: |-
            文档ID
            Document id

            关联的文档ID。
            Associated document id.
        docType:
          type: string
          description: |-
            文档类型
            Document type

            文档类型（如 purchaseOrder、invoice、product）。
            Document type (e.g. purchaseOrder, invoice, product).
        organizationId:
          type: string
          description: |-
            所属组织ID
            Organization ID

            文档所属的组织（可选，用于多租户隔离）。
            Organization that owns this document (optional, for multi-tenancy isolation).
        workspaceId:
          type: string
          description: |-
            所属工作区ID
            Workspace ID

            文档所属的工作区（可选，为空表示组织级文档）。
            Workspace that owns this document (optional, empty means organization-level document).
        properties:
          type: array
          items:
            $ref: '#/components/schemas/Common.ValueEntry'
          description: |-
            属性值集合
            Property values

            使用类型化的值结构，与数据行的 cell 值设计一致。
            Uses typed value structure, consistent with data row cell values.

            每个属性都有字段ID和对应的类型化值。
            Each property has a field ID and corresponding typed value.

            示例:
            ```json
            [
              {"fieldId": "orderTime", "value": {"datetime": "2024-12-01T10:00:00Z"}},
              {"fieldId": "store", "value": {"text": "Beijing Branch"}},
              {"fieldId": "amount", "value": {"currency": 5000.00}},
              {"fieldId": "quantity", "value": {"number": 50}},
              {"fieldId": "coverImage", "value": {"attachment": [{"id": "att-123", "fileName": "cover.jpg", ...}]}}
            ]
            ```
        version:
          type: integer
          format: int64
          description: |-
            版本号
            Version

            用于并发控制。
            For concurrency control.
        createdAt:
          type: string
          description: |-
            创建时间
            Created at

            创建时间戳。
            Created timestamp.
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at

            更新时间戳。
            Updated timestamp.
        updatedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            更新人
            Updated by

            最后更新的用户。
            User who last updated.
      description: |-
        文档属性模型
        Document properties model

        用于存储文档本身的元信息，如订货单的时间、门店、金额、数量等。
        支持灵活的键值对存储，以适应不同文档类型的需求。

        Used to store document-level metadata, such as purchase order's timestamp, store, amount, quantity, etc.
        Supports flexible key-value storage to accommodate different document types.

        示例 - 订货单属性:
        ```json
        {
          "id": "prop-123",
          "docId": "order-456",
          "docType": "purchaseOrder",
          "properties": [
            {"fieldId": "orderTime", "value": {"datetime": "2024-12-01T10:00:00Z"}},
            {"fieldId": "store", "value": {"text": "Beijing Branch"}},
            {"fieldId": "amount", "value": {"currency": 5000.00}},
            {"fieldId": "quantity", "value": {"number": 50}},
            {"fieldId": "status", "value": {"single_select": {"id": "pending", "label": "待处理"}}}
          ],
          "version": 1,
          "createdAt": "2024-12-01T10:00:00Z",
          "updatedAt": "2024-12-01T10:00:00Z",
          "updatedBy": "user-123"
        }
        ```
    Document.DocumentScope:
      type: string
      enum:
        - organization
        - workspace
      description: |-
        文档作用域枚举
        Document scope enum
    Document.DocumentSummary:
      type: object
      required:
        - docId
        - docType
        - scope
        - organizationId
        - createdAt
        - updatedAt
      properties:
        docId:
          type: string
          description: |-
            文档ID
            Document ID
        docType:
          type: string
          description: |-
            文档类型
            Document type
        title:
          type: string
          description: |-
            文档标题
            Document title
        description:
          type: string
          description: |-
            文档描述
            Document description
        scope:
          allOf:
            - $ref: '#/components/schemas/Document.DocumentScope'
          description: |-
            作用域
            Scope
        organizationId:
          type: string
          description: |-
            所属组织ID
            Organization ID
        workspaceId:
          type: string
          description: |-
            所属工作区ID（组织级文档为空）
            Workspace ID (empty for organization-level documents)
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建者
            Created by
      description: |-
        文档摘要模型
        Document summary model

        用于列表展示的文档简要信息。
        Brief document information for list display.
    Document.ErrorPayload:
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: string
          description: 错误码（例如：unauthorized、forbidden、invalid_payload、not_found、rate_limited）
        message:
          type: string
          description: 错误信息
        details:
          description: 详细数据（可选）
      description: 错误负载
    Document.Field:
      type: object
      required:
        - id
        - name
        - type
      properties:
        id:
          type: string
        name:
          type: string
        type:
          $ref: '#/components/schemas/Document.FieldType'
        required:
          type: boolean
        unique:
          type: boolean
        readOnly:
          type: boolean
        options:
          type: array
          items:
            type: string
        defaultValue: {}
        selectOptions:
          type: array
          items:
            $ref: '#/components/schemas/Common.SelectOption'
        formula:
          type: string
        lookup:
          $ref: '#/components/schemas/Document.LookupConfig'
        rollup:
          $ref: '#/components/schemas/Document.RollupConfig'
        validations:
          type: array
          items:
            type: object
            properties:
              ruleType:
                type: string
              config: {}
              message:
                $ref: '#/components/schemas/Common.Message'
            required:
              - ruleType
      description: |-
        字段定义与校验配置
        Field definition with validation & compute configuration

        描述字段的类型、默认值、选项、只读/唯一/必填，以及公式/查找/汇总与校验规则。

        - 计算：`formula` 表达式、`lookup`（关联字段+目标字段）、`rollup`（关联字段+目标字段+聚合函数）
        - 校验：规则类型(`ruleType`) + 配置(`config`) + 多語言消息(`message`)

        Describes type, default, options, readonly/unique/required, and formula/lookup/rollup with validations.
    Document.FieldType:
      type: string
      enum:
        - text
        - long_text
        - number
        - currency
        - percent
        - date
        - datetime
        - boolean
        - single_select
        - multi_select
        - attachment
        - user
        - collaborator
        - relation
        - lookup
        - rollup
        - formula
        - auto_number
        - created_time
        - updated_time
        - created_by
        - updated_by
      description: |-
        字段类型（覆盖多维表格常见类型）
        Field types aligned with multi-dimensional table SaaS

        覆盖文本、数值、日期时间、选择、附件、用户、关联及计算型字段类型。
        Covers text, number, datetime, select, attachment, user, relation and computed field types.
    Document.LockRequestPayload:
      type: object
      required:
        - rowId
        - fieldId
      properties:
        rowId:
          type: string
        fieldId:
          type: string
        duration:
          type: integer
          format: int32
        autoRenew:
          type: boolean
      description: 锁定请求负载
    Document.LookupConfig:
      type: object
      required:
        - relationFieldId
        - targetFieldId
      properties:
        relationFieldId:
          type: string
          description: |-
            关联字段ID
            Relation field id
        targetFieldId:
          type: string
          description: |-
            目标字段ID
            Target field id
    Document.Metadata:
      type: object
      required:
        - fields
      properties:
        fields:
          type: array
          items:
            $ref: '#/components/schemas/Document.Field'
          description: |-
            数据行字段定义
            Data row field definitions

            定义数据行（表格行）的字段结构。
            Defines the field structure for data rows (table rows).
        properties:
          type: array
          items:
            $ref: '#/components/schemas/Document.Field'
          description: |-
            文档属性字段定义
            Document property field definitions

            定义文档级别属性的字段结构（如订单时间、总金额等）。
            Defines the field structure for document-level properties (e.g., order time, total amount).

            这些字段定义用于 `DocumentProperties.properties` 中的值。
            These field definitions are used for values in `DocumentProperties.properties`.
      description: |-
        文档元数据集合
        Document metadata collection

        包含数据行字段定义和文档属性定义。
        Contains data row field definitions and document property definitions.

        - **fields** - 数据行的字段定义（表格列）
        - **properties** - 文档级别的属性定义（文档元信息字段）

        Field collection and property definitions:
        - **fields** - Field definitions for data rows (table columns)
        - **properties** - Property field definitions for document-level metadata
    Document.OnlineUser:
      type: object
      required:
        - userId
        - displayName
        - sessionId
        - joinedAt
        - lastActiveAt
      properties:
        userId:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            用户ID
            User id
        displayName:
          type: string
          description: |-
            显示名称
            Display name
        avatarUrl:
          type: string
          description: |-
            头像URL
            Avatar URL
        color:
          type: string
          description: |-
            用户颜色
            User color
        sessionId:
          type: string
          description: |-
            会话ID
            Session id
        joinedAt:
          type: string
          description: |-
            加入时间
            Joined at
        lastActiveAt:
          type: string
          description: |-
            最后活跃时间
            Last active at
        awareness:
          description: |-
            Awareness 状态
            Awareness state
      description: |-
        在线用户
        Online user
    Document.OrderBook.CreateOrderBookRequest:
      type: object
      required:
        - name
      properties:
        name:
          type: string
          description: |-
            OrderBook 名称
            OrderBook name
        description:
          type: string
          description: |-
            OrderBook 描述
            OrderBook description
        docType:
          type: string
          description: |-
            文档类型(默认为 "orderbook")
            Document type (default: "orderbook")
          default: orderbook
        workspaceId:
          type: string
          description: |-
            所属工作区 ID(可选,null 表示组织级别)
            Workspace ID (optional, null for organization-level)
        sourceConnectionIds:
          type: array
          items:
            type: string
          description: |-
            基于已连接的 Connection 创建
            Create based on connected connections

            如果提供,将从这些 Connection 的源 Catalog 自动生成字段定义和初始数据。
            If provided, will auto-generate field definitions and initial data from source Catalogs.
        fields:
          type: array
          items:
            $ref: '#/components/schemas/Document.OrderBook.OrderBookFieldDefinition'
          description: |-
            自定义字段定义(可选)
            Custom field definitions (optional)

            如果提供 sourceConnectionIds,会与源字段合并。
            If sourceConnectionIds provided, will merge with source fields.
        views:
          type: array
          items: {}
          description: |-
            初始视图配置(可选)
            Initial view configurations (optional)
      description: |-
        创建 OrderBook 请求
        Create orderbook request
    Document.OrderBook.OrderBookDetails:
      type: object
      required:
        - orderBookId
        - docType
        - name
        - organizationId
        - createdAt
        - updatedAt
      properties:
        orderBookId:
          type: string
          description: |-
            OrderBook ID
            OrderBook ID
        docType:
          type: string
          description: |-
            文档类型(orderbook 或具体类型)
            Document type
        name:
          type: string
          description: |-
            OrderBook 名称
            OrderBook name
        description:
          type: string
          description: |-
            OrderBook 描述
            OrderBook description
        organizationId:
          type: string
          description: |-
            所属组织 ID
            Organization ID
        workspaceId:
          type: string
          description: |-
            所属工作区 ID(null 表示组织级别)
            Workspace ID (null for organization-level)
        productCount:
          type: integer
          format: int32
          description: |-
            产品数量
            Product count
        activeConnections:
          type: array
          items:
            type: string
          description: |-
            活跃的 Connection 列表(Inbound)
            Active connections (Inbound)
        sourceSuppliers:
          type: array
          items:
            type: object
            properties:
              organizationId:
                type: string
                description: |-
                  供应商组织 ID
                  Supplier organization ID
              name:
                type: string
                description: |-
                  供应商名称
                  Supplier name
              connectionId:
                type: string
                description: |-
                  Connection ID
                  Connection ID
              productCount:
                type: integer
                format: int32
                description: |-
                  产品数量
                  Product count
            required:
              - organizationId
              - connectionId
          description: |-
            来源供应商列表
            Source suppliers
        canShareAsCatalog:
          type: boolean
          description: |-
            能否作为 Catalog 分享
            Can be shared as catalog
        catalogConnectionCount:
          type: integer
          format: int32
          description: |-
            作为 Catalog 的 Connection 数量
            Connection count as catalog
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建者
            Created by
        updatedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            最后修改者
            Updated by
      description: |-
        OrderBook 详细信息
        OrderBook details
    Document.OrderBook.OrderBookFieldDefinition:
      type: object
      required:
        - name
        - type
      properties:
        id:
          type: string
          description: |-
            字段 ID(可选,创建时不提供)
            Field ID (optional, not provided on creation)
        name:
          type: string
          description: |-
            字段名称
            Field name
        type:
          type: string
          enum:
            - text
            - long_text
            - number
            - currency
            - percent
            - date
            - datetime
            - boolean
            - single_select
            - multi_select
            - attachment
            - user
            - relation
          description: |-
            字段类型
            Field type
        required:
          type: boolean
          description: |-
            是否必填
            Required
          default: false
        unique:
          type: boolean
          description: |-
            是否唯一
            Unique
          default: false
        readOnly:
          type: boolean
          description: |-
            是否只读
            Read only
          default: false
        defaultValue:
          description: |-
            默认值
            Default value
        selectOptions:
          type: array
          items:
            $ref: '#/components/schemas/Common.SelectOption'
          description: |-
            选择类字段的选项
            Select options
        description:
          type: string
          description: |-
            字段描述
            Field description
        sourceFieldId:
          type: string
          description: |-
            源字段映射(如果从 Catalog 字段派生)
            Source field mapping (if derived from Catalog field)
        sourceCatalogId:
          type: string
          description: |-
            源 Catalog ID(如果从 Catalog 字段派生)
            Source catalog ID (if derived from Catalog field)
      description: |-
        OrderBook 字段定义
        OrderBook field definition
    Document.OrderBook.OrderBookSummary:
      type: object
      required:
        - orderBookId
        - name
        - organizationId
        - createdAt
        - updatedAt
      properties:
        orderBookId:
          type: string
          description: |-
            OrderBook ID(docId)
            OrderBook ID
        name:
          type: string
          description: |-
            OrderBook 名称
            OrderBook name
        description:
          type: string
          description: |-
            OrderBook 描述
            OrderBook description
        organizationId:
          type: string
          description: |-
            所属组织 ID
            Organization ID
        workspaceId:
          type: string
          description: |-
            所属工作区 ID(null 表示组织级别)
            Workspace ID (null for organization-level)
        productCount:
          type: integer
          format: int32
          description: |-
            产品数量
            Product count
        activeConnectionCount:
          type: integer
          format: int32
          description: |-
            活跃的 Connection 数量(Inbound)
            Active connection count (Inbound)
        sourceSupplierCount:
          type: integer
          format: int32
          description: |-
            来源供应商数量
            Source supplier count
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建者
            Created by
      description: |-
        OrderBook 摘要信息
        OrderBook summary
    Document.OrderBook.RowSource:
      type: object
      required:
        - sourceType
      properties:
        sourceType:
          type: string
          enum:
            - connection
            - manual
            - merged
          description: |-
            来源类型
            Source type
        sourceConnectionId:
          type: string
          description: |-
            来源 Connection ID
            Source connection ID
        sourceCatalogId:
          type: string
          description: |-
            源 Catalog ID
            Source catalog ID
        sourceRowId:
          type: string
          description: |-
            源行 ID
            Source row ID
        sourceOrganizationId:
          type: string
          description: |-
            源组织 ID
            Source organization ID
        mergedSourceIds:
          type: array
          items:
            type: string
          description: |-
            合并的多个源(sourceType=merged 时)
            Merged sources (when sourceType=merged)
        lastSyncedAt:
          type: string
          description: |-
            最后同步时间
            Last synced at
      description: |-
        行来源信息
        Row source information
    Document.OrderBook.UpdateOrderBookRequest:
      type: object
      properties:
        name:
          type: string
          description: |-
            OrderBook 名称
            OrderBook name
        description:
          type: string
          description: |-
            OrderBook 描述
            OrderBook description
        canShareAsCatalog:
          type: boolean
          description: |-
            能否作为 Catalog 分享
            Can be shared as catalog
      description: |-
        更新 OrderBook 请求
        Update orderbook request
    Document.PreviewSize:
      type: string
      enum:
        - small
        - medium
        - large
        - original
      description: |-
        预览尺寸
        Preview size
    Document.QueryRequest:
      type: object
      properties:
        filters:
          allOf:
            - $ref: '#/components/schemas/Common.FilterGroup'
          description: |-
            过滤
            Filters

            嵌套过滤组合。
            Nested filter groups.
        sorts:
          type: array
          items:
            $ref: '#/components/schemas/Common.Sort'
          description: |-
            排序
            Sorts

            排序条件集合。
            Sort conditions.
        group:
          allOf:
            - $ref: '#/components/schemas/Common.GroupBy'
          description: |-
            分组与聚合
            Group and aggregations

            分组字段与聚合函数。
            Group fields and aggregation functions.
        page:
          type: integer
          format: int32
          description: |-
            页码
            Page number

            页码（默认1）。
            Page number (default 1).
        pageSize:
          type: integer
          format: int32
          description: |-
            每页数量
            Page size

            每页数量（默认20，最大200）。
            Page size (default 20, max 200).
        cursor:
          type: string
          description: |-
            游标
            Cursor

            游标用于深分页。
            Cursor for deep pagination.
      description: |-
        包含过滤、排序、分组与分页参数，用于复杂查询。
        Contains filters, sorts, group and pagination for complex queries.
    Document.Reaction:
      type: object
      required:
        - emoji
        - users
        - count
      properties:
        emoji:
          type: string
          description: |-
            表情代码
            Emoji code (e.g., "+1", "heart", "laugh")
        users:
          type: array
          items:
            $ref: '#/components/schemas/Common.UserRef'
          description: |-
            反应人集合
            Users who reacted
        count:
          type: integer
          format: int32
          description: |-
            反应数量
            Count of reactions
      description: |-
        表情反应
        Emoji reaction
    Document.RealtimeClientMessage:
      type: object
      required:
        - kind
      properties:
        kind:
          allOf:
            - $ref: '#/components/schemas/Document.RealtimeMessageKind'
          description: 消息类型
        seq:
          type: integer
          format: int64
          description: 序号（客户端自增，用于 Ack 对齐）
        docType:
          type: string
          description: 目标文档类型（部分消息需要）
        docId:
          type: string
          description: 目标文档ID（部分消息需要）
        payload:
          description: 负载数据（各类型具体见下方 Payload 模型）
        timestamp:
          type: string
          description: 发送时间（ISO8601）
      description: |-
        客户端 → 服务端：消息帧

        所有字段均为 JSON 传输。
    Document.RealtimeEvent:
      type: object
      required:
        - type
        - timestamp
      properties:
        type:
          allOf:
            - $ref: '#/components/schemas/Document.RealtimeEventType'
          description: |-
            事件类型
            Event type
        docType:
          type: string
          description: |-
            文档类型
            Document type
        docId:
          type: string
          description: |-
            文档ID
            Document id
        userId:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            用户ID
            User id
        sessionId:
          type: string
          description: |-
            会话ID
            Session id
        data:
          description: |-
            事件数据
            Event data
        timestamp:
          type: string
          description: |-
            时间戳
            Timestamp
      description: |-
        实时事件
        Realtime event
    Document.RealtimeEventType:
      type: string
      enum:
        - yjs_update
        - awareness_update
        - user_joined
        - user_left
        - cell_locked
        - cell_unlocked
        - cursor_moved
        - selection_changed
        - comment_added
        - data_changed
      description: |-
        实时事件类型
        Realtime event type
    Document.RealtimeMessageKind:
      type: string
      enum:
        - auth
        - subscribe_doc
        - unsubscribe_doc
        - yjs_update
        - awareness_update
        - lock_request
        - lock_release
        - ping
        - pong
        - error
      description: 消息类型（客户端与服务端通用）
    Document.RealtimeServerMessage:
      type: object
      required:
        - kind
        - timestamp
      properties:
        kind:
          allOf:
            - $ref: '#/components/schemas/Document.RealtimeMessageKind'
          description: 消息类型
        seq:
          type: integer
          format: int64
          description: 服务端序号（与客户端 seq 进行 ack 对齐）
        ack:
          type: integer
          format: int64
          description: 对应客户端的 seq（当为确认或错误时）
        sessionId:
          type: string
          description: 会话ID（登录后分配）
        userId:
          type: string
          description: 用户ID（若已识别）
        payload:
          description: 负载数据（如 YjsUpdatePayload、AwarenessPayload、ErrorPayload）
        timestamp:
          type: string
          description: 发送时间（ISO8601）
      description: 服务端 → 客户端：消息帧
    Document.RealtimeSession:
      type: object
      required:
        - id
        - docType
        - docId
        - userId
        - joinedAt
      properties:
        id:
          type: string
          description: |-
            会话ID
            Session id
        docType:
          type: string
          description: |-
            文档类型
            Document type
        docId:
          type: string
          description: |-
            文档ID
            Document id
        userId:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            用户ID
            User id
        connectionId:
          type: string
          description: |-
            WebSocket 连接ID
            WebSocket connection id
        joinedAt:
          type: string
          description: |-
            加入时间
            Joined at
        lastActiveAt:
          type: string
          description: |-
            最后活跃时间
            Last active at
        awareness:
          type: object
          properties:
            cursor:
              type: object
              properties:
                rowId:
                  type: string
                fieldId:
                  type: string
                position:
                  type: integer
                  format: int32
              description: |-
                光标位置
                Cursor position
            selection:
              type: object
              properties:
                startRowId:
                  type: string
                endRowId:
                  type: string
                startFieldId:
                  type: string
                endFieldId:
                  type: string
              description: |-
                选择区域
                Selection
            editingCell:
              type: object
              properties:
                rowId:
                  type: string
                fieldId:
                  type: string
              required:
                - rowId
                - fieldId
              description: |-
                当前编辑的单元格
                Currently editing cell
            color:
              type: string
              description: |-
                用户颜色（用于光标显示）
                User color (for cursor display)
            custom:
              description: |-
                自定义状态
                Custom state
          description: |-
            用户状态
            User awareness state
      description: |-
        实时会话
        Realtime session
    Document.Relation:
      type: object
      required:
        - id
        - sourceDocType
        - sourceDocId
        - sourceRowId
        - fieldId
        - targetDocType
        - targetDocId
        - targetRowId
      properties:
        id:
          type: string
          description: |-
            关联ID
            Relation id
        sourceDocType:
          type: string
          description: |-
            源文档类型
            Source document type
        sourceDocId:
          type: string
          description: |-
            源文档ID
            Source document id
        sourceRowId:
          type: string
          description: |-
            源行ID
            Source row id
        fieldId:
          type: string
          description: |-
            源字段ID
            Source field id
        targetDocType:
          type: string
          description: |-
            目标文档类型
            Target document type
        targetDocId:
          type: string
          description: |-
            目标文档ID
            Target document id
        targetRowId:
          type: string
          description: |-
            目标行ID
            Target row id
        metadata:
          description: |-
            关联元数据（可选的附加信息）
            Relation metadata (optional additional info)
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建人
            Created by
      description: |-
        关联关系实例
        Relation instance
    Document.RelationConfig:
      type: object
      required:
        - id
        - sourceDocType
        - sourceDocId
        - fieldId
        - targetDocType
        - targetDocId
      properties:
        id:
          type: string
          description: |-
            配置ID
            Config id
        sourceDocType:
          type: string
          description: |-
            源文档类型
            Source document type
        sourceDocId:
          type: string
          description: |-
            源文档ID
            Source document id
        fieldId:
          type: string
          description: |-
            源字段ID
            Source field id
        targetDocType:
          type: string
          description: |-
            目标文档类型
            Target document type
        targetDocId:
          type: string
          description: |-
            目标文档ID
            Target document id
        bidirectional:
          type: boolean
          description: |-
            是否双向关联
            Bidirectional linking
        reverseFieldId:
          type: string
          description: |-
            反向字段ID（双向关联时使用）
            Reverse field id (for bidirectional)
        cascadeDelete:
          allOf:
            - $ref: '#/components/schemas/Document.CascadeDeleteStrategy'
          description: |-
            级联删除策略
            Cascade delete strategy
        validation:
          type: object
          properties:
            allowDuplicates:
              type: boolean
              description: |-
                允许重复关联
                Allow duplicate links
            maxLinks:
              type: integer
              format: int32
              description: |-
                最大关联数
                Max links
            minLinks:
              type: integer
              format: int32
              description: |-
                最小关联数
                Min links
            preventCircular:
              type: boolean
              description: |-
                防止循环引用
                Prevent circular reference
          description: |-
            关联验证规则
            Link validation rules
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
      description: |-
        关联关系配置
        Relation configuration
    Document.RelationWithDetails:
      type: object
      required:
        - relation
      properties:
        relation:
          allOf:
            - $ref: '#/components/schemas/Document.Relation'
          description: |-
            关联关系
            Relation
        targetRow:
          description: |-
            目标行数据（可选）
            Target row data (optional)
        targetMetadata:
          description: |-
            目标文档元数据（可选）
            Target document metadata (optional)
      description: |-
        关联关系查询结果
        Relation query result
    Document.Request:
      type: object
      required:
        - id
        - status
      properties:
        id:
          type: string
          description: |-
            请求ID
            Request id

            合并请求的唯一标识。
            Unique identifier of the merge request.
        title:
          type: string
          description: |-
            标题
            Title

            合并请求标题。
            Title of the merge request.
        description:
          type: string
          description: |-
            描述
            Description

            合并请求描述。
            Description of the merge request.
        status:
          allOf:
            - $ref: '#/components/schemas/Common.RequestStatus'
          description: |-
            状态
            Status

            当前状态：open/merged/closed。
            Current status: open/merged/closed.
        author:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            作者
            Author

            创建者。
            Author.
        reviewers:
          type: array
          items:
            $ref: '#/components/schemas/Common.UserRef'
          description: |-
            评审人
            Reviewers

            评审人列表。
            List of reviewers.
        contributors:
          type: array
          items:
            $ref: '#/components/schemas/Common.UserRef'
          description: |-
            贡献者
            Contributors

            对该请求添加或修改变更的所有用户。
            All users who added or modified changes in this request.
        changes:
          type: array
          items:
            $ref: '#/components/schemas/Document.Change'
          description: |-
            变更集
            Changes

            包含待合并的变更。支持数据行、属性、视图等多种类型的变更。
            Contains changes to be merged. Supports data rows, properties, views, and other types.
        generatedRevisionId:
          type: string
          description: |-
            生成的修订ID
            Generated revision id

            当请求合并后，系统生成的修订ID。
            Revision id generated when the request is merged.
        createdAt:
          type: string
          description: |-
            创建时间
            Created at

            创建时间戳。
            Created timestamp.
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at

            更新时间戳。
            Updated timestamp.
        mergedAt:
          type: string
          description: |-
            合并时间
            Merged at

            请求被合并的时间戳。
            Timestamp when the request was merged.
        mergedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            合并者
            Merged by

            执行合并操作的用户。
            User who performed the merge.
    Document.Revision:
      type: object
      required:
        - id
        - version
        - requestId
        - changes
      properties:
        id:
          type: string
          description: |-
            修订ID
            Revision id

            修订的唯一标识。
            Unique identifier of the revision.
        version:
          type: integer
          format: int64
          description: |-
            修订版本号
            Revision version

            递增的版本号，用于排序和快速比较。
            Incremental version number for sorting and quick comparison.
        requestId:
          type: string
          description: |-
            源请求ID
            Source request id

            生成此修订的合并请求 ID。
            The merge request ID that generated this revision.
        title:
          type: string
          description: |-
            修订标题
            Revision title

            来自源请求的标题。
            Title from source request.
        description:
          type: string
          description: |-
            修订描述
            Revision description

            来自源请求的描述。
            Description from source request.
        contributors:
          type: array
          items:
            $ref: '#/components/schemas/Common.UserRef'
          description: |-
            主要贡献者
            Main contributors

            在请求中贡献变更的所有用户。
            All users who contributed changes in the request.
        mergedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            合并者
            Merged by

            执行合并操作的用户。
            User who performed the merge.
        changes:
          type: array
          items:
            $ref: '#/components/schemas/Document.ChangeOperation'
          description: |-
            变更操作集合
            Change operations

            此修订包含的所有操作，按时间顺序排列。
            All operations in this revision, in chronological order.
        stats:
          type: object
          properties:
            rowsCreated:
              type: integer
              format: int32
              description: |-
                创建的行数
                Rows created
            rowsUpdated:
              type: integer
              format: int32
              description: |-
                修改的行数
                Rows updated
            rowsDeleted:
              type: integer
              format: int32
              description: |-
                删除的行数
                Rows deleted
            fieldsCreated:
              type: integer
              format: int32
              description: |-
                创建的字段数
                Fields created
            fieldsUpdated:
              type: integer
              format: int32
              description: |-
                修改的字段数
                Fields updated
            fieldsDeleted:
              type: integer
              format: int32
              description: |-
                删除的字段数
                Fields deleted
            metadataChanges:
              type: integer
              format: int32
              description: |-
                元数据变更数
                Metadata changes
            settingsChanges:
              type: integer
              format: int32
              description: |-
                设置变更数
                Settings changes
          description: |-
            变更统计
            Change statistics

            此修订中各类型变更的数量统计。
            Statistics of change types in this revision.
        createdAt:
          type: string
          description: |-
            创建时间
            Created at

            修订生成的时间戳。
            Timestamp when revision was created.
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at

            修订最后更新的时间。
            Timestamp when revision was last updated.
        previousRevisionId:
          type: string
          description: |-
            前置修订ID
            Previous revision id

            此修订之前的修订 ID，用于快速链接历史。
            ID of previous revision, for quick history linking.
      description: |-
        修订记录
        Revision record

        一次完整的变更集合，通常由合并请求生成。
        A complete set of changes, typically generated from merging a request.
    Document.RollupConfig:
      type: object
      required:
        - relationFieldId
        - targetFieldId
        - agg
      properties:
        relationFieldId:
          type: string
          description: |-
            关联字段ID
            Relation field id
        targetFieldId:
          type: string
          description: |-
            目标字段ID
            Target field id
        agg:
          allOf:
            - $ref: '#/components/schemas/Common.AggregationFn'
          description: |-
            聚合函数
            Aggregation function
    Document.Row:
      type: object
      required:
        - id
        - values
      properties:
        id:
          type: string
          description: |-
            行ID
            Row id

            数据行唯一标识。
            Unique identifier of the row.
        values:
          type: array
          items:
            $ref: '#/components/schemas/Common.ValueEntry'
          description: |-
            字段值集合
            Field values

            字段ID与值的集合。
            Collection of field ids and values.
        createdAt:
          type: string
          description: |-
            创建时间
            Created at

            创建时间戳。
            Created timestamp.
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建人
            Created by

            创建者。
            Author.
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at

            更新时间戳。
            Updated timestamp.
        updatedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            更新人
            Updated by

            更新者。
            Updater.
        version:
          type: integer
          format: int64
          description: |-
            版本（并发控制）
            Version

            版本号用于并发控制。
            Version number for concurrency control.
      description: |-
        数据行（包含字段值与审计信息）
        Data row with field values and audit info

        数据行包含字段值集合与审计信息（创建/更新/版本）。
        Data row contains field values and audit info (created/updated/version).
    Document.ScanStatus:
      type: string
      enum:
        - pending
        - scanning
        - completed
        - failed
        - skipped
      description: |-
        扫描状态
        Scan status
    Document.Settings:
      type: object
      properties:
        defaultViewId:
          type: string
          description: |-
            默认视图ID
            Default view id
        sharing:
          type: object
          properties:
            publicLinkEnabled:
              type: boolean
              description: |-
                公共链接开关
                Public link enabled
            password:
              type: string
              description: |-
                分享密码
                Password
          description: 分享配置
        permissions:
          description: |-
            权限策略
            Permissions policy
        retention:
          type: object
          properties:
            revisions:
              type: object
              properties:
                maxCount:
                  type: integer
                  format: int32
                  description: |-
                    最大修订条数
                    Max revision count
                maxDays:
                  type: integer
                  format: int32
                  description: |-
                    最大保留天数
                    Max retention days
              description: 修订特性
          description: 保留策略
    Document.StorageProvider:
      type: string
      enum:
        - local
        - s3
        - oss
        - cos
        - qiniu
        - azure
        - gcs
      description: |-
        存储提供商
        Storage provider
    Document.StorageQuota:
      type: object
      required:
        - organizationId
        - totalQuota
        - usedQuota
        - remainingQuota
        - fileCount
        - updatedAt
      properties:
        organizationId:
          type: string
          description: |-
            组织ID
            Organization id
        totalQuota:
          type: integer
          format: int64
          description: |-
            总配额（字节）
            Total quota in bytes
        usedQuota:
          type: integer
          format: int64
          description: |-
            已使用（字节）
            Used in bytes
        remainingQuota:
          type: integer
          format: int64
          description: |-
            剩余（字节）
            Remaining in bytes
        fileCount:
          type: integer
          format: int64
          description: |-
            文件数量
            File count
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
      description: |-
        存储配额
        Storage quota
    Document.SubscribePayload:
      type: object
      required:
        - docType
        - docId
      properties:
        docType:
          type: string
        docId:
          type: string
      description: 订阅负载
    Document.SyncConfig:
      type: object
      required:
        - id
        - name
        - docType
        - docId
        - sourceType
        - sourceConfig
        - syncMode
      properties:
        id:
          type: string
          description: |-
            配置ID
            Config id
        name:
          type: string
          description: |-
            名称
            Name
        description:
          type: string
          description: |-
            描述
            Description
        docType:
          type: string
          description: |-
            文档类型
            Document type
        docId:
          type: string
          description: |-
            文档ID
            Document id
        sourceType:
          allOf:
            - $ref: '#/components/schemas/Document.SyncSourceType'
          description: |-
            数据源类型
            Source type
        sourceConfig:
          description: |-
            数据源配置
            Source configuration

            根据 sourceType 不同，配置内容不同。
            Configuration varies by sourceType.
        syncMode:
          allOf:
            - $ref: '#/components/schemas/Document.SyncMode'
          description: |-
            同步模式
            Sync mode
        fieldMapping:
          type: array
          items:
            type: object
            properties:
              localFieldId:
                type: string
                description: |-
                  本地字段ID
                  Local field id
              remoteFieldName:
                type: string
                description: |-
                  远程字段名称
                  Remote field name
              typeConversion:
                type: string
                description: |-
                  类型转换
                  Type conversion
            required:
              - localFieldId
              - remoteFieldName
          description: |-
            字段映射
            Field mapping

            本地字段 -> 远程字段的映射。
            Local field -> Remote field mapping.
        filters:
          allOf:
            - $ref: '#/components/schemas/Common.FilterGroup'
          description: |-
            同步过滤器
            Sync filters

            仅同步符合条件的数据。
            Only sync data matching conditions.
        conflictResolution:
          allOf:
            - $ref: '#/components/schemas/Document.ConflictResolution'
          description: |-
            冲突解决策略
            Conflict resolution
        schedule:
          type: string
          description: |-
            定时任务（Cron 表达式）
            Schedule (Cron expression)

            示例：
            - "0 * /6 * * *" - 每 6 小时一次
            - "0 0 * * *" - 每天午夜
            - "0 9 * * 1-5" - 工作日早上 9 点
        enabled:
          type: boolean
          description: |-
            是否启用
            Enabled
        incremental:
          type: boolean
          description: |-
            增量同步（仅同步变更）
            Incremental sync
        lastSyncedAt:
          type: string
          description: |-
            最后同步时间
            Last synced at
        nextSyncAt:
          type: string
          description: |-
            下次同步时间
            Next sync at
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建人
            Created by
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
      description: |-
        同步配置
        Sync configuration
    Document.SyncConflict:
      type: object
      required:
        - id
        - taskId
      properties:
        id:
          type: string
          description: |-
            冲突ID
            Conflict id
        taskId:
          type: string
          description: |-
            任务ID
            Task id
        rowId:
          type: string
          description: |-
            行ID
            Row id
        fieldId:
          type: string
          description: |-
            字段ID
            Field id
        localValue:
          description: |-
            本地值
            Local value
        remoteValue:
          description: |-
            远程值
            Remote value
        localModifiedAt:
          type: string
          description: |-
            本地修改时间
            Local modified at
        remoteModifiedAt:
          type: string
          description: |-
            远程修改时间
            Remote modified at
        resolution:
          allOf:
            - $ref: '#/components/schemas/Document.ConflictResolution'
          description: |-
            冲突解决方案
            Resolution
        resolved:
          type: boolean
          description: |-
            已解决
            Resolved
        resolvedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            解决人
            Resolved by
        resolvedAt:
          type: string
          description: |-
            解决时间
            Resolved at
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
      description: |-
        同步冲突
        Sync conflict
    Document.SyncMode:
      type: string
      enum:
        - one_way_import
        - one_way_export
        - two_way
      description: |-
        同步模式
        Sync mode
    Document.SyncSourceType:
      type: string
      enum:
        - google_sheets
        - excel_online
        - csv
        - json_api
        - rest_api
        - graphql_api
        - database
        - webhook
        - airtable
        - notion
      description: |-
        同步源类型
        Sync source type
    Document.SyncTask:
      type: object
      required:
        - id
        - configId
        - status
      properties:
        id:
          type: string
          description: |-
            任务ID
            Task id
        configId:
          type: string
          description: |-
            配置ID
            Config id
        status:
          allOf:
            - $ref: '#/components/schemas/Document.SyncTaskStatus'
          description: |-
            任务状态
            Status
        direction:
          type: string
          enum:
            - import
            - export
            - bidirectional
          description: |-
            同步方向
            Sync direction
        startedAt:
          type: string
          description: |-
            开始时间
            Started at
        completedAt:
          type: string
          description: |-
            完成时间
            Completed at
        recordsProcessed:
          type: integer
          format: int32
          description: |-
            处理记录数
            Records processed
        recordsSucceeded:
          type: integer
          format: int32
          description: |-
            成功记录数
            Records succeeded
        recordsFailed:
          type: integer
          format: int32
          description: |-
            失败记录数
            Records failed
        recordsCreated:
          type: integer
          format: int32
          description: |-
            创建记录数
            Records created
        recordsUpdated:
          type: integer
          format: int32
          description: |-
            更新记录数
            Records updated
        recordsDeleted:
          type: integer
          format: int32
          description: |-
            删除记录数
            Records deleted
        recordsConflicted:
          type: integer
          format: int32
          description: |-
            冲突记录数
            Records conflicted
        errorMessage:
          type: string
          description: |-
            错误信息
            Error message
        errorDetails:
          description: |-
            错误详情
            Error details
        logs:
          type: array
          items:
            type: string
          description: |-
            日志
            Logs
        triggeredBy:
          type: string
          enum:
            - manual
            - schedule
            - webhook
            - api
          description: |-
            触发方式
            Triggered by
        triggeredUser:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            触发用户
            Triggered user
      description: |-
        同步任务
        Sync task
    Document.SyncTaskStatus:
      type: string
      enum:
        - pending
        - running
        - completed
        - failed
        - cancelled
        - partial
      description: |-
        同步状态
        Sync status
    Document.View:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          description: |-
            视图唱一标识
            Unique identifier of the view
        name:
          type: string
          description: |-
            视图显示名称
            Display name of the view
        type:
          allOf:
            - $ref: '#/components/schemas/Common.ViewType'
          description: |-
            视图类型（表格/相册/看板/文档）
            View type (grid/gallery/kanban/document)
        displayFields:
          type: array
          items:
            type: string
          description: |-
            用于渲染的字段列表
            Field list used for rendering
        filters:
          allOf:
            - $ref: '#/components/schemas/Common.FilterGroup'
          description: |-
            过滤条件组合
            Filter conditions group
        sorts:
          type: array
          items:
            $ref: '#/components/schemas/Common.Sort'
          description: |-
            排序条件
            Sort conditions
        group:
          allOf:
            - $ref: '#/components/schemas/Common.GroupBy'
          description: |-
            分组与聚合
            Grouping and aggregations
        columnConfig:
          type: object
          properties:
            width:
              type: array
              items:
                type: object
                properties:
                  fieldId:
                    type: string
                  width:
                    type: integer
                    format: int32
                required:
                  - fieldId
                  - width
            order:
              type: array
              items:
                type: string
            pinned:
              type: array
              items:
                type: string
            hidden:
              type: array
              items:
                type: string
          description: |-
            列展示配置（宽度/顺序/固定/隐藏）
            Column display configuration (width/order/pinned/hidden)
    Document.YjsSnapshot:
      type: object
      required:
        - id
        - docType
        - docId
        - stateVector
        - docUpdate
        - version
        - createdAt
      properties:
        id:
          type: string
          description: |-
            快照ID
            Snapshot id
        docType:
          type: string
          description: |-
            文档类型
            Document type
        docId:
          type: string
          description: |-
            文档ID
            Document id
        stateVector:
          type: string
          description: |-
            Yjs 状态向量（Base64）
            Yjs state vector (Base64)
        docUpdate:
          type: string
          description: |-
            Yjs 文档更新（Base64）
            Yjs document update (Base64)
        version:
          type: integer
          format: int64
          description: |-
            版本号
            Version
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        size:
          type: integer
          format: int64
          description: |-
            文件大小（字节）
            Size in bytes
      description: |-
        Yjs 文档快照
        Yjs document snapshot
    Document.YjsUpdatePayload:
      type: object
      required:
        - update
      properties:
        update:
          type: string
          description: Yjs update（二进制 Base64）
        clientVersion:
          type: integer
          format: int64
          description: 客户端版本（可选）
      description: Yjs 更新负载
    Extensions.Webhooks.EventFilter:
      type: object
      properties:
        docTypes:
          type: array
          items:
            type: string
          description: |-
            文档类型过滤
            Document type filter

            只接收指定文档类型的事件。
            Only receive events for specified document types.
        docIds:
          type: array
          items:
            type: string
          description: |-
            文档 ID 过滤
            Document ID filter

            只接收指定文档的事件。
            Only receive events for specified documents.
        userIds:
          type: array
          items:
            $ref: '#/components/schemas/Common.UserRef'
          description: |-
            用户过滤
            User filter

            只接收指定用户触发的事件。
            Only receive events triggered by specified users.
        conditions:
          type: array
          items:
            type: object
            properties:
              path:
                type: string
                description: |-
                  JSONPath 表达式
                  JSONPath expression
              operator:
                type: string
                enum:
                  - eq
                  - ne
                  - in
                  - contains
                description: |-
                  操作符
                  Operator
              value:
                description: |-
                  期望值
                  Expected value
            required:
              - path
              - operator
              - value
          description: |-
            自定义条件
            Custom conditions

            使用 JSONPath 表达式过滤事件载荷。
            Filter event payload using JSONPath expressions.
      description: |-
        事件过滤条件
        Event filter condition
    Extensions.Webhooks.Webhook:
      type: object
      required:
        - id
        - name
        - url
        - events
        - status
      properties:
        id:
          type: string
          description: |-
            Webhook ID
            Webhook id
        name:
          type: string
          description: |-
            名称
            Name
        description:
          type: string
          description: |-
            描述
            Description
        url:
          type: string
          description: |-
            目标 URL
            Target URL

            接收 Webhook 事件的 URL。
            URL to receive webhook events.
        events:
          type: array
          items:
            $ref: '#/components/schemas/Extensions.Webhooks.WebhookEventType'
          description: |-
            订阅的事件类型
            Subscribed event types
        filters:
          allOf:
            - $ref: '#/components/schemas/Extensions.Webhooks.EventFilter'
          description: |-
            事件过滤条件
            Event filters
        secret:
          type: string
          description: |-
            密钥（用于签名验证）
            Secret (for signature verification)

            用于生成 HMAC 签名，验证消息来源。
            Used to generate HMAC signature for message verification.
        status:
          allOf:
            - $ref: '#/components/schemas/Extensions.Webhooks.WebhookStatus'
          description: |-
            状态
            Status
        headers:
          type: object
          additionalProperties:
            type: string
          description: |-
            自定义请求头
            Custom headers

            发送 Webhook 请求时附加的自定义头。
            Custom headers to include in webhook requests.
        timeout:
          type: integer
          format: int32
          description: |-
            超时时间（秒）
            Timeout in seconds
        maxRetries:
          type: integer
          format: int32
          description: |-
            最大重试次数
            Max retry attempts
        retryInterval:
          type: integer
          format: int32
          description: |-
            重试间隔（秒）
            Retry interval in seconds
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        createdBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            创建人
            Created by
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        lastTriggeredAt:
          type: string
          description: |-
            最后触发时间
            Last triggered at
        triggerCount:
          type: integer
          format: int64
          description: |-
            触发次数
            Trigger count
        failureCount:
          type: integer
          format: int64
          description: |-
            失败次数
            Failure count
      description: |-
        Webhook 配置
        Webhook configuration
    Extensions.Webhooks.WebhookDelivery:
      type: object
      required:
        - id
        - webhookId
        - event
        - status
        - url
        - createdAt
      properties:
        id:
          type: string
          description: |-
            投递 ID
            Delivery id
        webhookId:
          type: string
          description: |-
            Webhook ID
            Webhook id
        event:
          allOf:
            - $ref: '#/components/schemas/Extensions.Webhooks.WebhookEventType'
          description: |-
            事件类型
            Event type
        status:
          type: string
          enum:
            - pending
            - success
            - failed
            - retrying
          description: |-
            投递状态
            Delivery status
        url:
          type: string
          description: |-
            请求 URL
            Request URL
        requestBody:
          description: |-
            请求体
            Request body
        responseStatus:
          type: integer
          format: int32
          description: |-
            响应状态码
            Response status code
        responseBody:
          type: string
          description: |-
            响应体
            Response body
        error:
          type: string
          description: |-
            错误信息
            Error message
        retryCount:
          type: integer
          format: int32
          description: |-
            重试次数
            Retry count
        deliveredAt:
          type: string
          description: |-
            投递时间
            Delivered at
        responseTime:
          type: integer
          format: int64
          description: |-
            响应时间（毫秒）
            Response time in milliseconds
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
      description: |-
        Webhook 投递记录
        Webhook delivery record
    Extensions.Webhooks.WebhookEvent:
      type: object
      required:
        - event
        - timestamp
        - webhookId
        - deliveryId
        - payload
      properties:
        event:
          allOf:
            - $ref: '#/components/schemas/Extensions.Webhooks.WebhookEventType'
          description: |-
            事件类型
            Event type
        timestamp:
          type: string
          description: |-
            事件时间戳
            Event timestamp
        webhookId:
          type: string
          description: |-
            Webhook ID
            Webhook id
        deliveryId:
          type: string
          description: |-
            投递 ID（唯一标识一次投递）
            Delivery id (unique identifier for this delivery)
        docType:
          type: string
          description: |-
            文档类型
            Document type
        docId:
          type: string
          description: |-
            文档 ID
            Document id
        triggeredBy:
          type: string
          description: |-
            触发用户
            Triggered by user
        payload:
          description: |-
            事件载荷
            Event payload

            包含事件相关的详细数据。
            Contains detailed data related to the event.
      description: |-
        Webhook 事件载荷
        Webhook event payload
    Extensions.Webhooks.WebhookEventType:
      type: string
      enum:
        - request_created
        - request_merged
        - request_closed
        - request_reopened
        - approval_started
        - approval_approved
        - approval_rejected
        - approval_canceled
        - approval_node_completed
        - comment_created
        - comment_updated
        - comment_deleted
        - comment_resolved
        - comment_mentioned
        - metadata_updated
        - metadata_field_added
        - metadata_field_updated
        - metadata_field_deleted
        - view_created
        - view_updated
        - view_deleted
        - view_default_changed
        - data_row_created
        - data_row_updated
        - data_row_deleted
        - data_bulk_operation
        - revision_created
        - revision_reverted
      description: |-
        Webhook 事件类型
        Webhook event types
    Extensions.Webhooks.WebhookStatus:
      type: string
      enum:
        - active
        - paused
        - failed
      description: |-
        Webhook 状态
        Webhook status
    Extensions.Webhooks.WebhookTestRequest:
      type: object
      required:
        - event
      properties:
        event:
          allOf:
            - $ref: '#/components/schemas/Extensions.Webhooks.WebhookEventType'
          description: |-
            测试事件类型
            Test event type
        payload:
          description: |-
            测试载荷
            Test payload
      description: |-
        Webhook 测试请求
        Webhook test request
    I18n.Currency:
      type: object
      required:
        - code
        - name
        - symbol
        - decimalPlaces
        - active
      properties:
        code:
          type: string
          description: |-
            货币代码
            Currency code (ISO 4217)
        name:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: |-
            货币名称（多语言）
            Currency name (multi-language)
        symbol:
          type: string
          description: |-
            货币符号
            Currency symbol
        decimalPlaces:
          type: integer
          format: int32
          description: |-
            小数位数
            Decimal places
        active:
          type: boolean
          description: |-
            是否活跃
            Whether active
      description: |-
        货币信息
        Currency information
    I18n.CurrencyFormat:
      type: object
      required:
        - currencyCode
        - symbol
        - symbolPosition
        - decimalPlaces
      properties:
        currencyCode:
          type: string
          description: |-
            货币代码
            Currency code (ISO 4217, e.g., CNY, USD)
        symbol:
          type: string
          description: |-
            货币符号
            Currency symbol (e.g., ¥, $)
        symbolPosition:
          type: string
          enum:
            - before
            - after
          description: |-
            符号位置
            Symbol position (before/after)
        decimalPlaces:
          type: integer
          format: int32
          description: |-
            小数位数
            Decimal places
      description: |-
        货币格式配置
        Currency format configuration
    I18n.DayOfWeek:
      type: string
      enum:
        - sunday
        - monday
        - saturday
      description: |-
        每周首日
        First day of week
    I18n.Density:
      type: string
      enum:
        - compact
        - comfortable
        - spacious
      description: |-
        界面密度
        Interface density
    I18n.FontSize:
      type: string
      enum:
        - small
        - medium
        - large
        - extra_large
      description: |-
        字体大小
        Font size
    I18n.GlossaryEntry:
      type: object
      required:
        - id
        - term
        - translation
        - createdAt
      properties:
        id:
          type: string
          description: |-
            条目唯一标识
            Entry unique identifier
        term:
          type: string
          description: |-
            术语
            Term
        translation:
          type: string
          description: |-
            翻译
            Translation
        context:
          type: string
          description: |-
            上下文
            Context
        category:
          type: string
          description: |-
            分类
            Category
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
      description: |-
        术语表条目
        Glossary entry
    I18n.LanguageConfig:
      type: object
      required:
        - code
        - name
        - nativeName
        - enabled
        - isDefault
        - direction
        - dateFormat
        - timeFormat
        - numberFormat
        - currencyFormat
        - sortOrder
      properties:
        code:
          type: string
          description: |-
            语言代码
            Language code (ISO 639-1, e.g., zh, en, ja)
        name:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: |-
            语言名称（多语言）
            Language name (multi-language)
        nativeName:
          type: string
          description: |-
            本地语言名称
            Native language name (e.g., "中文", "English")
        enabled:
          type: boolean
          description: |-
            是否启用
            Whether enabled
        isDefault:
          type: boolean
          description: |-
            是否为默认语言
            Whether it's the default language
        direction:
          allOf:
            - $ref: '#/components/schemas/I18n.TextDirection'
          description: |-
            文本方向
            Text direction
        dateFormat:
          type: string
          description: |-
            日期格式
            Date format (e.g., YYYY-MM-DD)
        timeFormat:
          type: string
          description: |-
            时间格式
            Time format (e.g., HH:mm:ss)
        numberFormat:
          allOf:
            - $ref: '#/components/schemas/I18n.NumberFormat'
          description: |-
            数字格式配置
            Number format configuration
        currencyFormat:
          allOf:
            - $ref: '#/components/schemas/I18n.CurrencyFormat'
          description: |-
            货币格式配置
            Currency format configuration
        sortOrder:
          type: integer
          format: int32
          description: |-
            排序顺序
            Sort order
      description: |-
        语言配置
        Language configuration
    I18n.LanguageCoverage:
      type: object
      required:
        - language
        - totalKeys
        - translatedKeys
        - missingKeys
        - completeness
        - lastUpdated
      properties:
        language:
          type: string
          description: |-
            语言代码
            Language code
        totalKeys:
          type: integer
          format: int32
          description: |-
            总键数
            Total keys
        translatedKeys:
          type: integer
          format: int32
          description: |-
            已翻译键数
            Translated keys
        missingKeys:
          type: integer
          format: int32
          description: |-
            缺失键数
            Missing keys
        completeness:
          type: number
          format: double
          description: |-
            完整度百分比
            Completeness percentage (0.0 - 1.0)
        lastUpdated:
          type: string
          description: |-
            最后更新时间
            Last updated time
      description: |-
        语言覆盖率统计
        Language coverage statistics
    I18n.LanguageDetection:
      type: object
      required:
        - language
        - confidence
      properties:
        language:
          type: string
          description: |-
            语言代码
            Language code
        confidence:
          type: number
          format: double
          description: |-
            置信度
            Confidence (0.0 - 1.0)
      description: |-
        语言检测结果
        Language detection result
    I18n.NumberFormat:
      type: object
      required:
        - decimalSeparator
        - thousandSeparator
        - decimalPlaces
      properties:
        decimalSeparator:
          type: string
          description: |-
            小数分隔符
            Decimal separator (e.g., "." or ",")
        thousandSeparator:
          type: string
          description: |-
            千分位分隔符
            Thousand separator
        decimalPlaces:
          type: integer
          format: int32
          description: |-
            小数位数
            Decimal places
      description: |-
        数字格式配置
        Number format configuration
    I18n.OrganizationI18nConfig:
      type: object
      required:
        - defaultLanguage
        - supportedLanguages
        - enforceLanguage
        - autoDetectLanguage
        - fallbackLanguage
        - defaultTimezone
        - defaultCurrency
        - dateFormat
        - timeFormat
        - numberFormat
      properties:
        defaultLanguage:
          type: string
          description: |-
            默认语言
            Default language
        supportedLanguages:
          type: array
          items:
            type: string
          description: |-
            支持的语言列表
            Supported languages
        enforceLanguage:
          type: boolean
          description: |-
            强制使用指定语言
            Enforce specific language
        autoDetectLanguage:
          type: boolean
          description: |-
            自动检测语言
            Auto detect language
        fallbackLanguage:
          type: string
          description: |-
            备用语言
            Fallback language
        defaultTimezone:
          type: string
          description: |-
            默认时区
            Default timezone
        defaultCurrency:
          type: string
          description: |-
            默认货币
            Default currency
        dateFormat:
          type: string
          description: |-
            日期格式
            Date format
        timeFormat:
          type: string
          description: |-
            时间格式
            Time format
        numberFormat:
          allOf:
            - $ref: '#/components/schemas/I18n.NumberFormat'
          description: |-
            数字格式
            Number format
      description: |-
        组织国际化配置
        Organization i18n configuration
    I18n.ResourceCategory:
      type: string
      enum:
        - ui
        - field_label
        - validation_message
        - notification_template
        - email_template
        - system_message
      description: |-
        资源分类
        Resource category
    I18n.TextDirection:
      type: string
      enum:
        - ltr
        - rtl
      description: |-
        文本方向
        Text direction
    I18n.ThemeMode:
      type: string
      enum:
        - light
        - dark
        - auto
      description: |-
        主题模式
        Theme mode
    I18n.TimeFormat:
      type: string
      enum:
        - 12h
        - 24h
      description: |-
        时间格式
        Time format
    I18n.Timezone:
      type: object
      required:
        - id
        - name
        - offset
        - region
        - displayName
      properties:
        id:
          type: string
          description: |-
            时区标识
            Timezone identifier (IANA format)
        name:
          type: string
          description: |-
            时区名称
            Timezone name
        offset:
          type: string
          description: |-
            UTC偏移量
            UTC offset (e.g., +08:00)
        region:
          type: string
          description: |-
            所属地区
            Region
        displayName:
          allOf:
            - $ref: '#/components/schemas/Common.Message'
          description: |-
            显示名称（多语言）
            Display name (multi-language)
      description: |-
        时区信息
        Timezone information
    I18n.TranslationResource:
      type: object
      required:
        - id
        - ns
        - key
        - translations
        - category
        - updatedAt
        - updatedBy
      properties:
        id:
          type: string
          description: |-
            资源唯一标识
            Resource unique identifier
        ns:
          type: string
          description: |-
            命名空间
            Namespace (e.g., common, billing, notifications)
        key:
          type: string
          description: |-
            翻译键
            Translation key
        translations:
          type: object
          additionalProperties:
            type: string
          description: |-
            各语言翻译
            Translations for each language (language code -> translation text)
        context:
          type: string
          description: |-
            上下文说明
            Context description
        category:
          allOf:
            - $ref: '#/components/schemas/I18n.ResourceCategory'
          description: |-
            资源分类
            Resource category
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        updatedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            更新者
            Updated by
      description: |-
        翻译资源
        Translation resource
    I18n.TranslationResult:
      type: object
      required:
        - sourceText
        - translations
        - confidence
      properties:
        sourceText:
          type: string
          description: |-
            源文本
            Source text
        translations:
          type: object
          additionalProperties:
            type: string
          description: |-
            翻译结果
            Translations (language code -> translated text)
        confidence:
          type: object
          additionalProperties:
            type: number
            format: double
          description: |-
            置信度
            Confidence scores (language code -> confidence)
      description: |-
        翻译结果
        Translation result
    I18n.TranslationSuggestion:
      type: object
      required:
        - translation
        - confidence
        - source
      properties:
        translation:
          type: string
          description: |-
            翻译文本
            Translation text
        confidence:
          type: number
          format: double
          description: |-
            置信度
            Confidence (0.0 - 1.0)
        source:
          type: string
          enum:
            - machine
            - memory
            - glossary
          description: |-
            来源
            Source (machine/memory/glossary)
      description: |-
        翻译建议
        Translation suggestion
    Preferences.AccessibilityPreferences:
      type: object
      properties:
        highContrast:
          type: boolean
          description: |-
            高对比度
            High contrast
        reducedMotion:
          type: boolean
          description: |-
            减少动画
            Reduced motion
        screenReader:
          type: boolean
          description: |-
            屏幕阅读器支持
            Screen reader support
        keyboardNavigation:
          type: boolean
          description: |-
            键盘导航优化
            Keyboard navigation optimization
        focusIndicator:
          type: boolean
          description: |-
            焦点指示器增强
            Enhanced focus indicator
        textToSpeech:
          type: boolean
          description: |-
            文本转语音
            Text to speech
      description: |-
        辅助功能偏好设置
        Accessibility preferences
    Preferences.AppearancePreferences:
      type: object
      properties:
        theme:
          allOf:
            - $ref: '#/components/schemas/I18n.ThemeMode'
          description: |-
            主题模式
            Theme mode
        accentColor:
          type: string
          description: |-
            强调色（HEX格式）
            Accent color (HEX format)
        fontFamily:
          type: string
          description: |-
            字体系列
            Font family
        fontSize:
          allOf:
            - $ref: '#/components/schemas/I18n.FontSize'
          description: |-
            字体大小
            Font size
        density:
          allOf:
            - $ref: '#/components/schemas/I18n.Density'
          description: |-
            界面密度
            Interface density
        sidebarCollapsed:
          type: boolean
          description: |-
            侧边栏折叠状态
            Sidebar collapsed state
      description: |-
        外观偏好设置
        Appearance preferences
    Preferences.GeneralPreferences:
      type: object
      properties:
        defaultOrganizationId:
          type: string
          description: |-
            默认组织ID
            Default organization ID
        defaultWorkspaceId:
          type: string
          description: |-
            默认工作区ID
            Default workspace ID
        defaultView:
          type: string
          description: |-
            默认视图类型
            Default view type
        startPage:
          type: string
          description: |-
            启动页URL
            Start page URL
        itemsPerPage:
          type: integer
          format: int32
          description: |-
            每页显示数量
            Items per page
        enableKeyboardShortcuts:
          type: boolean
          description: |-
            启用快捷键
            Enable keyboard shortcuts
        enableAnimations:
          type: boolean
          description: |-
            启用动画效果
            Enable animations
      description: |-
        通用偏好设置
        General preferences
    Preferences.LanguagePreferences:
      type: object
      required:
        - primaryLanguage
        - contentLanguages
        - autoDetect
        - fallbackLanguage
      properties:
        primaryLanguage:
          type: string
          description: |-
            主要语言
            Primary language
        contentLanguages:
          type: array
          items:
            type: string
          description: |-
            内容语言列表
            Content languages
        autoDetect:
          type: boolean
          description: |-
            自动检测语言
            Auto detect language
        fallbackLanguage:
          type: string
          description: |-
            备用语言
            Fallback language
      description: |-
        语言偏好设置
        Language preferences
    Preferences.NumberFormatPreference:
      type: object
      properties:
        decimalSeparator:
          type: string
          description: |-
            小数分隔符
            Decimal separator
        thousandSeparator:
          type: string
          description: |-
            千分位分隔符
            Thousand separator
      description: |-
        数字格式偏好
        Number format preference
    Preferences.PrivacyPreferences:
      type: object
      properties:
        showPresenceStatus:
          type: boolean
          description: |-
            显示在线状态
            Show presence status
        allowAnalytics:
          type: boolean
          description: |-
            允许分析数据收集
            Allow analytics data collection
        allowMarketing:
          type: boolean
          description: |-
            允许营销通知
            Allow marketing notifications
        showProfileToOthers:
          type: boolean
          description: |-
            向他人显示个人资料
            Show profile to others
        shareActivityStatus:
          type: boolean
          description: |-
            分享活动状态
            Share activity status
      description: |-
        隐私偏好设置
        Privacy preferences
    Preferences.RegionalPreferences:
      type: object
      properties:
        language:
          type: string
          description: |-
            界面语言
            UI language
        contentLanguages:
          type: array
          items:
            type: string
          description: |-
            内容语言偏好（优先顺序）
            Content language preferences (priority order)
        timezone:
          type: string
          description: |-
            时区（IANA格式）
            Timezone (IANA format)
        dateFormat:
          type: string
          description: |-
            日期格式
            Date format
        timeFormat:
          allOf:
            - $ref: '#/components/schemas/I18n.TimeFormat'
          description: |-
            时间格式
            Time format
        firstDayOfWeek:
          allOf:
            - $ref: '#/components/schemas/I18n.DayOfWeek'
          description: |-
            每周首日
            First day of week
        currency:
          type: string
          description: |-
            默认货币
            Default currency
        numberFormat:
          allOf:
            - $ref: '#/components/schemas/Preferences.NumberFormatPreference'
          description: |-
            数字格式偏好
            Number format preference
      description: |-
        地区偏好设置
        Regional preferences
    Preferences.UserPreferences:
      type: object
      required:
        - userId
        - updatedAt
      properties:
        userId:
          type: string
          description: |-
            用户ID
            User ID
        general:
          allOf:
            - $ref: '#/components/schemas/Preferences.GeneralPreferences'
          description: |-
            通用偏好
            General preferences
        appearance:
          allOf:
            - $ref: '#/components/schemas/Preferences.AppearancePreferences'
          description: |-
            外观偏好
            Appearance preferences
        notifications:
          type: object
          description: |-
            通知偏好（引用通知模块定义）
            Notification preferences (reference notification module)
        regional:
          allOf:
            - $ref: '#/components/schemas/Preferences.RegionalPreferences'
          description: |-
            地区偏好
            Regional preferences
        accessibility:
          allOf:
            - $ref: '#/components/schemas/Preferences.AccessibilityPreferences'
          description: |-
            辅助功能偏好
            Accessibility preferences
        privacy:
          allOf:
            - $ref: '#/components/schemas/Preferences.PrivacyPreferences'
          description: |-
            隐私偏好
            Privacy preferences
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
      description: |-
        用户偏好设置
        User preferences
    Tenant.AddOrganizationMemberRequest:
      type: object
      required:
        - userId
      properties:
        userId:
          type: string
          description: |-
            用户ID（必填）
            User ID (required)
        role:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationRole'
          description: |-
            角色（默认 member）
            Role (default: member)
          default: member
      description: |-
        添加组织成员请求
        Add organization member request
    Tenant.AddWorkspaceMemberRequest:
      type: object
      required:
        - userId
      properties:
        userId:
          type: string
          description: |-
            用户ID（必填，必须是组织成员）
            User ID (required, must be organization member)
        role:
          allOf:
            - $ref: '#/components/schemas/Tenant.WorkspaceRole'
          description: |-
            角色（默认 editor）
            Role (default: editor)
          default: editor
      description: |-
        添加工作区成员请求
        Add workspace member request
    Tenant.ApproveJoinRequestRequest:
      type: object
      properties:
        role:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationRole'
          description: |-
            授予的角色（默认使用组织默认角色）
            Granted role (default: use organization default role)
        reviewNote:
          type: string
          description: |-
            审核备注
            Review note
      description: |-
        批准加入申请请求
        Approve join request
    Tenant.BindOAuthRequest:
      type: object
      required:
        - authorizationCode
      properties:
        authorizationCode:
          type: string
          description: |-
            OAuth 授权码
            OAuth authorization code
        redirectUri:
          type: string
          description: |-
            重定向 URI
            Redirect URI
      description: |-
        绑定 OAuth 请求
        Bind OAuth request
    Tenant.CreateInvitationRequest:
      type: object
      required:
        - email
      properties:
        email:
          type: string
          description: |-
            被邀请人邮箱（必填）
            Invitee email (required)
        role:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationRole'
          description: |-
            邀请角色（默认 member）
            Invited role (default: member)
          default: member
        message:
          type: string
          description: |-
            邀请留言
            Invitation message
        expiresInDays:
          type: integer
          format: int32
          description: |-
            有效期（天数，默认7天）
            Expiration days (default: 7)
          default: 7
      description: |-
        创建邀请请求
        Create invitation request
    Tenant.CreateJoinRequestRequest:
      type: object
      properties:
        message:
          type: string
          description: |-
            申请说明
            Application message
      description: |-
        创建加入申请请求
        Create join request
    Tenant.CreateOrganizationRequest:
      type: object
      required:
        - name
        - slug
        - type
      properties:
        name:
          type: string
          description: |-
            组织名称（必填）
            Organization name (required)
        slug:
          type: string
          description: |-
            URL标识（必填，全局唯一）
            URL slug (required, globally unique)
        displayName:
          type: string
          description: |-
            显示名称
            Display name
        description:
          type: string
          description: |-
            组织描述
            Organization description
        type:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationType'
          description: |-
            组织类型
            Organization type
        settings:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationSettings'
          description: |-
            组织设置
            Organization settings
      description: |-
        创建组织请求
        Create organization request
    Tenant.CreateWorkspaceRequest:
      type: object
      required:
        - name
        - slug
      properties:
        name:
          type: string
          description: |-
            工作区名称（必填）
            Workspace name (required)
        slug:
          type: string
          description: |-
            URL标识（组织内唯一，必填）
            URL slug (unique within organization, required)
        description:
          type: string
          description: |-
            工作区描述
            Workspace description
        icon:
          type: string
          description: |-
            工作区图标
            Workspace icon
        color:
          type: string
          description: |-
            主题颜色
            Theme color
        visibility:
          allOf:
            - $ref: '#/components/schemas/Tenant.WorkspaceVisibility'
          description: |-
            可见性（默认 private）
            Visibility (default: private)
          default: private
        dataSourceReferences:
          type: array
          items:
            $ref: '#/components/schemas/Tenant.DataSourceReference'
          description: |-
            数据源引用配置
            Data source reference configuration

            允许工作区引用其他工作区的特定 document type 数据。
            Allows workspace to reference specific document types from other workspaces.
      description: |-
        创建工作区请求
        Create workspace request
    Tenant.DataSourceMode:
      type: string
      enum:
        - readonly
      description: |-
        数据源引用模式
        Data source reference mode
    Tenant.DataSourceReference:
      type: object
      required:
        - sourceWorkspaceId
        - documentType
      properties:
        sourceWorkspaceId:
          type: string
          description: |-
            源工作区 ID
            Source workspace ID
        documentType:
          type: string
          description: |-
            文档类型（如 product, supplier）
            Document type (e.g., product, supplier)
        mode:
          allOf:
            - $ref: '#/components/schemas/Tenant.DataSourceMode'
          description: |-
            引用模式（默认 readonly）
            Reference mode (default: readonly)
          default: readonly
        priority:
          type: integer
          format: int32
          description: |-
            优先级（用于排序，数字越小优先级越高）
            Priority (for sorting, smaller number = higher priority)
      description: |-
        数据源引用
        Data source reference

        用于配置 Workspace 引用其他 Workspace 的数据。
        Used to configure a workspace to reference data from other workspaces.
    Tenant.Invitation:
      type: object
      required:
        - id
        - organizationId
        - email
        - inviterUserId
        - role
        - token
        - status
        - expiresAt
        - createdAt
      properties:
        id:
          type: string
          description: |-
            邀请唯一标识
            Invitation unique identifier
        organizationId:
          type: string
          description: |-
            目标组织ID
            Target organization ID
        email:
          type: string
          description: |-
            被邀请人邮箱
            Invitee email
        inviterUserId:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            邀请人用户ID
            Inviter user ID
        inviter:
          allOf:
            - $ref: '#/components/schemas/Tenant.User'
          description: |-
            邀请人信息（可选包含）
            Inviter info (optionally included)
        role:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationRole'
          description: |-
            邀请角色
            Invited role
        token:
          type: string
          description: |-
            邀请令牌（用于链接）
            Invitation token (for link)
        message:
          type: string
          description: |-
            邀请留言
            Invitation message
        status:
          allOf:
            - $ref: '#/components/schemas/Tenant.InvitationStatus'
          description: |-
            状态
            Status
        expiresAt:
          type: string
          description: |-
            过期时间
            Expires at
        acceptedAt:
          type: string
          description: |-
            接受时间
            Accepted at
        acceptedByUserId:
          type: string
          description: |-
            接受者用户ID
            Acceptor user ID
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
      description: |-
        邀请模型
        Invitation model

        用于邀请用户加入组织。
        Used to invite users to join an organization.
    Tenant.InvitationStatus:
      type: string
      enum:
        - pending
        - accepted
        - expired
        - revoked
      description: |-
        邀请状态枚举
        Invitation status enum
    Tenant.JoinRequest:
      type: object
      required:
        - id
        - organizationId
        - userId
        - status
        - createdAt
      properties:
        id:
          type: string
          description: |-
            申请唯一标识
            Request unique identifier
        organizationId:
          type: string
          description: |-
            目标组织ID
            Target organization ID
        userId:
          type: string
          description: |-
            申请人用户ID
            Applicant user ID
        user:
          allOf:
            - $ref: '#/components/schemas/Tenant.User'
          description: |-
            申请人信息（可选包含）
            Applicant info (optionally included)
        message:
          type: string
          description: |-
            申请说明
            Application message
        status:
          allOf:
            - $ref: '#/components/schemas/Tenant.JoinRequestStatus'
          description: |-
            状态
            Status
        reviewedBy:
          type: string
          description: |-
            审核人用户ID
            Reviewer user ID
        reviewer:
          allOf:
            - $ref: '#/components/schemas/Tenant.User'
          description: |-
            审核人信息（可选包含）
            Reviewer info (optionally included)
        reviewNote:
          type: string
          description: |-
            审核备注
            Review note
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        reviewedAt:
          type: string
          description: |-
            审核时间
            Reviewed at
      description: |-
        加入申请模型
        Join request model

        用户申请加入组织的记录。
        Record of user's request to join an organization.
    Tenant.JoinRequestStatus:
      type: string
      enum:
        - pending
        - approved
        - rejected
        - cancelled
      description: |-
        加入申请状态枚举
        Join request status enum
    Tenant.MemberStatus:
      type: string
      enum:
        - active
        - suspended
      description: |-
        成员状态枚举
        Member status enum
    Tenant.OAuthConnection:
      type: object
      required:
        - userId
        - provider
        - providerId
        - linkedAt
      properties:
        userId:
          type: string
          description: |-
            关联的用户ID
            Associated user ID
        provider:
          allOf:
            - $ref: '#/components/schemas/Tenant.OAuthProvider'
          description: |-
            提供商
            Provider
        providerId:
          type: string
          description: |-
            提供商的用户ID
            Provider's user ID
        providerEmail:
          type: string
          description: |-
            提供商的邮箱
            Provider's email
        linkedAt:
          type: string
          description: |-
            关联时间
            Linked at
      description: |-
        OAuth 连接信息
        OAuth connection info

        存储用户与第三方身份提供商的关联信息。
        Stores the association between user and third-party identity providers.
    Tenant.OAuthProvider:
      type: string
      enum:
        - google
        - github
        - wechat
        - dingtalk
        - feishu
      description: |-
        OAuth 提供商枚举
        OAuth provider enum
    Tenant.Organization:
      type: object
      required:
        - id
        - name
        - slug
        - type
        - ownerId
        - status
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: |-
            组织唯一标识
            Organization unique identifier
        name:
          type: string
          description: |-
            组织名称
            Organization name
        displayName:
          type: string
          description: |-
            显示名称
            Display name
        slug:
          type: string
          description: |-
            URL友好的唯一标识
            URL-friendly unique identifier
        description:
          type: string
          description: |-
            组织描述
            Organization description
        logoUrl:
          type: string
          description: |-
            组织Logo
            Organization logo
        type:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationType'
          description: |-
            组织类型
            Organization type
        ownerId:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            组织所有者用户ID
            Organization owner user ID
        status:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationStatus'
          description: |-
            状态
            Status
        settings:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationSettings'
          description: |-
            组织设置
            Organization settings
        memberCount:
          type: integer
          format: int32
          description: |-
            成员数量
            Member count
        workspaceCount:
          type: integer
          format: int32
          description: |-
            工作区数量
            Workspace count
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
      description: |-
        组织模型
        Organization model

        组织是用户协作的基本单元，每个用户注册后自动创建一个个人组织。
        Organization is the basic unit of user collaboration. Each user automatically creates a personal organization upon registration.
    Tenant.OrganizationDetail:
      type: object
      properties:
        currentUserRole:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationRole'
          description: |-
            当前用户的角色
            Current user's role
        owner:
          allOf:
            - $ref: '#/components/schemas/Tenant.User'
          description: |-
            所有者信息
            Owner info
      allOf:
        - $ref: '#/components/schemas/Tenant.Organization'
      description: |-
        组织详情
        Organization detail

        扩展的组织信息，包含当前用户角色和所有者信息。
        Extended organization info including current user's role and owner info.
    Tenant.OrganizationMember:
      type: object
      required:
        - id
        - organizationId
        - userId
        - role
        - status
        - joinedAt
        - updatedAt
      properties:
        id:
          type: string
          description: |-
            成员记录唯一标识
            Member record unique identifier
        organizationId:
          type: string
          description: |-
            所属组织ID
            Organization ID
        userId:
          type: string
          description: |-
            用户ID
            User ID
        user:
          allOf:
            - $ref: '#/components/schemas/Tenant.User'
          description: |-
            用户信息（可选包含）
            User info (optionally included)
        role:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationRole'
          description: |-
            角色
            Role
        status:
          allOf:
            - $ref: '#/components/schemas/Tenant.MemberStatus'
          description: |-
            状态
            Status
        joinedAt:
          type: string
          description: |-
            加入时间
            Joined at
        invitedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            邀请人用户ID
            Inviter user ID
        approvedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            批准人用户ID
            Approver user ID
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
      description: |-
        组织成员模型
        Organization member model

        表示用户在组织中的成员关系和权限。
        Represents user's membership and permissions in an organization.
    Tenant.OrganizationRole:
      type: string
      enum:
        - owner
        - admin
        - member
        - guest
      description: |-
        组织角色枚举
        Organization role enum
    Tenant.OrganizationSettings:
      type: object
      properties:
        allowPublicJoin:
          type: boolean
          description: |-
            是否允许公开加入
            Whether to allow public join
        requireApproval:
          type: boolean
          description: |-
            加入是否需要审批
            Whether join requires approval
        inviteExpireDays:
          type: integer
          format: int32
          description: |-
            邀请链接有效期（天）
            Invitation link expiration days
        defaultRole:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationRole'
          description: |-
            新成员默认角色
            Default role for new members
        allowedDomains:
          type: array
          items:
            type: string
          description: |-
            允许的邮箱域名白名单
            Allowed email domains whitelist
      description: |-
        组织设置
        Organization settings
    Tenant.OrganizationStatus:
      type: string
      enum:
        - active
        - suspended
        - archived
      description: |-
        组织状态枚举
        Organization status enum
    Tenant.OrganizationType:
      type: string
      enum:
        - personal
        - team
        - enterprise
      description: |-
        组织类型枚举
        Organization type enum
    Tenant.RejectJoinRequestRequest:
      type: object
      required:
        - reviewNote
      properties:
        reviewNote:
          type: string
          description: |-
            拒绝原因
            Rejection reason
      description: |-
        拒绝加入申请请求
        Reject join request
    Tenant.UpdateOrganizationMemberRequest:
      type: object
      properties:
        role:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationRole'
          description: |-
            新角色
            New role
        status:
          allOf:
            - $ref: '#/components/schemas/Tenant.MemberStatus'
          description: |-
            状态
            Status
      description: |-
        更新组织成员请求
        Update organization member request
    Tenant.UpdateOrganizationRequest:
      type: object
      properties:
        name:
          type: string
          description: |-
            组织名称
            Organization name
        displayName:
          type: string
          description: |-
            显示名称
            Display name
        description:
          type: string
          description: |-
            组织描述
            Organization description
        logoUrl:
          type: string
          description: |-
            Logo URL
            Logo URL
        settings:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationSettings'
          description: |-
            组织设置
            Organization settings
      description: |-
        更新组织请求
        Update organization request
    Tenant.UpdateUserRequest:
      type: object
      properties:
        displayName:
          type: string
          description: |-
            显示名称
            Display name
        avatarUrl:
          type: string
          description: |-
            头像URL
            Avatar URL
        locale:
          type: string
          description: |-
            语言偏好
            Language preference
        timezone:
          type: string
          description: |-
            时区
            Timezone
        defaultOrganizationId:
          type: string
          description: |-
            默认组织ID
            Default organization ID
        defaultWorkspaceId:
          type: string
          description: |-
            默认工作区ID
            Default workspace ID
      description: |-
        更新用户请求
        Update user request
    Tenant.UpdateWorkspaceMemberRequest:
      type: object
      properties:
        role:
          allOf:
            - $ref: '#/components/schemas/Tenant.WorkspaceRole'
          description: |-
            新角色
            New role
        status:
          allOf:
            - $ref: '#/components/schemas/Tenant.MemberStatus'
          description: |-
            状态
            Status
      description: |-
        更新工作区成员请求
        Update workspace member request
    Tenant.UpdateWorkspaceRequest:
      type: object
      properties:
        name:
          type: string
          description: |-
            工作区名称
            Workspace name
        description:
          type: string
          description: |-
            工作区描述
            Workspace description
        icon:
          type: string
          description: |-
            工作区图标
            Workspace icon
        color:
          type: string
          description: |-
            主题颜色
            Theme color
        visibility:
          allOf:
            - $ref: '#/components/schemas/Tenant.WorkspaceVisibility'
          description: |-
            可见性
            Visibility
        dataSourceReferences:
          type: array
          items:
            $ref: '#/components/schemas/Tenant.DataSourceReference'
          description: |-
            数据源引用配置
            Data source reference configuration

            允许工作区引用其他工作区的特定 document type 数据。
            Allows workspace to reference specific document types from other workspaces.
      description: |-
        更新工作区请求
        Update workspace request
    Tenant.User:
      type: object
      required:
        - id
        - email
        - status
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: |-
            用户唯一标识
            User unique identifier
        username:
          type: string
          description: |-
            用户名（可用于登录）
            Username (can be used for login)
        email:
          type: string
          description: |-
            邮箱地址（主要标识）
            Email address (primary identifier)
        emailVerified:
          type: boolean
          description: |-
            邮箱是否已验证
            Whether email is verified
        displayName:
          type: string
          description: |-
            显示名称
            Display name
        avatarUrl:
          type: string
          description: |-
            头像URL
            Avatar URL
        locale:
          type: string
          description: |-
            语言偏好（zh-CN, en-US等）
            Language preference (zh-CN, en-US, etc.)
        timezone:
          type: string
          description: |-
            时区
            Timezone
        status:
          allOf:
            - $ref: '#/components/schemas/Tenant.UserStatus'
          description: |-
            用户状态
            User status
        defaultOrganizationId:
          type: string
          description: |-
            默认组织ID
            Default organization ID
        defaultWorkspaceId:
          type: string
          description: |-
            当前活动工作区ID
            Current active workspace ID
        createdAt:
          type: string
          description: |-
            创建时间（ISO 8601）
            Created at (ISO 8601)
        updatedAt:
          type: string
          description: |-
            更新时间（ISO 8601）
            Updated at (ISO 8601)
        lastLoginAt:
          type: string
          description: |-
            最后登录时间
            Last login at
      description: |-
        用户模型
        User model

        用户是系统中最基础的身份实体，支持多种登录方式。
        User is the fundamental identity entity in the system, supporting multiple login methods.
    Tenant.UserOrganizationMembership:
      type: object
      required:
        - organization
        - membership
      properties:
        organization:
          allOf:
            - $ref: '#/components/schemas/Tenant.Organization'
          description: |-
            组织信息
            Organization info
        membership:
          allOf:
            - $ref: '#/components/schemas/Tenant.OrganizationMember'
          description: |-
            成员信息
            Membership info
      description: |-
        用户组织成员信息
        User organization membership

        包含用户在组织中的角色和状态信息。
        Includes user's role and status in the organization.
    Tenant.UserStatus:
      type: string
      enum:
        - active
        - suspended
        - deleted
      description: |-
        用户状态枚举
        User status enum
    Tenant.Workspace:
      type: object
      required:
        - id
        - organizationId
        - name
        - slug
        - isDefault
        - visibility
        - ownerId
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          description: |-
            工作区唯一标识
            Workspace unique identifier
        organizationId:
          type: string
          description: |-
            所属组织ID
            Organization ID
        name:
          type: string
          description: |-
            工作区名称
            Workspace name
        slug:
          type: string
          description: |-
            URL友好标识（组织内唯一）
            URL-friendly identifier (unique within organization)
        description:
          type: string
          description: |-
            工作区描述
            Workspace description
        icon:
          type: string
          description: |-
            工作区图标
            Workspace icon
        color:
          type: string
          description: |-
            主题颜色
            Theme color
        isDefault:
          type: boolean
          description: |-
            是否为默认工作区
            Whether it's the default workspace
        visibility:
          allOf:
            - $ref: '#/components/schemas/Tenant.WorkspaceVisibility'
          description: |-
            可见性
            Visibility
        ownerId:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            工作区负责人
            Workspace owner
        dataSourceReferences:
          type: array
          items:
            $ref: '#/components/schemas/Tenant.DataSourceReference'
          description: |-
            数据源引用配置
            Data source reference configuration

            允许工作区引用其他工作区的特定 document type 数据。
            Allows workspace to reference specific document types from other workspaces.
        settings:
          type: object
          description: |-
            工作区设置
            Workspace settings
        memberCount:
          type: integer
          format: int32
          description: |-
            成员数量
            Member count
        documentCount:
          type: integer
          format: int32
          description: |-
            文档数量
            Document count
        createdAt:
          type: string
          description: |-
            创建时间
            Created at
        updatedAt:
          type: string
          description: |-
            更新时间
            Updated at
        archivedAt:
          type: string
          description: |-
            归档时间
            Archived at
      description: |-
        工作区模型
        Workspace model

        工作区是实际业务开展的容器，大部分文档操作在工作区内进行。
        Workspace is the container for actual business operations. Most document operations are performed within workspaces.
    Tenant.WorkspaceDetail:
      type: object
      properties:
        currentUserRole:
          allOf:
            - $ref: '#/components/schemas/Tenant.WorkspaceRole'
          description: |-
            当前用户的角色
            Current user's role
        owner:
          allOf:
            - $ref: '#/components/schemas/Tenant.User'
          description: |-
            负责人信息
            Owner info
      allOf:
        - $ref: '#/components/schemas/Tenant.Workspace'
      description: |-
        工作区详情
        Workspace detail

        扩展的工作区信息，包含当前用户角色。
        Extended workspace info including current user's role.
    Tenant.WorkspaceMember:
      type: object
      required:
        - id
        - workspaceId
        - userId
        - role
        - status
        - joinedAt
      properties:
        id:
          type: string
          description: |-
            成员记录唯一标识
            Member record unique identifier
        workspaceId:
          type: string
          description: |-
            工作区ID
            Workspace ID
        userId:
          type: string
          description: |-
            用户ID
            User ID
        user:
          allOf:
            - $ref: '#/components/schemas/Tenant.User'
          description: |-
            用户信息（可选包含）
            User info (optionally included)
        role:
          allOf:
            - $ref: '#/components/schemas/Tenant.WorkspaceRole'
          description: |-
            角色
            Role
        status:
          allOf:
            - $ref: '#/components/schemas/Tenant.MemberStatus'
          description: |-
            状态
            Status
        joinedAt:
          type: string
          description: |-
            加入时间
            Joined at
        addedBy:
          allOf:
            - $ref: '#/components/schemas/Common.UserRef'
          description: |-
            添加者用户ID
            Added by user ID
      description: |-
        工作区成员模型
        Workspace member model

        表示用户在特定工作区中的访问权限。
        Represents user's access permissions in a specific workspace.
    Tenant.WorkspaceRole:
      type: string
      enum:
        - owner
        - editor
        - viewer
      description: |-
        工作区角色枚举
        Workspace role enum
    Tenant.WorkspaceVisibility:
      type: string
      enum:
        - public
        - private
      description: |-
        工作区可见性枚举
        Workspace visibility enum
x-tagGroups:
  - name: Foundation (基础)
    tags:
      - Users
      - Organizations
      - Workspaces
      - Invitations
      - Join Requests
  - name: Document (文档)
    tags:
      - Document - Core
      - Document - Data
      - Document - Views
      - Document - Properties
      - Document - Relations
      - Document - Attachments
      - Document - Sync
      - Document - Collaboration
      - Document - Workflow
      - Document - Tenancy
  - name: Supply Chain (供应链协作)
    tags:
      - Catalog
      - OrderBook
      - Connection
      - Connector
  - name: Auth (认证)
    tags:
      - OAuth
      - Authentication
      - API Keys
  - name: Billing (商业化)
    tags:
      - Subscription Plans
      - Subscription Management
      - Invoices
      - Payment Methods
      - Usage & Quota
  - name: Audit (审计)
    tags:
      - Audit Logs
      - Compliance
  - name: Extensions (扩展)
    tags:
      - Webhooks
      - Internationalization
      - User Preferences
