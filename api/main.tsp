import "@typespec/http";
import "@typespec/openapi3";

import "./shared/index.tsp";
import "./auth/index.tsp";
import "./tenant/index.tsp";
import "./document/index.tsp";
import "./extensions/index.tsp";
import "./i18n/index.tsp";
import "./preferences/index.tsp";
import "./billing/index.tsp";
import "./audit/index.tsp";

using TypeSpec.Http;
using OpenAPI;

/**
 * NexusBook OpenAPI
 *
 * ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¼€æºæ–‡æ¡£ç®¡ç†å’Œæ•°æ®åä½œå¹³å° APIã€‚
 *
 * ## ä¸»è¦åŠŸèƒ½æ¨¡å—
 *
 * ### 1. æ–‡æ¡£ç®¡ç† (`/doc`)
 * - **å…ƒæ•°æ®** - å­—æ®µå®šä¹‰ã€ç±»å‹å’ŒéªŒè¯é…ç½®
 * - **è§†å›¾** - å¤šç§è§†å›¾ç±»å‹æ”¯æŒï¼ˆè¡¨æ ¼/ç›¸å†Œ/çœ‹æ¿/æ–‡æ¡£ï¼‰
 * - **æ•°æ®** - ç»“æ„åŒ–æ•°æ®è¡Œç®¡ç†å’ŒæŸ¥è¯¢
 * - **ä¿®è®¢** - ç‰ˆæœ¬æ§åˆ¶å’Œå†å²è®°å½•
 * - **è¯„è®º** - å¤šå±‚çº§è¯„è®ºç³»ç»Ÿï¼ˆæ–‡æ¡£çº§/å­—æ®µçº§/è¡Œçº§ï¼‰
 * - **å®¡æ‰¹** - å·¥ä½œæµå®¡æ‰¹æµç¨‹
 * - **è¯·æ±‚** - å˜æ›´è¯·æ±‚å’Œåˆå¹¶æœºåˆ¶
 * - **è®¾ç½®** - æ–‡æ¡£çº§å’Œç±»å‹çº§é…ç½®
 *
 * ### 2. è®¤è¯ä¸æˆæƒ (`/auth`)
 * - OAuth2 å®¢æˆ·ç«¯åº”ç”¨ç®¡ç†
 * - OIDC èº«ä»½æä¾›å•†é›†æˆ
 * - JWT ä»¤ç‰Œç®¡ç†
 * - ç”¨æˆ·ä¿¡æ¯å’Œæƒé™
 *
 * ### 3. æ‰©å±•åŠŸèƒ½ (`/webhooks`)
 * - **Webhooks** - äº‹ä»¶é©±åŠ¨çš„é€šçŸ¥æœºåˆ¶
 * - æ”¯æŒ Requestã€Approvalã€Commentã€Metadataã€View ç­‰äº‹ä»¶
 * - è‡ªåŠ¨é‡è¯•å’Œç­¾åéªŒè¯
 * - æŠ•é€’å†å²å’Œç»Ÿè®¡
 *
 * ## API è°ƒç”¨ç¤ºä¾‹
 *
 * ```bash
 * # è·å–èšåˆæ–‡æ¡£åŒ…
 * curl -H 'Authorization: Bearer TOKEN' \
 *   'https://open.nexusbook.app/api/v1/doc/product/123?include=metadata,views,data'
 *
 * # åˆ›å»ºæ•°æ®è¡Œ
 * curl -X POST 'https://open.nexusbook.app/api/v1/doc/product/123/data' \
 *   -H 'Authorization: Bearer TOKEN' \
 *   -H 'Content-Type: application/json' \
 *   -d '{"id":"row-1","values":[{"fieldId":"name","value":{"text":"æ–°äº§å“"}}]}'
 * ```
 *
 * ## è®¤è¯
 *
 * æ‰€æœ‰ API è¯·æ±‚éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«æœ‰æ•ˆçš„ Bearer Tokenï¼š
 * ```
 * Authorization: Bearer <access_token>
 * ```
 *
 * è·å– Token çš„æ–¹å¼ï¼š
 * 1. ä½¿ç”¨å®¢æˆ·ç«¯å‡­è¯æµç¨‹: POST /auth/token
 * 2. ä½¿ç”¨æˆæƒç æµç¨‹: GET /auth/authorize + POST /auth/token
 *
 * ## é”™è¯¯å¤„ç†
 *
 * æ‰€æœ‰é”™è¯¯å“åº”éµå¾ªç»Ÿä¸€çš„æ ¼å¼ï¼š
 * ```json
 * {
 *   "success": false,
 *   "code": "ERROR_CODE",
 *   "message": {
 *     "zh": "é”™è¯¯ä¿¡æ¯ï¼ˆä¸­æ–‡ï¼‰",
 *     "en": "Error message (English)"
 *   }
 * }
 * ```
 *
 * ## åˆ†é¡µå’ŒæŸ¥è¯¢
 *
 * æ”¯æŒå¤šç§æŸ¥è¯¢æ–¹å¼ï¼š
 * - ç®€å•åˆ†é¡µï¼š`page`, `pageSize`
 * - é«˜çº§æŸ¥è¯¢ï¼šåµŒå¥—è¿‡æ»¤ã€æ’åºã€åˆ†ç»„å’Œèšåˆ
 * - æ¸¸æ ‡åˆ†é¡µï¼šç”¨äºæ·±åˆ†é¡µåœºæ™¯
 *
 * ## å¹¶å‘æ§åˆ¶
 *
 * æ•°æ®è¡Œä½¿ç”¨ç‰ˆæœ¬å· (version) è¿›è¡Œå¹¶å‘æ§åˆ¶ã€‚æ›´æ–°æ—¶éœ€è¦æä¾›å½“å‰ç‰ˆæœ¬å·ã€‚
 */
@server("Open", "https://open.nexusbook.app")
@service(#{ title: "NexusBook OpenAPI" })
namespace NexusBook.Api {
/**
 * API æ–‡æ¡£å…¥å£
 *
 * æ¬¢è¿ä½¿ç”¨ NexusBook OpenAPIï¼æœ¬ API æä¾›å®Œæ•´çš„æ–‡æ¡£ç®¡ç†å’Œæ•°æ®åä½œèƒ½åŠ›ã€‚
 *
 * - ğŸ“š **æ–‡æ¡£**: å®Œæ•´çš„ API æ–‡æ¡£è¯·è®¿é—® https://docs.nexusbook.app
 * - ğŸ” **è®¤è¯**: è¯¦è§æœ¬æ–‡æ¡£é¡¶éƒ¨çš„è®¤è¯è¯´æ˜
 * - ğŸš€ **å¿«é€Ÿå¼€å§‹**: æŸ¥çœ‹ API è°ƒç”¨ç¤ºä¾‹
 * - ğŸ’¡ **æœ€ä½³å®è·µ**: å‚è€ƒé”™è¯¯å¤„ç†å’Œå¹¶å‘æ§åˆ¶ç« èŠ‚
 */

}

/**
 * NexusBook Auth API
 *
 * OAuth2 å’Œ OIDC å…¼å®¹çš„èº«ä»½è®¤è¯å’ŒæˆæƒæœåŠ¡ã€‚
 *
 * æ”¯æŒä»¥ä¸‹è®¤è¯æµç¨‹ï¼š
 * - OAuth2 æˆæƒç æµç¨‹
 * - OAuth2 å®¢æˆ·ç«¯å‡­è¯æµç¨‹
 * - OIDC èº«ä»½æä¾›å•†é›†æˆ
 *
 * æ ‡å‡† OIDC å‘ç°ç«¯ç‚¹: /.well-known/openid-configuration
 */
@server("Auth", "https://auth.nexusbook.app")
@service(#{ title: "NexusBook Auth API" })
namespace NexusBook.Auth {
/**
 * è®¤è¯æœåŠ¡å…¥å£
 *
 * æä¾› OAuth2 å’Œ OIDC å…¼å®¹çš„èº«ä»½è®¤è¯æœåŠ¡ã€‚
 */

}
