import "@typespec/http";
import "@typespec/openapi3";

import "./shared/index.tsp";
import "./auth/index.tsp";
import "./tenant/index.tsp";
import "./document/index.tsp";
import "./extensions/index.tsp";
import "./i18n/index.tsp";
import "./preferences/index.tsp";
import "./billing/index.tsp";
import "./audit/index.tsp";

using TypeSpec.Http;
using OpenAPI;

/**
 * NexusBook OpenAPI
 *
 * ğŸš€ **NexusBook** æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¼€æºæ–‡æ¡£ç®¡ç†å’Œæ•°æ®åä½œå¹³å°ï¼Œä¸ºä¼ä¸šæä¾›çµæ´»çš„ç»“æ„åŒ–æ•°æ®ç®¡ç†ã€å®æ—¶åä½œå’Œä¾›åº”é“¾æ•°æ®ååŒèƒ½åŠ›ã€‚
 *
 * ---
 *
 * ## âœ¨ æ ¸å¿ƒç‰¹æ€§
 *
 * ### ğŸ“‹ çµæ´»çš„æ–‡æ¡£æ¨¡å‹
 * - **25+ ç§å­—æ®µç±»å‹**ï¼šæ–‡æœ¬ã€æ•°å­—ã€æ—¥æœŸã€é™„ä»¶ã€å…³è”ç­‰
 * - **å¤šè§†å›¾æ”¯æŒ**ï¼šè¡¨æ ¼ã€ç›¸å†Œã€çœ‹æ¿ã€æ—¥å†ã€æ–‡æ¡£è§†å›¾
 * - **è‡ªå®šä¹‰å­—æ®µ**ï¼šæ”¯æŒä¸åŒè¡Œä¸šçš„ä¸ªæ€§åŒ–æ‰©å±•
 * - **ç‰ˆæœ¬æ§åˆ¶**ï¼šå®Œæ•´çš„ä¿®è®¢å†å²å’Œå›æº¯èƒ½åŠ›
 *
 * ### ğŸ¤ å®æ—¶åä½œ
 * - **å¤šå±‚çº§è¯„è®º**ï¼šæ–‡æ¡£çº§ã€å­—æ®µçº§ã€è¡Œçº§è¯„è®ºç³»ç»Ÿ
 * - **å®¡æ‰¹å·¥ä½œæµ**ï¼šå¯é…ç½®çš„å˜æ›´å®¡æ‰¹æµç¨‹
 * - **è¯·æ±‚ä¸åˆå¹¶**ï¼šç±» Git çš„æ•°æ®å˜æ›´ç®¡ç†
 * - **å¹¶å‘æ§åˆ¶**ï¼šåŸºäºç‰ˆæœ¬å·çš„ä¹è§‚é”æœºåˆ¶
 *
 * ### ğŸ”— ä¾›åº”é“¾æ•°æ®ååŒ
 * - **Catalogï¼ˆå•†å“ç›®å½•ï¼‰**ï¼šä¾›åº”å•†ç®¡ç†å•†å“æ•°æ®ï¼Œæ”¯æŒè¡Œä¸šè‡ªå®šä¹‰å­—æ®µ
 * - **OrderBookï¼ˆè®¢è´§æœ¬ï¼‰**ï¼šé‡‡è´­å•†åŸºäº Connection åˆ›å»ºè®¢è´§è§†å›¾
 * - **Connectionï¼ˆè¿æ¥ï¼‰**ï¼šä¾›åº”å•†ä¸é‡‡è´­å•†çš„æ•°æ®å…±äº«é€šé“
 * - **å­—æ®µæ˜ å°„**ï¼šæ”¯æŒç±»å‹è½¬æ¢ã€å•ä½è½¬æ¢ã€é€‰é¡¹æ˜ å°„ç­‰ 8 ç§è½¬æ¢ç±»å‹
 * - **æ™ºèƒ½è¿‡æ»¤**ï¼šåµŒå¥—æ¡ä»¶ç»„å’Œè‡ªåŠ¨æ¥å—/æ‹’ç»è§„åˆ™
 * - **ä¸­é—´å•†æ”¯æŒ**ï¼šäºŒçº§åˆ†é”€å’Œå¤šçº§æ•°æ®ä¼ å¯¼
 *
 * ### ğŸ”Œ æ‰©å±•èƒ½åŠ›
 * - **Webhooks**ï¼šäº‹ä»¶é©±åŠ¨çš„é€šçŸ¥æœºåˆ¶
 * - **è‡ªåŠ¨åŒ–é›†æˆ**ï¼šæ”¯æŒ Zapierã€Make ç­‰è‡ªåŠ¨åŒ–å¹³å°
 * - **API Keys**ï¼šå®‰å…¨çš„æœåŠ¡é—´è°ƒç”¨
 * - **OAuth2/OIDC**ï¼šä¼ä¸šçº§èº«ä»½è®¤è¯é›†æˆ
 *
 * ---
 *
 * ## ğŸ—ï¸ API æ¶æ„
 *
 * ### ä¸»è¦å‘½åç©ºé—´
 *
 * #### 1ï¸âƒ£ æ–‡æ¡£ç®¡ç† (`/api/v1/doc`)
 * - **Metadataï¼ˆå…ƒæ•°æ®ï¼‰**ï¼šå­—æ®µå®šä¹‰ã€ç±»å‹é…ç½®ã€éªŒè¯è§„åˆ™
 * - **Viewsï¼ˆè§†å›¾ï¼‰**ï¼šè¡¨æ ¼/ç›¸å†Œ/çœ‹æ¿/æ—¥å†/æ–‡æ¡£è§†å›¾ç®¡ç†
 * - **Dataï¼ˆæ•°æ®ï¼‰**ï¼šç»“æ„åŒ–æ•°æ®è¡Œçš„ CRUD æ“ä½œ
 * - **Revisionsï¼ˆä¿®è®¢ï¼‰**ï¼šç‰ˆæœ¬å†å²å’Œå›æº¯
 * - **Commentsï¼ˆè¯„è®ºï¼‰**ï¼šå¤šå±‚çº§è¯„è®ºç³»ç»Ÿ
 * - **Approvalsï¼ˆå®¡æ‰¹ï¼‰**ï¼šå·¥ä½œæµå®¡æ‰¹ç®¡ç†
 * - **Requestsï¼ˆè¯·æ±‚ï¼‰**ï¼šå˜æ›´è¯·æ±‚å’Œåˆå¹¶
 * - **Settingsï¼ˆè®¾ç½®ï¼‰**ï¼šæ–‡æ¡£çº§å’Œç±»å‹çº§é…ç½®
 *
 * #### 2ï¸âƒ£ ä¾›åº”é“¾ååŒ (`/api/v1/organizations/{orgId}`)
 * - **Catalog**ï¼šå•†å“ç›®å½•ç®¡ç†ï¼Œæ”¯æŒè‡ªå®šä¹‰å­—æ®µ
 * - **OrderBook**ï¼šè®¢è´§æœ¬ç®¡ç†ï¼ŒåŸºäº Connection è‡ªåŠ¨ç”Ÿæˆ
 * - **Connection**ï¼šä¾›åº”å•†-é‡‡è´­å•†æ•°æ®è¿æ¥ï¼ˆOutboundï¼‰
 * - **Binding**ï¼šè®¢è´§æœ¬æ•°æ®ç»‘å®šé…ç½®ï¼ˆInboundï¼‰ï¼Œæ”¯æŒå­—æ®µæ˜ å°„å’Œæ¥æ”¶è¿‡æ»¤
 * - **Connector**ï¼šç»„ç»‡å†…æ–‡æ¡£è½¬æ¢å™¨ï¼ˆOrderBook â†’ Catalogï¼‰
 *
 * #### 3ï¸âƒ£ ç§Ÿæˆ·ç®¡ç† (`/api/v1/users`, `/api/v1/organizations`, `/api/v1/workspaces`)
 * - **Users**ï¼šç”¨æˆ·ä¿¡æ¯å’Œåå¥½è®¾ç½®
 * - **Organizations**ï¼šç»„ç»‡ç®¡ç†å’Œæˆå‘˜é‚€è¯·
 * - **Workspaces**ï¼šå·¥ä½œåŒºç®¡ç†å’Œæƒé™æ§åˆ¶
 *
 * #### 4ï¸âƒ£ æ‰©å±•åŠŸèƒ½
 * - **Webhooks** (`/api/v1/webhooks`)ï¼šäº‹ä»¶è®¢é˜…å’ŒæŠ•é€’ç®¡ç†
 * - **I18n** (`/api/v1/i18n`)ï¼šå›½é™…åŒ–ç¿»è¯‘æœåŠ¡
 * - **Billing** (`/api/v1/billing`)ï¼šè®¢é˜…å’Œè®¡è´¹ç®¡ç†
 * - **Audit** (`/api/v1/audit`)ï¼šå®¡è®¡æ—¥å¿—æŸ¥è¯¢
 *
 * ---
 *
 * ## ğŸš€ å¿«é€Ÿå¼€å§‹
 *
 * ### è®¤è¯
 *
 * æ‰€æœ‰ API è¯·æ±‚éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«æœ‰æ•ˆçš„ Bearer Tokenï¼š
 *
 * ```http
 * Authorization: Bearer <access_token>
 * ```
 *
 * **è·å– Token çš„æ–¹å¼**ï¼š
 * 1. **å®¢æˆ·ç«¯å‡­è¯æµç¨‹**ï¼ˆæœåŠ¡é—´è°ƒç”¨ï¼‰ï¼š`POST /auth/token`
 * 2. **æˆæƒç æµç¨‹**ï¼ˆç”¨æˆ·æˆæƒï¼‰ï¼š`GET /auth/authorize` â†’ `POST /auth/token`
 * 3. **API Keys**ï¼šé€‚ç”¨äº Webhook éªŒè¯å’Œè‡ªåŠ¨åŒ–é›†æˆ
 *
 * ### åŸºç¡€è°ƒç”¨ç¤ºä¾‹
 *
 * ```bash
 * # 1. è·å–èšåˆæ–‡æ¡£åŒ…ï¼ˆåŒ…å«å…ƒæ•°æ®ã€è§†å›¾å’Œæ•°æ®ï¼‰
 * curl -H 'Authorization: Bearer TOKEN' \
 *   'https://open.nexusbook.app/api/v1/doc/product/doc-123?include=metadata,views,data'
 *
 * # 2. åˆ›å»ºæ•°æ®è¡Œ
 * curl -X POST 'https://open.nexusbook.app/api/v1/doc/product/doc-123/data' \
 *   -H 'Authorization: Bearer TOKEN' \
 *   -H 'Content-Type: application/json' \
 *   -d '{
 *     "id": "row-1",
 *     "values": [
 *       {"fieldId": "name", "value": {"text": "iPhone 15 Pro"}},
 *       {"fieldId": "price", "value": {"number": 7999}},
 *       {"fieldId": "stock", "value": {"number": 100}}
 *     ]
 *   }'
 *
 * # 3. æŸ¥è¯¢æ•°æ®ï¼ˆé«˜çº§æŸ¥è¯¢ï¼‰
 * curl -X POST 'https://open.nexusbook.app/api/v1/doc/product/doc-123/data/query' \
 *   -H 'Authorization: Bearer TOKEN' \
 *   -H 'Content-Type: application/json' \
 *   -d '{
 *     "filter": {
 *       "and": [
 *         {"field": "price", "op": "gte", "value": 5000},
 *         {"field": "stock", "op": "gt", "value": 0}
 *       ]
 *     },
 *     "sort": [{"field": "price", "order": "desc"}],
 *     "page": 1,
 *     "pageSize": 20
 *   }'
 * ```
 *
 * ### ä¾›åº”é“¾ååŒç¤ºä¾‹
 *
 * ```bash
 * # 1. ä¾›åº”å•†åˆ›å»º Catalog
 * curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs' \
 *   -H 'Authorization: Bearer TOKEN' \
 *   -d '{
 *     "name": "ç”µå­äº§å“ç›®å½•",
 *     "catalogType": "product",
 *     "fields": [
 *       {"name": "å“ç‰Œ", "type": "text", "required": true},
 *       {"name": "å‹å·", "type": "text", "required": true},
 *       {"name": "ä»·æ ¼", "type": "currency", "required": true}
 *     ]
 *   }'
 *
 * # 2. ä¾›åº”å•†åˆ›å»º Connection å¹¶åˆ†äº«
 * curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-123/catalogs/cat-456/connections' \
 *   -H 'Authorization: Bearer TOKEN' \
 *   -d '{
 *     "name": "åä¸œåœ°åŒºåˆ†é”€å•†",
 *     "shareScope": {"type": "all"},
 *     "accessControl": "public"
 *   }'
 *
 * # 3. é‡‡è´­å•†æ¥å—è¿æ¥å¹¶åˆ›å»º OrderBook
 * curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-789/orderbooks' \
 *   -H 'Authorization: Bearer TOKEN' \
 *   -d '{
 *     "name": "ä¾›åº”å•†Aè®¢è´§æœ¬",
 *     "sourceConnectionIds": ["conn-111"]
 *   }'
 *
 * # 4. é‡‡è´­å•†é…ç½® Bindingï¼ˆå­—æ®µæ˜ å°„å’Œè¿‡æ»¤ï¼‰
 * curl -X POST 'https://open.nexusbook.app/api/v1/organizations/org-789/orderbooks/ob-222/bindings' \
 *   -H 'Authorization: Bearer TOKEN' \
 *   -d '{
 *     "connectionId": "conn-111",
 *     "fieldMapping": [
 *       {"sourceFieldId": "price", "targetFieldId": "cost", "transformType": "unit_convert",
 *        "unitConversion": {"fromUnit": "USD", "toUnit": "CNY", "rate": 7.2}}
 *     ],
 *     "receiverFilter": {
 *       "acceptMode": "selective",
 *       "filterGroup": {
 *         "operator": "AND",
 *         "conditions": [{"field": "price", "op": "lte", "value": 10000}]
 *       }
 *     }
 *   }'
 * ```
 *
 * ---
 *
 * ## ğŸ“– æ ¸å¿ƒæ¦‚å¿µ
 *
 * ### æ–‡æ¡£åŒ…ï¼ˆDocument Packageï¼‰
 *
 * NexusBook çš„æ–‡æ¡£åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š
 * - **Metadata**ï¼šå®šä¹‰æ–‡æ¡£ç»“æ„ï¼ˆå­—æ®µã€ç±»å‹ã€éªŒè¯è§„åˆ™ï¼‰
 * - **Views**ï¼šå®šä¹‰æ•°æ®å±•ç¤ºæ–¹å¼ï¼ˆè¡¨æ ¼ã€çœ‹æ¿ã€ç›¸å†Œç­‰ï¼‰
 * - **Data**ï¼šå®é™…çš„ç»“æ„åŒ–æ•°æ®è¡Œ
 *
 * ### å¹¶å‘æ§åˆ¶
 *
 * æ‰€æœ‰æ•°æ®è¡Œæ›´æ–°æ“ä½œä½¿ç”¨**ç‰ˆæœ¬å·ï¼ˆversionï¼‰**è¿›è¡Œä¹è§‚é”æ§åˆ¶ï¼š
 * ```json
 * {
 *   "id": "row-1",
 *   "version": 3,  // å¿…é¡»æä¾›å½“å‰ç‰ˆæœ¬å·
 *   "values": [...]
 * }
 * ```
 * å¦‚æœç‰ˆæœ¬å·ä¸åŒ¹é…ï¼ŒAPI å°†è¿”å› `409 Conflict` é”™è¯¯ã€‚
 *
 * ### é”™è¯¯å¤„ç†
 *
 * æ‰€æœ‰é”™è¯¯å“åº”éµå¾ªç»Ÿä¸€æ ¼å¼ï¼š
 * ```json
 * {
 *   "success": false,
 *   "code": "ERROR_CODE",
 *   "message": {
 *     "zh": "é”™è¯¯ä¿¡æ¯ï¼ˆä¸­æ–‡ï¼‰",
 *     "en": "Error message (English)"
 *   },
 *   "details": {  // å¯é€‰ï¼Œæä¾›é¢å¤–çš„é”™è¯¯ä¸Šä¸‹æ–‡
 *     "field": "price",
 *     "reason": "validation_failed"
 *   }
 * }
 * ```
 *
 * **å¸¸è§é”™è¯¯ç **ï¼š
 * - `UNAUTHORIZED`ï¼šæœªæˆæƒæˆ– Token æ— æ•ˆ
 * - `FORBIDDEN`ï¼šæƒé™ä¸è¶³
 * - `NOT_FOUND`ï¼šèµ„æºä¸å­˜åœ¨
 * - `VALIDATION_ERROR`ï¼šè¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥
 * - `CONFLICT`ï¼šå¹¶å‘å†²çªï¼ˆç‰ˆæœ¬å·ä¸åŒ¹é…ï¼‰
 * - `RATE_LIMIT_EXCEEDED`ï¼šè¯·æ±‚é¢‘ç‡è¶…é™
 *
 * ### åˆ†é¡µå’ŒæŸ¥è¯¢
 *
 * #### ç®€å•åˆ†é¡µ
 * ```http
 * GET /api/v1/doc/product/doc-123/data?page=1&pageSize=20
 * ```
 *
 * #### é«˜çº§æŸ¥è¯¢ï¼ˆPOST æ–¹å¼ï¼‰
 * æ”¯æŒå¤æ‚è¿‡æ»¤ã€æ’åºã€åˆ†ç»„å’Œèšåˆï¼š
 * ```json
 * {
 *   "filter": {
 *     "and": [
 *       {"field": "status", "op": "eq", "value": "active"},
 *       {"or": [
 *         {"field": "category", "op": "eq", "value": "electronics"},
 *         {"field": "category", "op": "eq", "value": "computers"}
 *       ]}
 *     ]
 *   },
 *   "sort": [{"field": "createdAt", "order": "desc"}],
 *   "page": 1,
 *   "pageSize": 20
 * }
 * ```
 *
 * #### æ¸¸æ ‡åˆ†é¡µï¼ˆæ·±åˆ†é¡µåœºæ™¯ï¼‰
 * ```http
 * GET /api/v1/doc/product/doc-123/data?cursor=eyJ...&limit=100
 * ```
 *
 * ---
 *
 * ## ğŸ”— ç›¸å…³èµ„æº
 *
 * - ğŸ“š **å®Œæ•´æ–‡æ¡£**ï¼šhttps://docs.nexusbook.app
 * - ğŸš€ **å¿«é€Ÿå¼€å§‹æŒ‡å—**ï¼šhttps://docs.nexusbook.app/guides/getting-started
 * - ğŸ“˜ **Catalog-OrderBook æ•°æ®ååŒå‚è€ƒ**ï¼šhttps://docs.nexusbook.app/references/catalog-orderbook-sync
 * - ğŸ” **è®¤è¯æˆæƒæŒ‡å—**ï¼šhttps://docs.nexusbook.app/guides/authentication
 * - ğŸ“‹ **å­—æ®µç±»å‹å‚è€ƒ**ï¼šhttps://docs.nexusbook.app/references/field-types
 * - âŒ **é”™è¯¯ç å‚è€ƒ**ï¼šhttps://docs.nexusbook.app/references/error-codes
 * - ğŸŒ **GitHub ä»“åº“**ï¼šhttps://github.com/nexusbook/nexusbook-api
 * - ğŸ’¬ **ç¤¾åŒºæ”¯æŒ**ï¼šhttps://community.nexusbook.app
 *
 * ---
 *
 * ## ğŸ“Š API ç‰ˆæœ¬ä¸ç¯å¢ƒ
 *
 * - **å½“å‰ç‰ˆæœ¬**ï¼šv1
 * - **ç”Ÿäº§ç¯å¢ƒ**ï¼šhttps://open.nexusbook.app
 * - **æµ‹è¯•ç¯å¢ƒ**ï¼šhttps://open-sit.nexusbook.com
 * - **è®¤è¯æœåŠ¡**ï¼šhttps://auth.nexusbook.app
 *
 * ---
 *
 * **éœ€è¦å¸®åŠ©ï¼Ÿ** è¯·è®¿é—®æˆ‘ä»¬çš„[æ–‡æ¡£ä¸­å¿ƒ](https://docs.nexusbook.app)æˆ–åŠ å…¥[å¼€å‘è€…ç¤¾åŒº](https://community.nexusbook.app)ã€‚
 */
@server("https://open.nexusbook.app", "ç”Ÿäº§ç¯å¢ƒ (Production)")
@server("https://open-sit.nexusbook.com", "æµ‹è¯•ç¯å¢ƒ (SIT)")
@service(#{ title: "NexusBook OpenAPI" })
namespace NexusBook.Api {}


/**
 * NexusBook Auth API
 *
 * OAuth2 å’Œ OIDC å…¼å®¹çš„èº«ä»½è®¤è¯å’ŒæˆæƒæœåŠ¡ã€‚
 *
 * æ”¯æŒä»¥ä¸‹è®¤è¯æµç¨‹ï¼š
 * - OAuth2 æˆæƒç æµç¨‹
 * - OAuth2 å®¢æˆ·ç«¯å‡­è¯æµç¨‹
 * - OIDC èº«ä»½æä¾›å•†é›†æˆ
 *
 * æ ‡å‡† OIDC å‘ç°ç«¯ç‚¹: /.well-known/openid-configuration
 */
@server("https://auth.nexusbook.app", "ç”Ÿäº§ç¯å¢ƒè®¤è¯æœåŠ¡ (Production Auth)")
@server("https://auth-sit.nexusbook.com", "æµ‹è¯•ç¯å¢ƒè®¤è¯æœåŠ¡ (SIT Auth)")
@service(#{ title: "NexusBook Auth API" })
namespace NexusBook.Auth {
/**
 * è®¤è¯æœåŠ¡å…¥å£
 *
 * æä¾› OAuth2 å’Œ OIDC å…¼å®¹çš„èº«ä»½è®¤è¯æœåŠ¡ã€‚
 */

}
